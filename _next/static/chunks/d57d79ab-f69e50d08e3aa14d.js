"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{73834:function(a,b){Object.defineProperty(b,"__esModule",{value:!0});const c=!0,d=!0,e=!0,f=!0,g=!0;class h{constructor(i,j={}){this.label=void 0,this.keyword=void 0,this.beforeExpr=void 0,this.startsExpr=void 0,this.rightAssociative=void 0,this.isLoop=void 0,this.isAssign=void 0,this.prefix=void 0,this.postfix=void 0,this.binop=void 0,this.updateContext=void 0,this.label=i,this.keyword=j.keyword,this.beforeExpr=!!j.beforeExpr,this.startsExpr=!!j.startsExpr,this.rightAssociative=!!j.rightAssociative,this.isLoop=!!j.isLoop,this.isAssign=!!j.isAssign,this.prefix=!!j.prefix,this.postfix=!!j.postfix,this.binop=null!=j.binop?j.binop:null,this.updateContext=null}}const k=new Map();function l(a,b={}){b.keyword=a;const c=new h(a,b);return k.set(a,c),c}function m(a,b){return new h(a,{beforeExpr:c,binop:b})}const n={num:new h("num",{startsExpr:d}),bigint:new h("bigint",{startsExpr:d}),decimal:new h("decimal",{startsExpr:d}),regexp:new h("regexp",{startsExpr:d}),string:new h("string",{startsExpr:d}),name:new h("name",{startsExpr:d}),privateName:new h("#name",{startsExpr:d}),eof:new h("eof"),bracketL:new h("[",{beforeExpr:c,startsExpr:d}),bracketHashL:new h("#[",{beforeExpr:c,startsExpr:d}),bracketBarL:new h("[|",{beforeExpr:c,startsExpr:d}),bracketR:new h("]"),bracketBarR:new h("|]"),braceL:new h("{",{beforeExpr:c,startsExpr:d}),braceBarL:new h("{|",{beforeExpr:c,startsExpr:d}),braceHashL:new h("#{",{beforeExpr:c,startsExpr:d}),braceR:new h("}",{beforeExpr:c}),braceBarR:new h("|}"),parenL:new h("(",{beforeExpr:c,startsExpr:d}),parenR:new h(")"),comma:new h(",",{beforeExpr:c}),semi:new h(";",{beforeExpr:c}),colon:new h(":",{beforeExpr:c}),doubleColon:new h("::",{beforeExpr:c}),dot:new h("."),question:new h("?",{beforeExpr:c}),questionDot:new h("?."),arrow:new h("=>",{beforeExpr:c}),template:new h("template"),ellipsis:new h("...",{beforeExpr:c}),backQuote:new h("`",{startsExpr:d}),dollarBraceL:new h("${",{beforeExpr:c,startsExpr:d}),at:new h("@"),hash:new h("#",{startsExpr:d}),interpreterDirective:new h("#!..."),eq:new h("=",{beforeExpr:c,isAssign:f}),assign:new h("_=",{beforeExpr:c,isAssign:f}),slashAssign:new h("_=",{beforeExpr:c,isAssign:f}),moduloAssign:new h("_=",{beforeExpr:c,isAssign:f}),incDec:new h("++/--",{prefix:g,postfix:!0,startsExpr:d}),bang:new h("!",{beforeExpr:c,prefix:g,startsExpr:d}),tilde:new h("~",{beforeExpr:c,prefix:g,startsExpr:d}),pipeline:m("|>",0),nullishCoalescing:m("??",1),logicalOR:m("||",1),logicalAND:m("&&",2),bitwiseOR:m("|",3),bitwiseXOR:m("^",4),bitwiseAND:m("&",5),equality:m("==/!=/===/!==",6),relational:m("</>/<=/>=",7),bitShift:m("<</>>/>>>",8),plusMin:new h("+/-",{beforeExpr:c,binop:9,prefix:g,startsExpr:d}),modulo:new h("%",{binop:10,startsExpr:d}),star:new h("*",{binop:10}),slash:m("/",10),exponent:new h("**",{beforeExpr:c,binop:11,rightAssociative:!0}),_break:l("break"),_case:l("case",{beforeExpr:c}),_catch:l("catch"),_continue:l("continue"),_debugger:l("debugger"),_default:l("default",{beforeExpr:c}),_do:l("do",{isLoop:e,beforeExpr:c}),_else:l("else",{beforeExpr:c}),_finally:l("finally"),_for:l("for",{isLoop:e}),_function:l("function",{startsExpr:d}),_if:l("if"),_return:l("return",{beforeExpr:c}),_switch:l("switch"),_throw:l("throw",{beforeExpr:c,prefix:g,startsExpr:d}),_try:l("try"),_var:l("var"),_const:l("const"),_while:l("while",{isLoop:e}),_with:l("with"),_new:l("new",{beforeExpr:c,startsExpr:d}),_this:l("this",{startsExpr:d}),_super:l("super",{startsExpr:d}),_class:l("class",{startsExpr:d}),_extends:l("extends",{beforeExpr:c}),_export:l("export"),_import:l("import",{startsExpr:d}),_null:l("null",{startsExpr:d}),_true:l("true",{startsExpr:d}),_false:l("false",{startsExpr:d}),_in:l("in",{beforeExpr:c,binop:7}),_instanceof:l("instanceof",{beforeExpr:c,binop:7}),_typeof:l("typeof",{beforeExpr:c,prefix:g,startsExpr:d}),_void:l("void",{beforeExpr:c,prefix:g,startsExpr:d}),_delete:l("delete",{beforeExpr:c,prefix:g,startsExpr:d})},o=/\r\n?|[\n\u2028\u2029]/,p=new RegExp(o.source,"g");function q(a){switch(a){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}const r=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,s=/(?:[^\S\n\r\u2028\u2029]|\/\/.*|\/\*.*?\*\/)*/y,t=new RegExp("(?=("+s.source+"))\\1"+/(?=[\n\r\u2028\u2029]|\/\*(?!.*?\*\/)|$)/.source,"y");function u(a){switch(a){case 9:case 11:case 12:case 32:case 160:case 5760:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}class v{constructor(w,x){this.line=void 0,this.column=void 0,this.line=w,this.column=x}}class y{constructor(z,A){this.start=void 0,this.end=void 0,this.filename=void 0,this.identifierName=void 0,this.start=z,this.end=A}}class B{constructor(){this.sawUnambiguousESM=!1,this.ambiguousScriptDifferentAst=!1}hasPlugin(C){return this.plugins.has(C)}getPluginOption(D,E){if(this.hasPlugin(D))return this.plugins.get(D)[E]}}function F(a,b){void 0===a.trailingComments?a.trailingComments=b:a.trailingComments.unshift(...b)}function G(a,b){void 0===a.innerComments?a.innerComments=b:void 0!==b&&a.innerComments.unshift(...b)}function H(a,b,c){let d=null,e=b.length;for(;null===d&&e>0;)d=b[--e];null===d||d.start>c.start?G(a,c.comments):F(d,c.comments)}class I extends B{addComment(J){this.filename&&(J.loc.filename=this.filename),this.state.comments.push(J)}processComment(K){const{commentStack:L}=this.state,M=L.length;if(0===M)return;let N=M-1;const O=L[N];O.start===K.end&&(O.leadingNode=K,N--);const{start:P}=K;for(;N>=0;N--){const Q=L[N],R=Q.end;if(R>P)Q.containingNode=K,this.finalizeComment(Q),L.splice(N,1);else{R===P&&(Q.trailingNode=K);break}}}finalizeComment(S){const{comments:T}=S;if(null!==S.leadingNode||null!==S.trailingNode)null!==S.leadingNode&&F(S.leadingNode,T),null!==S.trailingNode&&(S.trailingNode.leadingComments=T);else{const{containingNode:U,start:V}=S;if(44===this.input.charCodeAt(V-1))switch(U.type){case"ObjectExpression":case"ObjectPattern":case"RecordExpression":H(U,U.properties,S);break;case"CallExpression":case"OptionalCallExpression":H(U,U.arguments,S);break;case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":H(U,U.params,S);break;case"ArrayExpression":case"ArrayPattern":case"TupleExpression":H(U,U.elements,S);break;case"ExportNamedDeclaration":case"ImportDeclaration":H(U,U.specifiers,S);break;default:G(U,T)}else G(U,T)}}finalizeRemainingComments(){const{commentStack:W}=this.state;for(let X=W.length-1;X>=0;X--)this.finalizeComment(W[X]);this.state.commentStack=[]}resetPreviousNodeTrailingComments(Y){const{commentStack:Z}=this.state,{length:$}=Z;if(0===$)return;const _=Z[$-1];_.leadingNode===Y&&(_.leadingNode=null)}}const aa=Object.freeze({SyntaxError:"BABEL_PARSER_SYNTAX_ERROR",SourceTypeModuleError:"BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED"}),ba=da({AccessorIsGenerator:"A %0ter cannot be a generator.",ArgumentsInClass:"'arguments' is only allowed in functions and class methods.",AsyncFunctionInSingleStatementContext:"Async functions can only be declared at the top level or inside a block.",AwaitBindingIdentifier:"Can not use 'await' as identifier inside an async function.",AwaitBindingIdentifierInStaticBlock:"Can not use 'await' as identifier inside a static block.",AwaitExpressionFormalParameter:"'await' is not allowed in async function parameters.",AwaitNotInAsyncContext:"'await' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncFunction:"'await' is only allowed within async functions.",BadGetterArity:"A 'get' accesor must not have any formal parameters.",BadSetterArity:"A 'set' accesor must have exactly one formal parameter.",BadSetterRestParameter:"A 'set' accesor function argument must not be a rest parameter.",ConstructorClassField:"Classes may not have a field named 'constructor'.",ConstructorClassPrivateField:"Classes may not have a private field named '#constructor'.",ConstructorIsAccessor:"Class constructor may not be an accessor.",ConstructorIsAsync:"Constructor can't be an async function.",ConstructorIsGenerator:"Constructor can't be a generator.",DeclarationMissingInitializer:"'%0' require an initialization value.",DecoratorBeforeExport:"Decorators must be placed *before* the 'export' keyword. You can set the 'decoratorsBeforeExport' option to false to use the 'export @decorator class {}' syntax.",DecoratorConstructor:"Decorators can't be used with a constructor. Did you mean '@dec class { ... }'?",DecoratorExportClass:"Using the export keyword between a decorator and a class is not allowed. Please use `export @dec class` instead.",DecoratorSemicolon:"Decorators must not be followed by a semicolon.",DecoratorStaticBlock:"Decorators can't be used with a static block.",DeletePrivateField:"Deleting a private field is not allowed.",DestructureNamedImport:"ES2015 named imports do not destructure. Use another statement for destructuring after the import.",DuplicateConstructor:"Duplicate constructor in the same class.",DuplicateDefaultExport:"Only one default export allowed per module.",DuplicateExport:"`%0` has already been exported. Exported identifiers must be unique.",DuplicateProto:"Redefinition of __proto__ property.",DuplicateRegExpFlags:"Duplicate regular expression flag.",ElementAfterRest:"Rest element must be last element.",EscapedCharNotAnIdentifier:"Invalid Unicode escape.",ExportBindingIsString:"A string literal cannot be used as an exported binding without `from`.\n- Did you mean `export { '%0' as '%1' } from 'some-module'`?",ExportDefaultFromAsIdentifier:"'from' is not allowed as an identifier after 'export default'.",ForInOfLoopInitializer:"'%0' loop variable declaration may not have an initializer.",ForOfAsync:"The left-hand side of a for-of loop may not be 'async'.",ForOfLet:"The left-hand side of a for-of loop may not start with 'let'.",GeneratorInSingleStatementContext:"Generators can only be declared at the top level or inside a block.",IllegalBreakContinue:"Unsyntactic %0.",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list.",IllegalReturn:"'return' outside of function.",ImportBindingIsString:"A string literal cannot be used as an imported binding.\n- Did you mean `import { \"%0\" as foo }`?",ImportCallArgumentTrailingComma:"Trailing comma is disallowed inside import(...) arguments.",ImportCallArity:"`import()` requires exactly %0.",ImportCallNotNewExpression:"Cannot use new with import(...).",ImportCallSpreadArgument:"`...` is not allowed in `import()`.",InvalidBigIntLiteral:"Invalid BigIntLiteral.",InvalidCodePoint:"Code point out of bounds.",InvalidDecimal:"Invalid decimal.",InvalidDigit:"Expected number in radix %0.",InvalidEscapeSequence:"Bad character escape sequence.",InvalidEscapeSequenceTemplate:"Invalid escape sequence in template.",InvalidEscapedReservedWord:"Escape sequence in keyword %0.",InvalidIdentifier:"Invalid identifier %0.",InvalidLhs:"Invalid left-hand side in %0.",InvalidLhsBinding:"Binding invalid left-hand side in %0.",InvalidNumber:"Invalid number.",InvalidOrMissingExponent:"Floating-point numbers require a valid exponent after the 'e'.",InvalidOrUnexpectedToken:"Unexpected character '%0'.",InvalidParenthesizedAssignment:"Invalid parenthesized assignment pattern.",InvalidPrivateFieldResolution:"Private name #%0 is not defined.",InvalidPropertyBindingPattern:"Binding member expression.",InvalidRecordProperty:"Only properties and spread elements are allowed in record definitions.",InvalidRestAssignmentPattern:"Invalid rest operator's argument.",LabelRedeclaration:"Label '%0' is already declared.",LetInLexicalBinding:"'let' is not allowed to be used as a name in 'let' or 'const' declarations.",LineTerminatorBeforeArrow:"No line break is allowed before '=>'.",MalformedRegExpFlags:"Invalid regular expression flag.",MissingClassName:"A class name is required.",MissingEqInAssignment:"Only '=' operator can be used for specifying default value.",MissingSemicolon:"Missing semicolon.",MissingUnicodeEscape:"Expecting Unicode escape sequence \\uXXXX.",MixingCoalesceWithLogical:"Nullish coalescing operator(??) requires parens when mixing with logical operators.",ModuleAttributeDifferentFromType:"The only accepted module attribute is `type`.",ModuleAttributeInvalidValue:"Only string literals are allowed as module attribute values.",ModuleAttributesWithDuplicateKeys:"Duplicate key \"%0\" is not allowed in module attributes.",ModuleExportNameHasLoneSurrogate:"An export name cannot include a lone surrogate, found '\\u%0'.",ModuleExportUndefined:"Export '%0' is not defined.",MultipleDefaultsInSwitch:"Multiple default clauses.",NewlineAfterThrow:"Illegal newline after throw.",NoCatchOrFinally:"Missing catch or finally clause.",NumberIdentifier:"Identifier directly after number.",NumericSeparatorInEscapeSequence:"Numeric separators are not allowed inside unicode escape sequences or hex escape sequences.",ObsoleteAwaitStar:"'await*' has been removed from the async functions proposal. Use Promise.all() instead.",OptionalChainingNoNew:"Constructors in/after an Optional Chain are not allowed.",OptionalChainingNoTemplate:"Tagged Template Literals are not allowed in optionalChain.",OverrideOnConstructor:"'override' modifier cannot appear on a constructor declaration.",ParamDupe:"Argument name clash.",PatternHasAccessor:"Object pattern can't contain getter or setter.",PatternHasMethod:"Object pattern can't contain methods.",PipeBodyIsTighter:"Unexpected %0 after pipeline body; any %0 expression acting as Hack-style pipe body must be parenthesized due to its loose operator precedence.",PipeTopicRequiresHackPipes:"Topic reference is used, but the pipelineOperator plugin was not passed a \"proposal\": \"hack\" or \"smart\" option.",PipeTopicUnbound:"Topic reference is unbound; it must be inside a pipe body.",PipeTopicUnconfiguredToken:"Invalid topic token %0. In order to use %0 as a topic reference, the pipelineOperator plugin must be configured with { \"proposal\": \"hack\", \"topicToken\": \"%0\" }.",PipeTopicUnused:"Hack-style pipe body does not contain a topic reference; Hack-style pipes must use topic at least once.",PipelineBodyNoArrow:"Unexpected arrow \"=>\" after pipeline body; arrow function in pipeline body must be parenthesized.",PipelineBodySequenceExpression:"Pipeline body may not be a comma-separated sequence expression.",PipelineHeadSequenceExpression:"Pipeline head should not be a comma-separated sequence expression.",PipelineTopicUnused:"Pipeline is in topic style but does not use topic reference.",PrimaryTopicNotAllowed:"Topic reference was used in a lexical context without topic binding.",PrimaryTopicRequiresSmartPipeline:"Topic reference is used, but the pipelineOperator plugin was not passed a \"proposal\": \"hack\" or \"smart\" option.",PrivateInExpectedIn:"Private names are only allowed in property accesses (`obj.#%0`) or in `in` expressions (`#%0 in obj`).",PrivateNameRedeclaration:"Duplicate private name #%0.",RecordExpressionBarIncorrectEndSyntaxType:"Record expressions ending with '|}' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionBarIncorrectStartSyntaxType:"Record expressions starting with '{|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionHashIncorrectStartSyntaxType:"Record expressions starting with '#{' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",RecordNoProto:"'__proto__' is not allowed in Record expressions.",RestTrailingComma:"Unexpected trailing comma after rest element.",SloppyFunction:"In non-strict mode code, functions can only be declared at top level, inside a block, or as the body of an if statement.",StaticPrototype:"Classes may not have static property named prototype.",StrictDelete:"Deleting local variable in strict mode.",StrictEvalArguments:"Assigning to '%0' in strict mode.",StrictEvalArgumentsBinding:"Binding '%0' in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block.",StrictNumericEscape:"The only valid numeric escape in strict mode is '\\0'.",StrictOctalLiteral:"Legacy octal literals are not allowed in strict mode.",StrictWith:"'with' in strict mode.",SuperNotAllowed:"`super()` is only valid inside a class constructor of a subclass. Maybe a typo in the method name ('constructor') or not extending another class?",SuperPrivateField:"Private fields can't be accessed on super.",TrailingDecorator:"Decorators must be attached to a class element.",TupleExpressionBarIncorrectEndSyntaxType:"Tuple expressions ending with '|]' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionBarIncorrectStartSyntaxType:"Tuple expressions starting with '[|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionHashIncorrectStartSyntaxType:"Tuple expressions starting with '#[' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",UnexpectedArgumentPlaceholder:"Unexpected argument placeholder.",UnexpectedAwaitAfterPipelineBody:"Unexpected \"await\" after pipeline body; await must have parentheses in minimal proposal.",UnexpectedDigitAfterHash:"Unexpected digit after hash token.",UnexpectedImportExport:"'import' and 'export' may only appear at the top level.",UnexpectedKeyword:"Unexpected keyword '%0'.",UnexpectedLeadingDecorator:"Leading decorators must be attached to a class declaration.",UnexpectedLexicalDeclaration:"Lexical declaration cannot appear in a single-statement context.",UnexpectedNewTarget:"`new.target` can only be used in functions or class properties.",UnexpectedNumericSeparator:"A numeric separator is only allowed between two digits.",UnexpectedPrivateField:"Private names can only be used as the name of a class element (i.e. class C { #p = 42; #m() {} } )\n or a property of member expression (i.e. this.#p).",UnexpectedReservedWord:"Unexpected reserved word '%0'.",UnexpectedSuper:"'super' is only allowed in object methods and classes.",UnexpectedToken:"Unexpected token '%0'.",UnexpectedTokenUnaryExponentiation:"Illegal expression. Wrap left hand side or entire exponentiation in parentheses.",UnsupportedBind:"Binding should be performed on object property.",UnsupportedDecoratorExport:"A decorated export must export a class declaration.",UnsupportedDefaultExport:"Only expressions, functions or classes are allowed as the `default` export.",UnsupportedImport:"`import` can only be used in `import()` or `import.meta`.",UnsupportedMetaProperty:"The only valid meta property for %0 is %0.%1.",UnsupportedParameterDecorator:"Decorators cannot be used to decorate parameters.",UnsupportedPropertyDecorator:"Decorators cannot be used to decorate object literal properties.",UnsupportedSuper:"'super' can only be used with function calls (i.e. super()) or in property accesses (i.e. super.prop or super[prop]).",UnterminatedComment:"Unterminated comment.",UnterminatedRegExp:"Unterminated regular expression.",UnterminatedString:"Unterminated string constant.",UnterminatedTemplate:"Unterminated template.",VarRedeclaration:"Identifier '%0' has already been declared.",YieldBindingIdentifier:"Can not use 'yield' as identifier inside a generator.",YieldInParameter:"Yield expression is not allowed in formal parameters.",ZeroDigitNumericSeparator:"Numeric separator can not be used after leading 0."},aa.SyntaxError),ca=da({ImportMetaOutsideModule:"import.meta may appear only with 'sourceType: \"module\"'",ImportOutsideModule:"'import' and 'export' may appear only with 'sourceType: \"module\"'"},aa.SourceTypeModuleError);function da(a,b){const c={};return Object.keys(a).forEach(d=>{c[d]=Object.freeze({code:b,reasonCode:d,template:a[d]})}),Object.freeze(c)}class ea extends I{getLocationForPosition(fa){return fa===this.state.start?this.state.startLoc:fa===this.state.lastTokStart?this.state.lastTokStartLoc:fa===this.state.end?this.state.endLoc:fa===this.state.lastTokEnd?this.state.lastTokEndLoc:(function(a,b){let c=1,d=0,e;for(p.lastIndex=0;(e=p.exec(a))&&e.index<b;)c++,d=p.lastIndex;return new v(c,b-d)})(this.input,fa)}raise(ga,{code:ha,reasonCode:ia,template:ja},...ka){return this.raiseWithData(ga,{code:ha,reasonCode:ia},ja,...ka)}raiseOverwrite(la,{code:ma,template:na},...oa){const pa=this.getLocationForPosition(la),qa=na.replace(/%(\d+)/g,(a,b)=>oa[b])+` (${pa.line}:${pa.column})`;if(this.options.errorRecovery){const ra=this.state.errors;for(let sa=ra.length-1;sa>=0;sa--){const ta=ra[sa];if(ta.pos===la)return Object.assign(ta,{message:qa});if(ta.pos<la)break}}return this._raise({code:ma,loc:pa,pos:la},qa)}raiseWithData(ua,va,wa,...xa){const ya=this.getLocationForPosition(ua),za=wa.replace(/%(\d+)/g,(a,b)=>xa[b])+` (${ya.line}:${ya.column})`;return this._raise(Object.assign({loc:ya,pos:ua},va),za)}_raise(Aa,Ba){const Ca=new SyntaxError(Ba);if(Object.assign(Ca,Aa),this.options.errorRecovery)return this.isLookahead||this.state.errors.push(Ca),Ca;throw Ca}}var Da=a=>class extends a{parseRegExpLiteral({pattern:b,flags:c}){let d=null;try{d=new RegExp(b,c)}catch(e){}const f=this.estreeParseLiteral(d);return f.regex={pattern:b,flags:c},f}parseBigIntLiteral(g){let h;try{h=BigInt(g)}catch(i){h=null}const j=this.estreeParseLiteral(h);return j.bigint=String(j.value||g),j}parseDecimalLiteral(k){const l=null,m=this.estreeParseLiteral(l);return m.decimal=String(m.value||k),m}estreeParseLiteral(n){return this.parseLiteral(n,"Literal")}parseStringLiteral(o){return this.estreeParseLiteral(o)}parseNumericLiteral(p){return this.estreeParseLiteral(p)}parseNullLiteral(){return this.estreeParseLiteral(null)}parseBooleanLiteral(q){return this.estreeParseLiteral(q)}directiveToStmt(r){const s=r.value,t=this.startNodeAt(r.start,r.loc.start),u=this.startNodeAt(s.start,s.loc.start);return u.value=s.extra.expressionValue,u.raw=s.extra.raw,t.expression=this.finishNodeAt(u,"Literal",s.end,s.loc.end),t.directive=s.extra.raw.slice(1,-1),this.finishNodeAt(t,"ExpressionStatement",r.end,r.loc.end)}initFunction(v,w){super.initFunction(v,w),v.expression=!1}checkDeclaration(x){null!=x&&this.isObjectProperty(x)?this.checkDeclaration(x.value):super.checkDeclaration(x)}getObjectOrClassMethodParams(y){return y.value.params}isValidDirective(z){var A;return"ExpressionStatement"===z.type&&"Literal"===z.expression.type&&"string"==typeof z.expression.value&&!(null!=(A=z.expression.extra)&&A.parenthesized)}stmtToDirective(B){const C=B.expression.value,D=super.stmtToDirective(B);return this.addExtra(D.value,"expressionValue",C),D}parseBlockBody(E,...F){super.parseBlockBody(E,...F);const G=E.directives.map(a=>this.directiveToStmt(a));E.body=G.concat(E.body),delete E.directives}pushClassMethod(H,I,J,K,L,M){this.parseMethod(I,J,K,L,M,"ClassMethod",!0),I.typeParameters&&(I.value.typeParameters=I.typeParameters,delete I.typeParameters),H.body.push(I)}parseMaybePrivateName(...N){const O=super.parseMaybePrivateName(...N);return"PrivateName"===O.type&&this.getPluginOption("estree","classFeatures")?this.convertPrivateNameToPrivateIdentifier(O):O}convertPrivateNameToPrivateIdentifier(P){const Q=super.getPrivateNameSV(P);return delete(P=P).id,P.name=Q,P.type="PrivateIdentifier",P}isPrivateName(R){return this.getPluginOption("estree","classFeatures")?"PrivateIdentifier"===R.type:super.isPrivateName(R)}getPrivateNameSV(S){return this.getPluginOption("estree","classFeatures")?S.name:super.getPrivateNameSV(S)}parseLiteral(T,U){const V=super.parseLiteral(T,U);return V.raw=V.extra.raw,delete V.extra,V}parseFunctionBody(W,X,Y=!1){super.parseFunctionBody(W,X,Y),W.expression="BlockStatement"!==W.body.type}parseMethod(Z,$,_,aa,ca,da,ea=!1){let fa=this.startNode();return fa.kind=Z.kind,(fa=super.parseMethod(fa,$,_,aa,ca,da,ea)).type="FunctionExpression",delete fa.kind,Z.value=fa,"ClassPrivateMethod"===da&&(Z.computed=!1),da="MethodDefinition",this.finishNode(Z,da)}parseClassProperty(...ga){const ha=super.parseClassProperty(...ga);return this.getPluginOption("estree","classFeatures")&&(ha.type="PropertyDefinition"),ha}parseClassPrivateProperty(...ia){const ja=super.parseClassPrivateProperty(...ia);return this.getPluginOption("estree","classFeatures")&&(ja.type="PropertyDefinition",ja.computed=!1),ja}parseObjectMethod(ka,la,ma,na,oa){const pa=super.parseObjectMethod(ka,la,ma,na,oa);return pa&&(pa.type="Property","method"===pa.kind&&(pa.kind="init"),pa.shorthand=!1),pa}parseObjectProperty(qa,ra,sa,ta,ua){const va=super.parseObjectProperty(qa,ra,sa,ta,ua);return va&&(va.kind="init",va.type="Property"),va}isAssignable(wa,xa){return null!=wa&&this.isObjectProperty(wa)?this.isAssignable(wa.value,xa):super.isAssignable(wa,xa)}toAssignable(ya,za=!1){return null!=ya&&this.isObjectProperty(ya)?(this.toAssignable(ya.value,za),ya):super.toAssignable(ya,za)}toAssignableObjectExpressionProp(Aa,...Ba){"get"===Aa.kind||"set"===Aa.kind?this.raise(Aa.key.start,ba.PatternHasAccessor):Aa.method?this.raise(Aa.key.start,ba.PatternHasMethod):super.toAssignableObjectExpressionProp(Aa,...Ba)}finishCallExpression(Ca,Da){if(super.finishCallExpression(Ca,Da),"Import"===Ca.callee.type){if(Ca.type="ImportExpression",Ca.source=Ca.arguments[0],this.hasPlugin("importAssertions")){var Ea;Ca.attributes=null!=(Ea=Ca.arguments[1])?Ea:null}delete Ca.arguments,delete Ca.callee}return Ca}toReferencedArguments(Fa){"ImportExpression"!==Fa.type&&super.toReferencedArguments(Fa)}parseExport(Ga){switch(super.parseExport(Ga),Ga.type){case"ExportAllDeclaration":Ga.exported=null;break;case"ExportNamedDeclaration":1===Ga.specifiers.length&&"ExportNamespaceSpecifier"===Ga.specifiers[0].type&&(Ga.type="ExportAllDeclaration",Ga.exported=Ga.specifiers[0].exported,delete Ga.specifiers);break}return Ga}parseSubscript(Ha,Ia,Ja,Ka,La){const Ma=super.parseSubscript(Ha,Ia,Ja,Ka,La);if(La.optionalChainMember){if(("OptionalMemberExpression"===Ma.type||"OptionalCallExpression"===Ma.type)&&(Ma.type=Ma.type.substring(8)),La.stop){const Na=this.startNodeAtNode(Ma);return Na.expression=Ma,this.finishNode(Na,"ChainExpression")}}else("MemberExpression"===Ma.type||"CallExpression"===Ma.type)&&(Ma.optional=!1);return Ma}hasPropertyAsPrivateName(Oa){return"ChainExpression"===Oa.type&&(Oa=Oa.expression),super.hasPropertyAsPrivateName(Oa)}isOptionalChain(Pa){return"ChainExpression"===Pa.type}isObjectProperty(Qa){return"Property"===Qa.type&&"init"===Qa.kind&&!Qa.method}isObjectMethod(Ra){return Ra.method||"get"===Ra.kind||"set"===Ra.kind}};class Ea{constructor(Fa,Ga){this.token=void 0,this.preserveSpace=void 0,this.token=Fa,this.preserveSpace=!!Ga}}const Ha={brace:new Ea("{"),template:new Ea("`",!0)};n.braceR.updateContext=a=>{a.pop()},n.braceL.updateContext=n.braceHashL.updateContext=n.dollarBraceL.updateContext=a=>{a.push(Ha.brace)},n.backQuote.updateContext=a=>{a[a.length-1]===Ha.template?a.pop():a.push(Ha.template)};let Ia="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࣇऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-鿼ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞿꟂ-ꟊꟵ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",Ja="‌‍\xb7̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿᫀᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷹᷻-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿";const Ka=new RegExp("["+Ia+"]"),La=new RegExp("["+Ia+Ja+"]");Ia=Ja=null;const Ma=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,107,20,28,22,13,52,76,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8952,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42717,35,4148,12,221,3,5761,15,7472,3104,541,1507,4938],Na=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,4759,9,787719,239];function Oa(a,b){let c=65536;for(let d=0,e=b.length;d<e;d+=2){if((c+=b[d])>a)return!1;if((c+=b[d+1])>=a)return!0}return!1}function Pa(a){return a<65?36===a:a<=90||(a<97?95===a:a<=122||(a<=65535?a>=170&&Ka.test(String.fromCharCode(a)):Oa(a,Ma)))}function Qa(a){return a<48?36===a:a<58|| !(a<65)&&(a<=90||(a<97?95===a:a<=122||(a<=65535?a>=170&&La.test(String.fromCharCode(a)):Oa(a,Ma)||Oa(a,Na))))}const Ra={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},Sa=new Set(Ra.keyword),Ta=new Set(Ra.strict),Ua=new Set(Ra.strictBind);function Va(a,b){return b&&"await"===a||"enum"===a}function Wa(a,b){return Va(a,b)||Ta.has(a)}function Xa(a){return Ua.has(a)}function Ya(a,b){return Wa(a,b)||Xa(a)}function Za(a){return Sa.has(a)}const $a=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete","implements","interface","let","package","private","protected","public","static","yield","eval","arguments","enum","await"]);class _a{constructor(ab){this.var=new Set(),this.lexical=new Set(),this.functions=new Set(),this.flags=ab}}class bb{constructor(cb,db){this.scopeStack=[],this.undefinedExports=new Map(),this.undefinedPrivateNames=new Map(),this.raise=cb,this.inModule=db}get inFunction(){return(2&this.currentVarScopeFlags())>0}get allowSuper(){return(16&this.currentThisScopeFlags())>0}get allowDirectSuper(){return(32&this.currentThisScopeFlags())>0}get inClass(){return(64&this.currentThisScopeFlags())>0}get inClassAndNotInNonArrowFunction(){const eb=this.currentThisScopeFlags();return(64&eb)>0&&(2&eb)==0}get inStaticBlock(){for(let fb=this.scopeStack.length-1;;fb--){const{flags:gb}=this.scopeStack[fb];if(128&gb)return!0;if(323&gb)return!1}}get inNonArrowFunction(){return(2&this.currentThisScopeFlags())>0}get treatFunctionsAsVar(){return this.treatFunctionsAsVarInScope(this.currentScope())}createScope(hb){return new _a(hb)}enter(ib){this.scopeStack.push(this.createScope(ib))}exit(){this.scopeStack.pop()}treatFunctionsAsVarInScope(jb){return!!(2&jb.flags|| !this.inModule&&1&jb.flags)}declareName(kb,lb,mb){let nb=this.currentScope();if(8&lb||16&lb)this.checkRedeclarationInScope(nb,kb,lb,mb),16&lb?nb.functions.add(kb):nb.lexical.add(kb),8&lb&&this.maybeExportDefined(nb,kb);else if(4&lb)for(let ob=this.scopeStack.length-1;ob>=0&&(nb=this.scopeStack[ob],this.checkRedeclarationInScope(nb,kb,lb,mb),nb.var.add(kb),this.maybeExportDefined(nb,kb),!(259&nb.flags));--ob);this.inModule&&1&nb.flags&&this.undefinedExports.delete(kb)}maybeExportDefined(pb,qb){this.inModule&&1&pb.flags&&this.undefinedExports.delete(qb)}checkRedeclarationInScope(rb,sb,tb,ub){this.isRedeclaredInScope(rb,sb,tb)&&this.raise(ub,ba.VarRedeclaration,sb)}isRedeclaredInScope(vb,wb,xb){return!!(1&xb)&&(8&xb?vb.lexical.has(wb)||vb.functions.has(wb)||vb.var.has(wb):16&xb?vb.lexical.has(wb)|| !this.treatFunctionsAsVarInScope(vb)&&vb.var.has(wb):vb.lexical.has(wb)&&!(8&vb.flags&&vb.lexical.values().next().value===wb)|| !this.treatFunctionsAsVarInScope(vb)&&vb.functions.has(wb))}checkLocalExport(yb){const{name:zb}=yb,Ab=this.scopeStack[0];Ab.lexical.has(zb)||Ab.var.has(zb)||Ab.functions.has(zb)||this.undefinedExports.set(zb,yb.start)}currentScope(){return this.scopeStack[this.scopeStack.length-1]}currentVarScopeFlags(){for(let Bb=this.scopeStack.length-1;;Bb--){const{flags:Cb}=this.scopeStack[Bb];if(259&Cb)return Cb}}currentThisScopeFlags(){for(let Db=this.scopeStack.length-1;;Db--){const{flags:Eb}=this.scopeStack[Db];if(323&Eb&&!(4&Eb))return Eb}}}class Fb extends _a{constructor(...Gb){super(...Gb),this.declareFunctions=new Set()}}class Hb extends bb{createScope(Ib){return new Fb(Ib)}declareName(Jb,Kb,Lb){const Mb=this.currentScope();if(2048&Kb){this.checkRedeclarationInScope(Mb,Jb,Kb,Lb),this.maybeExportDefined(Mb,Jb),Mb.declareFunctions.add(Jb);return}super.declareName(...arguments)}isRedeclaredInScope(Nb,Ob,Pb){return!!super.isRedeclaredInScope(...arguments)|| !!(2048&Pb)&& !Nb.declareFunctions.has(Ob)&&(Nb.lexical.has(Ob)||Nb.functions.has(Ob))}checkLocalExport(Qb){this.scopeStack[0].declareFunctions.has(Qb.name)||super.checkLocalExport(Qb)}}class Rb{constructor(){this.strict=void 0,this.curLine=void 0,this.startLoc=void 0,this.endLoc=void 0,this.errors=[],this.potentialArrowAt=-1,this.noArrowAt=[],this.noArrowParamsConversionAt=[],this.maybeInArrowParameters=!1,this.inType=!1,this.noAnonFunctionType=!1,this.inPropertyName=!1,this.hasFlowComment=!1,this.isAmbientContext=!1,this.inAbstractClass=!1,this.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null},this.soloAwait=!1,this.inFSharpPipelineDirectBody=!1,this.labels=[],this.decoratorStack=[[]],this.comments=[],this.commentStack=[],this.pos=0,this.lineStart=0,this.type=n.eof,this.value=null,this.start=0,this.end=0,this.lastTokEndLoc=null,this.lastTokStartLoc=null,this.lastTokStart=0,this.lastTokEnd=0,this.context=[Ha.brace],this.exprAllowed=!0,this.containsEsc=!1,this.strictErrors=new Map(),this.tokensLength=0}init(Sb){this.strict=!1!==Sb.strictMode&&(!0===Sb.strictMode||"module"===Sb.sourceType),this.curLine=Sb.startLine,this.startLoc=this.endLoc=this.curPosition()}curPosition(){return new v(this.curLine,this.pos-this.lineStart)}clone(Tb){const Ub=new Rb(),Vb=Object.keys(this);for(let Wb=0,Xb=Vb.length;Wb<Xb;Wb++){const Yb=Vb[Wb];let Zb=this[Yb];!Tb&&Array.isArray(Zb)&&(Zb=Zb.slice()),Ub[Yb]=Zb}return Ub}}const $b=new Set([103,109,115,105,121,117,100]),_b={decBinOct:[46,66,69,79,95,98,101,111],hex:[46,88,95,120]},ac={};ac.bin=[48,49],ac.oct=[...ac.bin,50,51,52,53,54,55],ac.dec=[...ac.oct,56,57],ac.hex=[...ac.dec,65,66,67,68,69,70,97,98,99,100,101,102];class bc{constructor(cc){this.type=cc.type,this.value=cc.value,this.start=cc.start,this.end=cc.end,this.loc=new y(cc.startLoc,cc.endLoc)}}class dc extends ea{constructor(ec,fc){super(),this.isLookahead=void 0,this.tokens=[],this.state=new Rb(),this.state.init(ec),this.input=fc,this.length=fc.length,this.isLookahead=!1}pushToken(gc){this.tokens.length=this.state.tokensLength,this.tokens.push(gc),++this.state.tokensLength}next(){this.checkKeywordEscapes(),this.options.tokens&&this.pushToken(new bc(this.state)),this.state.lastTokEnd=this.state.end,this.state.lastTokStart=this.state.start,this.state.lastTokEndLoc=this.state.endLoc,this.state.lastTokStartLoc=this.state.startLoc,this.nextToken()}eat(hc){return!!this.match(hc)&&(this.next(),!0)}match(ic){return this.state.type===ic}createLookaheadState(jc){return{pos:jc.pos,value:null,type:jc.type,start:jc.start,end:jc.end,lastTokEnd:jc.end,context:[this.curContext()],inType:jc.inType}}lookahead(){const kc=this.state;this.state=this.createLookaheadState(kc),this.isLookahead=!0,this.nextToken(),this.isLookahead=!1;const lc=this.state;return this.state=kc,lc}nextTokenStart(){return this.nextTokenStartSince(this.state.pos)}nextTokenStartSince(mc){return r.lastIndex=mc,r.test(this.input)?r.lastIndex:mc}lookaheadCharCode(){return this.input.charCodeAt(this.nextTokenStart())}codePointAtPos(nc){let oc=this.input.charCodeAt(nc);if((64512&oc)==55296&& ++nc<this.input.length){const pc=this.input.charCodeAt(nc);(64512&pc)==56320&&(oc=65536+((1023&oc)<<10)+(1023&pc))}return oc}setStrict(qc){this.state.strict=qc,qc&&(this.state.strictErrors.forEach((a,b)=>this.raise(b,a)),this.state.strictErrors.clear())}curContext(){return this.state.context[this.state.context.length-1]}nextToken(){const rc=this.curContext();if(rc.preserveSpace||this.skipSpace(),this.state.start=this.state.pos,this.isLookahead||(this.state.startLoc=this.state.curPosition()),this.state.pos>=this.length){this.finishToken(n.eof);return}rc===Ha.template?this.readTmplToken():this.getTokenFromCode(this.codePointAtPos(this.state.pos))}skipBlockComment(){let sc;this.isLookahead||(sc=this.state.curPosition());const tc=this.state.pos,uc=this.input.indexOf("*/",tc+2);if(-1===uc)throw this.raise(tc,ba.UnterminatedComment);for(this.state.pos=uc+2,p.lastIndex=tc+2;p.test(this.input)&&p.lastIndex<=uc;)++this.state.curLine,this.state.lineStart=p.lastIndex;if(this.isLookahead)return;const vc={type:"CommentBlock",value:this.input.slice(tc+2,uc),start:tc,end:uc+2,loc:new y(sc,this.state.curPosition())};return this.options.tokens&&this.pushToken(vc),vc}skipLineComment(wc){const xc=this.state.pos;let yc;this.isLookahead||(yc=this.state.curPosition());let zc=this.input.charCodeAt(this.state.pos+=wc);if(this.state.pos<this.length)for(;!q(zc)&& ++this.state.pos<this.length;)zc=this.input.charCodeAt(this.state.pos);if(this.isLookahead)return;const Ac=this.state.pos,Bc=this.input.slice(xc+wc,Ac),Cc={type:"CommentLine",value:Bc,start:xc,end:Ac,loc:new y(yc,this.state.curPosition())};return this.options.tokens&&this.pushToken(Cc),Cc}skipSpace(){const Dc=this.state.pos,Ec=[];loop:for(;this.state.pos<this.length;){const Fc=this.input.charCodeAt(this.state.pos);switch(Fc){case 32:case 160:case 9:++this.state.pos;break;case 13:10===this.input.charCodeAt(this.state.pos+1)&& ++this.state.pos;case 10:case 8232:case 8233:++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;break;case 47:switch(this.input.charCodeAt(this.state.pos+1)){case 42:{const Gc=this.skipBlockComment();void 0!==Gc&&(this.addComment(Gc),this.options.attachComment&&Ec.push(Gc));break}case 47:{const Hc=this.skipLineComment(2);void 0!==Hc&&(this.addComment(Hc),this.options.attachComment&&Ec.push(Hc));break}default:break loop}break;default:if(u(Fc))++this.state.pos;else if(45!==Fc||this.inModule)if(60!==Fc||this.inModule)break loop;else{const Ic=this.state.pos;if(33===this.input.charCodeAt(Ic+1)&&45===this.input.charCodeAt(Ic+2)&&45===this.input.charCodeAt(Ic+3)){const Jc=this.skipLineComment(4);void 0!==Jc&&(this.addComment(Jc),this.options.attachComment&&Ec.push(Jc))}else break loop}else{const Kc=this.state.pos;if(45===this.input.charCodeAt(Kc+1)&&62===this.input.charCodeAt(Kc+2)&&(0===Dc||this.state.lineStart>Dc)){const Lc=this.skipLineComment(3);void 0!==Lc&&(this.addComment(Lc),this.options.attachComment&&Ec.push(Lc))}else break loop}}}if(Ec.length>0){const Mc=this.state.pos,Nc={start:Dc,end:Mc,comments:Ec,leadingNode:null,trailingNode:null,containingNode:null};this.state.commentStack.push(Nc)}}finishToken(Oc,Pc){this.state.end=this.state.pos;const Qc=this.state.type;this.state.type=Oc,this.state.value=Pc,this.isLookahead||(this.state.endLoc=this.state.curPosition(),this.updateContext(Qc))}readToken_numberSign(){if(0===this.state.pos&&this.readToken_interpreter())return;const Rc=this.state.pos+1,Sc=this.codePointAtPos(Rc);if(Sc>=48&&Sc<=57)throw this.raise(this.state.pos,ba.UnexpectedDigitAfterHash);if(123===Sc||91===Sc&&this.hasPlugin("recordAndTuple")){if(this.expectPlugin("recordAndTuple"),"hash"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(this.state.pos,123===Sc?ba.RecordExpressionHashIncorrectStartSyntaxType:ba.TupleExpressionHashIncorrectStartSyntaxType);this.state.pos+=2,123===Sc?this.finishToken(n.braceHashL):this.finishToken(n.bracketHashL)}else Pa(Sc)?(++this.state.pos,this.finishToken(n.privateName,this.readWord1(Sc))):92===Sc?(++this.state.pos,this.finishToken(n.privateName,this.readWord1())):this.finishOp(n.hash,1)}readToken_dot(){const Tc=this.input.charCodeAt(this.state.pos+1);if(Tc>=48&&Tc<=57){this.readNumber(!0);return}46===Tc&&46===this.input.charCodeAt(this.state.pos+2)?(this.state.pos+=3,this.finishToken(n.ellipsis)):(++this.state.pos,this.finishToken(n.dot))}readToken_slash(){const Uc=this.input.charCodeAt(this.state.pos+1);61===Uc?this.finishOp(n.slashAssign,2):this.finishOp(n.slash,1)}readToken_interpreter(){if(0!==this.state.pos||this.length<2)return!1;let Vc=this.input.charCodeAt(this.state.pos+1);if(33!==Vc)return!1;const Wc=this.state.pos;for(this.state.pos+=1;!q(Vc)&& ++this.state.pos<this.length;)Vc=this.input.charCodeAt(this.state.pos);const Xc=this.input.slice(Wc+2,this.state.pos);return this.finishToken(n.interpreterDirective,Xc),!0}readToken_mult_modulo(Yc){let Zc=42===Yc?n.star:n.modulo,$c=1,_c=this.input.charCodeAt(this.state.pos+1);42===Yc&&42===_c&&($c++,_c=this.input.charCodeAt(this.state.pos+2),Zc=n.exponent),61!==_c||this.state.inType||($c++,Zc=37===Yc?n.moduloAssign:n.assign),this.finishOp(Zc,$c)}readToken_pipe_amp(ad){const bd=this.input.charCodeAt(this.state.pos+1);if(bd===ad){61===this.input.charCodeAt(this.state.pos+2)?this.finishOp(n.assign,3):this.finishOp(124===ad?n.logicalOR:n.logicalAND,2);return}if(124===ad){if(62===bd){this.finishOp(n.pipeline,2);return}if(this.hasPlugin("recordAndTuple")&&125===bd){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(this.state.pos,ba.RecordExpressionBarIncorrectEndSyntaxType);this.state.pos+=2,this.finishToken(n.braceBarR);return}if(this.hasPlugin("recordAndTuple")&&93===bd){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(this.state.pos,ba.TupleExpressionBarIncorrectEndSyntaxType);this.state.pos+=2,this.finishToken(n.bracketBarR);return}}if(61===bd){this.finishOp(n.assign,2);return}this.finishOp(124===ad?n.bitwiseOR:n.bitwiseAND,1)}readToken_caret(){const cd=this.input.charCodeAt(this.state.pos+1);61===cd?this.finishOp(n.assign,2):this.finishOp(n.bitwiseXOR,1)}readToken_plus_min(dd){const ed=this.input.charCodeAt(this.state.pos+1);if(ed===dd){this.finishOp(n.incDec,2);return}61===ed?this.finishOp(n.assign,2):this.finishOp(n.plusMin,1)}readToken_lt_gt(fd){const gd=this.input.charCodeAt(this.state.pos+1);let hd=1;if(gd===fd){if(hd=62===fd&&62===this.input.charCodeAt(this.state.pos+2)?3:2,61===this.input.charCodeAt(this.state.pos+hd)){this.finishOp(n.assign,hd+1);return}this.finishOp(n.bitShift,hd);return}61===gd&&(hd=2),this.finishOp(n.relational,hd)}readToken_eq_excl(id){const jd=this.input.charCodeAt(this.state.pos+1);if(61===jd){this.finishOp(n.equality,61===this.input.charCodeAt(this.state.pos+2)?3:2);return}if(61===id&&62===jd){this.state.pos+=2,this.finishToken(n.arrow);return}this.finishOp(61===id?n.eq:n.bang,1)}readToken_question(){const kd=this.input.charCodeAt(this.state.pos+1),ld=this.input.charCodeAt(this.state.pos+2);63===kd?61===ld?this.finishOp(n.assign,3):this.finishOp(n.nullishCoalescing,2):46!==kd||ld>=48&&ld<=57?(++this.state.pos,this.finishToken(n.question)):(this.state.pos+=2,this.finishToken(n.questionDot))}getTokenFromCode(md){switch(md){case 46:this.readToken_dot();return;case 40:++this.state.pos,this.finishToken(n.parenL);return;case 41:++this.state.pos,this.finishToken(n.parenR);return;case 59:++this.state.pos,this.finishToken(n.semi);return;case 44:++this.state.pos,this.finishToken(n.comma);return;case 91:if(this.hasPlugin("recordAndTuple")&&124===this.input.charCodeAt(this.state.pos+1)){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(this.state.pos,ba.TupleExpressionBarIncorrectStartSyntaxType);this.state.pos+=2,this.finishToken(n.bracketBarL)}else++this.state.pos,this.finishToken(n.bracketL);return;case 93:++this.state.pos,this.finishToken(n.bracketR);return;case 123:if(this.hasPlugin("recordAndTuple")&&124===this.input.charCodeAt(this.state.pos+1)){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(this.state.pos,ba.RecordExpressionBarIncorrectStartSyntaxType);this.state.pos+=2,this.finishToken(n.braceBarL)}else++this.state.pos,this.finishToken(n.braceL);return;case 125:++this.state.pos,this.finishToken(n.braceR);return;case 58:this.hasPlugin("functionBind")&&58===this.input.charCodeAt(this.state.pos+1)?this.finishOp(n.doubleColon,2):(++this.state.pos,this.finishToken(n.colon));return;case 63:this.readToken_question();return;case 96:++this.state.pos,this.finishToken(n.backQuote);return;case 48:{const nd=this.input.charCodeAt(this.state.pos+1);if(120===nd||88===nd){this.readRadixNumber(16);return}if(111===nd||79===nd){this.readRadixNumber(8);return}if(98===nd||66===nd){this.readRadixNumber(2);return}}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:this.readNumber(!1);return;case 34:case 39:this.readString(md);return;case 47:this.readToken_slash();return;case 37:case 42:this.readToken_mult_modulo(md);return;case 124:case 38:this.readToken_pipe_amp(md);return;case 94:this.readToken_caret();return;case 43:case 45:this.readToken_plus_min(md);return;case 60:case 62:this.readToken_lt_gt(md);return;case 61:case 33:this.readToken_eq_excl(md);return;case 126:this.finishOp(n.tilde,1);return;case 64:++this.state.pos,this.finishToken(n.at);return;case 35:this.readToken_numberSign();return;case 92:this.readWord();return;default:if(Pa(md)){this.readWord(md);return}}throw this.raise(this.state.pos,ba.InvalidOrUnexpectedToken,String.fromCodePoint(md))}finishOp(od,pd){const qd=this.input.slice(this.state.pos,this.state.pos+pd);this.state.pos+=pd,this.finishToken(od,qd)}readRegexp(){const rd=this.state.start+1;let sd,td,{pos:ud}=this.state;for(;;++ud){if(ud>=this.length)throw this.raise(rd,ba.UnterminatedRegExp);const vd=this.input.charCodeAt(ud);if(q(vd))throw this.raise(rd,ba.UnterminatedRegExp);if(sd)sd=!1;else{if(91===vd)td=!0;else if(93===vd&&td)td=!1;else if(47===vd&&!td)break;sd=92===vd}}const wd=this.input.slice(rd,ud);++ud;let xd="";for(;ud<this.length;){const yd=this.codePointAtPos(ud),zd=String.fromCharCode(yd);if($b.has(yd))xd.includes(zd)&&this.raise(ud+1,ba.DuplicateRegExpFlags);else if(Qa(yd)||92===yd)this.raise(ud+1,ba.MalformedRegExpFlags);else break;++ud,xd+=zd}this.state.pos=ud,this.finishToken(n.regexp,{pattern:wd,flags:xd})}readInt(Ad,Bd,Cd,Dd=!0){const Ed=this.state.pos,Fd=16===Ad?_b.hex:_b.decBinOct,Gd=16===Ad?ac.hex:10===Ad?ac.dec:8===Ad?ac.oct:ac.bin;let Hd=!1,Id=0;for(let Jd=0,Kd=null==Bd?1/0:Bd;Jd<Kd;++Jd){const Ld=this.input.charCodeAt(this.state.pos);let Md;if(95===Ld){const Nd=this.input.charCodeAt(this.state.pos-1),Od=this.input.charCodeAt(this.state.pos+1);-1===Gd.indexOf(Od)?this.raise(this.state.pos,ba.UnexpectedNumericSeparator):(Fd.indexOf(Nd)> -1||Fd.indexOf(Od)> -1||Number.isNaN(Od))&&this.raise(this.state.pos,ba.UnexpectedNumericSeparator),Dd||this.raise(this.state.pos,ba.NumericSeparatorInEscapeSequence),++this.state.pos;continue}if(Ld>=97)Md=Ld-97+10;else if(Ld>=65)Md=Ld-65+10;else{var Pd;Md=(Pd=Ld)>=48&&Pd<=57?Ld-48:1/0}if(Md>=Ad)if(this.options.errorRecovery&&Md<=9)Md=0,this.raise(this.state.start+Jd+2,ba.InvalidDigit,Ad);else if(Cd)Md=0,Hd=!0;else break;++this.state.pos,Id=Id*Ad+Md}return this.state.pos===Ed||null!=Bd&&this.state.pos-Ed!==Bd||Hd?null:Id}readRadixNumber(Qd){const Rd=this.state.pos;let Sd=!1;this.state.pos+=2;const Td=this.readInt(Qd);null==Td&&this.raise(this.state.start+2,ba.InvalidDigit,Qd);const Ud=this.input.charCodeAt(this.state.pos);if(110===Ud)++this.state.pos,Sd=!0;else if(109===Ud)throw this.raise(Rd,ba.InvalidDecimal);if(Pa(this.codePointAtPos(this.state.pos)))throw this.raise(this.state.pos,ba.NumberIdentifier);if(Sd){const Vd=this.input.slice(Rd,this.state.pos).replace(/[_n]/g,"");this.finishToken(n.bigint,Vd);return}this.finishToken(n.num,Td)}readNumber(Wd){const Xd=this.state.pos;let Yd=!1,Zd=!1,$d=!1,_d=!1,ae=!1;Wd||null!==this.readInt(10)||this.raise(Xd,ba.InvalidNumber);const be=this.state.pos-Xd>=2&&48===this.input.charCodeAt(Xd);if(be){const ce=this.input.slice(Xd,this.state.pos);if(this.recordStrictModeErrors(Xd,ba.StrictOctalLiteral),!this.state.strict){const de=ce.indexOf("_");de>0&&this.raise(de+Xd,ba.ZeroDigitNumericSeparator)}ae=be&&!/[89]/.test(ce)}let ee=this.input.charCodeAt(this.state.pos);if(46!==ee||ae||(++this.state.pos,this.readInt(10),Yd=!0,ee=this.input.charCodeAt(this.state.pos)),69!==ee&&101!==ee||ae||((43===(ee=this.input.charCodeAt(++this.state.pos))||45===ee)&& ++this.state.pos,null===this.readInt(10)&&this.raise(Xd,ba.InvalidOrMissingExponent),Yd=!0,_d=!0,ee=this.input.charCodeAt(this.state.pos)),110===ee&&((Yd||be)&&this.raise(Xd,ba.InvalidBigIntLiteral),++this.state.pos,Zd=!0),109===ee&&(this.expectPlugin("decimal",this.state.pos),(_d||be)&&this.raise(Xd,ba.InvalidDecimal),++this.state.pos,$d=!0),Pa(this.codePointAtPos(this.state.pos)))throw this.raise(this.state.pos,ba.NumberIdentifier);const fe=this.input.slice(Xd,this.state.pos).replace(/[_mn]/g,"");if(Zd){this.finishToken(n.bigint,fe);return}if($d){this.finishToken(n.decimal,fe);return}const ge=ae?parseInt(fe,8):parseFloat(fe);this.finishToken(n.num,ge)}readCodePoint(he){const ie=this.input.charCodeAt(this.state.pos);let je;if(123===ie){const ke=++this.state.pos;if(je=this.readHexChar(this.input.indexOf("}",this.state.pos)-this.state.pos,!0,he),++this.state.pos,null!==je&&je>1114111){if(!he)return null;this.raise(ke,ba.InvalidCodePoint)}}else je=this.readHexChar(4,!1,he);return je}readString(le){let me="",ne=++this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(this.state.start,ba.UnterminatedString);const oe=this.input.charCodeAt(this.state.pos);if(oe===le)break;if(92===oe)me+=this.input.slice(ne,this.state.pos),me+=this.readEscapedChar(!1),ne=this.state.pos;else if(8232===oe||8233===oe)++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;else if(q(oe))throw this.raise(this.state.start,ba.UnterminatedString);else++this.state.pos}me+=this.input.slice(ne,this.state.pos++),this.finishToken(n.string,me)}readTmplToken(){let pe="",qe=this.state.pos,re=!1;for(;;){if(this.state.pos>=this.length)throw this.raise(this.state.start,ba.UnterminatedTemplate);const se=this.input.charCodeAt(this.state.pos);if(96===se||36===se&&123===this.input.charCodeAt(this.state.pos+1)){if(this.state.pos===this.state.start&&this.match(n.template)){if(36===se){this.state.pos+=2,this.finishToken(n.dollarBraceL);return}++this.state.pos,this.finishToken(n.backQuote);return}pe+=this.input.slice(qe,this.state.pos),this.finishToken(n.template,re?null:pe);return}if(92===se){pe+=this.input.slice(qe,this.state.pos);const te=this.readEscapedChar(!0);null===te?re=!0:pe+=te,qe=this.state.pos}else if(q(se)){switch(pe+=this.input.slice(qe,this.state.pos),++this.state.pos,se){case 13:10===this.input.charCodeAt(this.state.pos)&& ++this.state.pos;case 10:pe+="\n";break;default:pe+=String.fromCharCode(se);break}++this.state.curLine,this.state.lineStart=this.state.pos,qe=this.state.pos}else++this.state.pos}}recordStrictModeErrors(ue,ve){this.state.strict&&!this.state.strictErrors.has(ue)?this.raise(ue,ve):this.state.strictErrors.set(ue,ve)}readEscapedChar(we){const xe=!we,ye=this.input.charCodeAt(++this.state.pos);switch(++this.state.pos,ye){case 110:return"\n";case 114:return"\r";case 120:{const ze=this.readHexChar(2,!1,xe);return null===ze?null:String.fromCharCode(ze)}case 117:{const Ae=this.readCodePoint(xe);return null===Ae?null:String.fromCodePoint(Ae)}case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.state.pos)&& ++this.state.pos;case 10:this.state.lineStart=this.state.pos,++this.state.curLine;case 8232:case 8233:return"";case 56:case 57:if(we)return null;this.recordStrictModeErrors(this.state.pos-1,ba.StrictNumericEscape);default:if(ye>=48&&ye<=55){const Be=this.state.pos-1,Ce=this.input.substr(this.state.pos-1,3).match(/^[0-7]+/);let De=Ce[0],Ee=parseInt(De,8);Ee>255&&(Ee=parseInt(De=De.slice(0,-1),8)),this.state.pos+=De.length-1;const Fe=this.input.charCodeAt(this.state.pos);if("0"!==De||56===Fe||57===Fe){if(we)return null;this.recordStrictModeErrors(Be,ba.StrictNumericEscape)}return String.fromCharCode(Ee)}return String.fromCharCode(ye)}}readHexChar(Ge,He,Ie){const Je=this.state.pos,Ke=this.readInt(16,Ge,He,!1);return null===Ke&&(Ie?this.raise(Je,ba.InvalidEscapeSequence):this.state.pos=Je-1),Ke}readWord1(Le){this.state.containsEsc=!1;let Me="";const Ne=this.state.pos;let Oe=this.state.pos;for(void 0!==Le&&(this.state.pos+=Le<=65535?1:2);this.state.pos<this.length;){const Pe=this.codePointAtPos(this.state.pos);if(Qa(Pe))this.state.pos+=Pe<=65535?1:2;else if(92===Pe){this.state.containsEsc=!0,Me+=this.input.slice(Oe,this.state.pos);const Qe=this.state.pos,Re=this.state.pos===Ne?Pa:Qa;if(117!==this.input.charCodeAt(++this.state.pos)){this.raise(this.state.pos,ba.MissingUnicodeEscape),Oe=this.state.pos-1;continue}++this.state.pos;const Se=this.readCodePoint(!0);null!==Se&&(Re(Se)||this.raise(Qe,ba.EscapedCharNotAnIdentifier),Me+=String.fromCodePoint(Se)),Oe=this.state.pos}else break}return Me+this.input.slice(Oe,this.state.pos)}readWord(Te){const Ue=this.readWord1(Te),Ve=k.get(Ue)||n.name;this.finishToken(Ve,Ue)}checkKeywordEscapes(){const We=this.state.type.keyword;We&&this.state.containsEsc&&this.raise(this.state.start,ba.InvalidEscapedReservedWord,We)}updateContext(Xe){var Ye,Ze;null==(Ye=(Ze=this.state.type).updateContext)||Ye.call(Ze,this.state.context)}}class $e{constructor(){this.privateNames=new Set(),this.loneAccessors=new Map(),this.undefinedPrivateNames=new Map()}}class _e{constructor(af){this.stack=[],this.undefinedPrivateNames=new Map(),this.raise=af}current(){return this.stack[this.stack.length-1]}enter(){this.stack.push(new $e())}exit(){const bf=this.stack.pop(),cf=this.current();for(const[df,ef]of Array.from(bf.undefinedPrivateNames))cf?cf.undefinedPrivateNames.has(df)||cf.undefinedPrivateNames.set(df,ef):this.raise(ef,ba.InvalidPrivateFieldResolution,df)}declarePrivateName(ff,gf,hf){const jf=this.current();let kf=jf.privateNames.has(ff);if(3&gf){const lf=kf&&jf.loneAccessors.get(ff);if(lf){const mf=4&lf,nf=4&gf,of=3&lf,pf=3&gf;(kf=of===pf||mf!==nf)||jf.loneAccessors.delete(ff)}else kf||jf.loneAccessors.set(ff,gf)}kf&&this.raise(hf,ba.PrivateNameRedeclaration,ff),jf.privateNames.add(ff),jf.undefinedPrivateNames.delete(ff)}usePrivateName(qf,rf){let sf;for(sf of this.stack)if(sf.privateNames.has(qf))return;sf?sf.undefinedPrivateNames.set(qf,rf):this.raise(rf,ba.InvalidPrivateFieldResolution,qf)}}class tf{constructor(uf=0){this.type=void 0,this.type=uf}canBeArrowParameterDeclaration(){return 2===this.type||1===this.type}isCertainlyParameterDeclaration(){return 3===this.type}}class vf extends tf{constructor(wf){super(wf),this.errors=new Map()}recordDeclarationError(xf,yf){this.errors.set(xf,yf)}clearDeclarationError(zf){this.errors.delete(zf)}iterateErrors(Af){this.errors.forEach(Af)}}class Bf{constructor(Cf){this.stack=[new tf()],this.raise=Cf}enter(Df){this.stack.push(Df)}exit(){this.stack.pop()}recordParameterInitializerError(Ef,Ff){const{stack:Gf}=this;let Hf=Gf.length-1,If=Gf[Hf];for(;!If.isCertainlyParameterDeclaration();){if(!If.canBeArrowParameterDeclaration())return;If.recordDeclarationError(Ef,Ff),If=Gf[--Hf]}this.raise(Ef,Ff)}recordParenthesizedIdentifierError(Jf,Kf){const{stack:Lf}=this,Mf=Lf[Lf.length-1];if(Mf.isCertainlyParameterDeclaration())this.raise(Jf,Kf);else{if(!Mf.canBeArrowParameterDeclaration())return;Mf.recordDeclarationError(Jf,Kf)}}recordAsyncArrowParametersError(Nf,Of){const{stack:Pf}=this;let Qf=Pf.length-1,Rf=Pf[Qf];for(;Rf.canBeArrowParameterDeclaration();)2===Rf.type&&Rf.recordDeclarationError(Nf,Of),Rf=Pf[--Qf]}validateAsPattern(){const{stack:Sf}=this,Tf=Sf[Sf.length-1];Tf.canBeArrowParameterDeclaration()&&Tf.iterateErrors((a,b)=>{this.raise(b,a);let c=Sf.length-2,d=Sf[c];for(;d.canBeArrowParameterDeclaration();)d.clearDeclarationError(b),d=Sf[--c]})}}function Uf(){return new tf()}class Vf{constructor(){this.stacks=[]}enter(Wf){this.stacks.push(Wf)}exit(){this.stacks.pop()}currentFlags(){return this.stacks[this.stacks.length-1]}get hasAwait(){return(2&this.currentFlags())>0}get hasYield(){return(1&this.currentFlags())>0}get hasReturn(){return(4&this.currentFlags())>0}get hasIn(){return(8&this.currentFlags())>0}}function Xf(a,b){return(a?2:0)|(b?1:0)}class Yf extends dc{addExtra(Zf,$f,_f){if(!Zf)return;const ag=Zf.extra=Zf.extra||{};ag[$f]=_f}isRelational(bg){return this.match(n.relational)&&this.state.value===bg}expectRelational(cg){this.isRelational(cg)?this.next():this.unexpected(null,n.relational)}isContextual(dg){return this.match(n.name)&&this.state.value===dg&&!this.state.containsEsc}isUnparsedContextual(eg,fg){const gg=eg+fg.length;if(this.input.slice(eg,gg)===fg){const hg=this.input.charCodeAt(gg);return!(Qa(hg)||(64512&hg)==55296)}return!1}isLookaheadContextual(ig){const jg=this.nextTokenStart();return this.isUnparsedContextual(jg,ig)}eatContextual(kg){return this.isContextual(kg)&&this.eat(n.name)}expectContextual(lg,mg){this.eatContextual(lg)||this.unexpected(null,mg)}canInsertSemicolon(){return this.match(n.eof)||this.match(n.braceR)||this.hasPrecedingLineBreak()}hasPrecedingLineBreak(){return o.test(this.input.slice(this.state.lastTokEnd,this.state.start))}hasFollowingLineBreak(){return t.lastIndex=this.state.end,t.test(this.input)}isLineTerminator(){return this.eat(n.semi)||this.canInsertSemicolon()}semicolon(ng=!0){(ng?this.isLineTerminator():this.eat(n.semi))||this.raise(this.state.lastTokEnd,ba.MissingSemicolon)}expect(og,pg){this.eat(og)||this.unexpected(pg,og)}assertNoSpace(qg="Unexpected space."){this.state.start>this.state.lastTokEnd&&this.raise(this.state.lastTokEnd,{code:aa.SyntaxError,reasonCode:"UnexpectedSpace",template:qg})}unexpected(rg,sg={code:aa.SyntaxError,reasonCode:"UnexpectedToken",template:"Unexpected token"}){throw sg instanceof h&&(sg={code:aa.SyntaxError,reasonCode:"UnexpectedToken",template:`Unexpected token, expected "${sg.label}"`}),this.raise(null!=rg?rg:this.state.start,sg)}expectPlugin(tg,ug){if(!this.hasPlugin(tg))throw this.raiseWithData(null!=ug?ug:this.state.start,{missingPlugin:[tg]},`This experimental syntax requires enabling the parser plugin: '${tg}'`);return!0}expectOnePlugin(vg,wg){if(!vg.some(a=>this.hasPlugin(a)))throw this.raiseWithData(null!=wg?wg:this.state.start,{missingPlugin:vg},`This experimental syntax requires enabling one of the following parser plugin(s): '${vg.join(", ")}'`)}tryParse(xg,yg=this.state.clone()){const zg={node:null};try{const Ag=xg((a=null)=>{throw zg.node=a,zg});if(this.state.errors.length>yg.errors.length){const Bg=this.state;return this.state=yg,this.state.tokensLength=Bg.tokensLength,{node:Ag,error:Bg.errors[yg.errors.length],thrown:!1,aborted:!1,failState:Bg}}return{node:Ag,error:null,thrown:!1,aborted:!1,failState:null}}catch(Cg){const Dg=this.state;if(this.state=yg,Cg instanceof SyntaxError)return{node:null,error:Cg,thrown:!0,aborted:!1,failState:Dg};if(Cg===zg)return{node:zg.node,error:null,thrown:!1,aborted:!0,failState:Dg};throw Cg}}checkExpressionErrors(Eg,Fg){if(!Eg)return!1;const{shorthandAssign:Gg,doubleProto:Hg,optionalParameters:Ig}=Eg;if(!Fg)return Gg>=0||Hg>=0||Ig>=0;Gg>=0&&this.unexpected(Gg),Hg>=0&&this.raise(Hg,ba.DuplicateProto),Ig>=0&&this.unexpected(Ig)}isLiteralPropertyName(){return this.match(n.name)||!!this.state.type.keyword||this.match(n.string)||this.match(n.num)||this.match(n.bigint)||this.match(n.decimal)}isPrivateName(Jg){return"PrivateName"===Jg.type}getPrivateNameSV(Kg){return Kg.id.name}hasPropertyAsPrivateName(Lg){return("MemberExpression"===Lg.type||"OptionalMemberExpression"===Lg.type)&&this.isPrivateName(Lg.property)}isOptionalChain(Mg){return"OptionalMemberExpression"===Mg.type||"OptionalCallExpression"===Mg.type}isObjectProperty(Ng){return"ObjectProperty"===Ng.type}isObjectMethod(Og){return"ObjectMethod"===Og.type}initializeScopes(Pg="module"===this.options.sourceType){const Qg=this.state.labels;this.state.labels=[];const Rg=this.exportedIdentifiers;this.exportedIdentifiers=new Set();const Sg=this.inModule;this.inModule=Pg;const Tg=this.scope,Ug=this.getScopeHandler();this.scope=new Ug(this.raise.bind(this),this.inModule);const Vg=this.prodParam;this.prodParam=new Vf();const Wg=this.classScope;this.classScope=new _e(this.raise.bind(this));const Xg=this.expressionScope;return this.expressionScope=new Bf(this.raise.bind(this)),()=>{this.state.labels=Qg,this.exportedIdentifiers=Rg,this.inModule=Sg,this.scope=Tg,this.prodParam=Vg,this.classScope=Wg,this.expressionScope=Xg}}enterInitialScopes(){let Yg=0;this.inModule&&(Yg|=2),this.scope.enter(1),this.prodParam.enter(Yg)}}class Zg{constructor(){this.shorthandAssign=-1,this.doubleProto=-1,this.optionalParameters=-1}}class $g{constructor(_g,ah,bh){this.type="",this.start=ah,this.end=0,this.loc=new y(bh),null!=_g&&_g.options.ranges&&(this.range=[ah,0]),null!=_g&&_g.filename&&(this.loc.filename=_g.filename)}}const ch=$g.prototype;function dh(a){const{type:b,start:c,end:d,loc:e,range:f,extra:g,name:h}=a,i=Object.create(ch);return i.type=b,i.start=c,i.end=d,i.loc=e,i.range=f,i.extra=g,i.name=h,"Placeholder"===b&&(i.expectedNode=a.expectedNode),i}function eh(a){const{type:b,start:c,end:d,loc:e,range:f,extra:g}=a;if("Placeholder"===b)return dh(a);const h=Object.create(ch);return h.type="StringLiteral",h.start=c,h.end=d,h.loc=e,h.range=f,h.extra=g,h.value=a.value,h}ch.__clone=function(){const a=new $g(),b=Object.keys(this);for(let c=0,d=b.length;c<d;c++){const e=b[c];"leadingComments"!==e&&"trailingComments"!==e&&"innerComments"!==e&&(a[e]=this[e])}return a};class fh extends Yf{startNode(){return new $g(this,this.state.start,this.state.startLoc)}startNodeAt(gh,hh){return new $g(this,gh,hh)}startNodeAtNode(ih){return this.startNodeAt(ih.start,ih.loc.start)}finishNode(jh,kh){return this.finishNodeAt(jh,kh,this.state.lastTokEnd,this.state.lastTokEndLoc)}finishNodeAt(lh,mh,nh,oh){return lh.type=mh,lh.end=nh,lh.loc.end=oh,this.options.ranges&&(lh.range[1]=nh),this.options.attachComment&&this.processComment(lh),lh}resetStartLocation(ph,qh,rh){ph.start=qh,ph.loc.start=rh,this.options.ranges&&(ph.range[0]=qh)}resetEndLocation(sh,th=this.state.lastTokEnd,uh=this.state.lastTokEndLoc){sh.end=th,sh.loc.end=uh,this.options.ranges&&(sh.range[1]=th)}resetStartLocationFromNode(vh,wh){this.resetStartLocation(vh,wh.start,wh.loc.start)}}const xh=new Set(["_","any","bool","boolean","empty","extends","false","interface","mixed","null","number","static","string","true","typeof","void"]),yh=da({AmbiguousConditionalArrow:"Ambiguous expression: wrap the arrow functions in parentheses to disambiguate.",AmbiguousDeclareModuleKind:"Found both `declare module.exports` and `declare export` in the same module. Modules can only have 1 since they are either an ES module or they are a CommonJS module.",AssignReservedType:"Cannot overwrite reserved type %0.",DeclareClassElement:"The `declare` modifier can only appear on class fields.",DeclareClassFieldInitializer:"Initializers are not allowed in fields with the `declare` modifier.",DuplicateDeclareModuleExports:"Duplicate `declare module.exports` statement.",EnumBooleanMemberNotInitialized:"Boolean enum members need to be initialized. Use either `%0 = true,` or `%0 = false,` in enum `%1`.",EnumDuplicateMemberName:"Enum member names need to be unique, but the name `%0` has already been used before in enum `%1`.",EnumInconsistentMemberValues:"Enum `%0` has inconsistent member initializers. Either use no initializers, or consistently use literals (either booleans, numbers, or strings) for all member initializers.",EnumInvalidExplicitType:"Enum type `%1` is not valid. Use one of `boolean`, `number`, `string`, or `symbol` in enum `%0`.",EnumInvalidExplicitTypeUnknownSupplied:"Supplied enum type is not valid. Use one of `boolean`, `number`, `string`, or `symbol` in enum `%0`.",EnumInvalidMemberInitializerPrimaryType:"Enum `%0` has type `%2`, so the initializer of `%1` needs to be a %2 literal.",EnumInvalidMemberInitializerSymbolType:"Symbol enum members cannot be initialized. Use `%1,` in enum `%0`.",EnumInvalidMemberInitializerUnknownType:"The enum member initializer for `%1` needs to be a literal (either a boolean, number, or string) in enum `%0`.",EnumInvalidMemberName:"Enum member names cannot start with lowercase 'a' through 'z'. Instead of using `%0`, consider using `%1`, in enum `%2`.",EnumNumberMemberNotInitialized:"Number enum members need to be initialized, e.g. `%1 = 1` in enum `%0`.",EnumStringMemberInconsistentlyInitailized:"String enum members need to consistently either all use initializers, or use no initializers, in enum `%0`.",GetterMayNotHaveThisParam:"A getter cannot have a `this` parameter.",ImportTypeShorthandOnlyInPureImport:"The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements.",InexactInsideExact:"Explicit inexact syntax cannot appear inside an explicit exact object type.",InexactInsideNonObject:"Explicit inexact syntax cannot appear in class or interface definitions.",InexactVariance:"Explicit inexact syntax cannot have variance.",InvalidNonTypeImportInDeclareModule:"Imports within a `declare module` body must always be `import type` or `import typeof`.",MissingTypeParamDefault:"Type parameter declaration needs a default, since a preceding type parameter declaration has a default.",NestedDeclareModule:"`declare module` cannot be used inside another `declare module`.",NestedFlowComment:"Cannot have a flow comment inside another flow comment.",OptionalBindingPattern:"A binding pattern parameter cannot be optional in an implementation signature.",SetterMayNotHaveThisParam:"A setter cannot have a `this` parameter.",SpreadVariance:"Spread properties cannot have variance.",ThisParamAnnotationRequired:"A type annotation is required for the `this` parameter.",ThisParamBannedInConstructor:"Constructors cannot have a `this` parameter; constructors don't bind `this` like other functions.",ThisParamMayNotBeOptional:"The `this` parameter cannot be optional.",ThisParamMustBeFirst:"The `this` parameter must be the first function parameter.",ThisParamNoDefault:"The `this` parameter may not have a default value.",TypeBeforeInitializer:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeCastInPattern:"The type cast expression is expected to be wrapped with parenthesis.",UnexpectedExplicitInexactInObject:"Explicit inexact syntax must appear at the end of an inexact object.",UnexpectedReservedType:"Unexpected reserved type %0.",UnexpectedReservedUnderscore:"`_` is only allowed as a type argument to call or new.",UnexpectedSpaceBetweenModuloChecks:"Spaces between `%` and `checks` are not allowed here.",UnexpectedSpreadType:"Spread operator cannot appear in class or interface definitions.",UnexpectedSubtractionOperand:"Unexpected token, expected \"number\" or \"bigint\".",UnexpectedTokenAfterTypeParameter:"Expected an arrow function after this type parameter declaration.",UnexpectedTypeParameterBeforeAsyncArrowFunction:"Type parameters must come after the async keyword, e.g. instead of `<T> async () => {}`, use `async <T>() => {}`.",UnsupportedDeclareExportKind:"`declare export %0` is not supported. Use `%1` instead.",UnsupportedStatementInDeclareModule:"Only declares and type imports are allowed inside declare module.",UnterminatedFlowComment:"Unterminated flow-comment."},aa.SyntaxError);function zh(a){return"type"===a.importKind||"typeof"===a.importKind}function Ah(a){return(a.type===n.name||!!a.type.keyword)&&"from"!==a.value}const Bh={const:"declare export var",let:"declare export var",type:"export type",interface:"export interface"},Ch=/\*?\s*@((?:no)?flow)\b/,Dh={quot:"\"",amp:"&",apos:"'",lt:"<",gt:">",nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",times:"\xd7",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",divide:"\xf7",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"},Eh=/^[\da-fA-F]+$/,Fh=/^\d+$/,Gh=da({AttributeIsEmpty:"JSX attributes must only be assigned a non-empty expression.",MissingClosingTagElement:"Expected corresponding JSX closing tag for <%0>.",MissingClosingTagFragment:"Expected corresponding JSX closing tag for <>.",UnexpectedSequenceExpression:"Sequence expressions cannot be directly nested inside JSX. Did you mean to wrap it in parentheses (...)?",UnsupportedJsxValue:"JSX value should be either an expression or a quoted JSX text.",UnterminatedJsxContent:"Unterminated JSX contents.",UnwrappedAdjacentJSXElements:"Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?"},aa.SyntaxError);function Hh(a){return!!a&&("JSXOpeningFragment"===a.type||"JSXClosingFragment"===a.type)}function Ih(a){if("JSXIdentifier"===a.type)return a.name;if("JSXNamespacedName"===a.type)return a.namespace.name+":"+a.name.name;if("JSXMemberExpression"===a.type)return Ih(a.object)+"."+Ih(a.property);throw new Error("Node had unexpected type: "+a.type)}Ha.j_oTag=new Ea("<tag"),Ha.j_cTag=new Ea("</tag"),Ha.j_expr=new Ea("<tag>...</tag>",!0),n.jsxName=new h("jsxName"),n.jsxText=new h("jsxText",{beforeExpr:!0}),n.jsxTagStart=new h("jsxTagStart",{startsExpr:!0}),n.jsxTagEnd=new h("jsxTagEnd"),n.jsxTagStart.updateContext=a=>{a.push(Ha.j_expr,Ha.j_oTag)};class Jh extends _a{constructor(...Kh){super(...Kh),this.types=new Set(),this.enums=new Set(),this.constEnums=new Set(),this.classes=new Set(),this.exportOnlyBindings=new Set()}}class Lh extends bb{createScope(Mh){return new Jh(Mh)}declareName(Nh,Oh,Ph){const Qh=this.currentScope();if(1024&Oh){this.maybeExportDefined(Qh,Nh),Qh.exportOnlyBindings.add(Nh);return}super.declareName(...arguments),2&Oh&&(1&Oh||(this.checkRedeclarationInScope(Qh,Nh,Oh,Ph),this.maybeExportDefined(Qh,Nh)),Qh.types.add(Nh)),256&Oh&&Qh.enums.add(Nh),512&Oh&&Qh.constEnums.add(Nh),128&Oh&&Qh.classes.add(Nh)}isRedeclaredInScope(Rh,Sh,Th){if(Rh.enums.has(Sh)){if(256&Th){const Uh=!!(512&Th),Vh=Rh.constEnums.has(Sh);return Uh!==Vh}return!0}return 128&Th&&Rh.classes.has(Sh)?!!Rh.lexical.has(Sh)&&!!(1&Th):!!(2&Th&&Rh.types.has(Sh))||super.isRedeclaredInScope(...arguments)}checkLocalExport(Wh){const Xh=this.scopeStack[0],{name:Yh}=Wh;Xh.types.has(Yh)||Xh.exportOnlyBindings.has(Yh)||super.checkLocalExport(Wh)}}function Zh(a){if(null==a)throw new Error(`Unexpected ${a} value.`);return a}function $h(a){if(!a)throw new Error("Assert fail")}const _h=da({AbstractMethodHasImplementation:"Method '%0' cannot have an implementation because it is marked abstract.",AbstractPropertyHasInitializer:"Property '%0' cannot have an initializer because it is marked abstract.",AccesorCannotDeclareThisParameter:"'get' and 'set' accessors cannot declare 'this' parameters.",AccesorCannotHaveTypeParameters:"An accessor cannot have type parameters.",ClassMethodHasDeclare:"Class methods cannot have the 'declare' modifier.",ClassMethodHasReadonly:"Class methods cannot have the 'readonly' modifier.",ConstructorHasTypeParameters:"Type parameters cannot appear on a constructor declaration.",DeclareAccessor:"'declare' is not allowed in %0ters.",DeclareClassFieldHasInitializer:"Initializers are not allowed in ambient contexts.",DeclareFunctionHasImplementation:"An implementation cannot be declared in ambient contexts.",DuplicateAccessibilityModifier:"Accessibility modifier already seen.",DuplicateModifier:"Duplicate modifier: '%0'.",EmptyHeritageClauseType:"'%0' list cannot be empty.",EmptyTypeArguments:"Type argument list cannot be empty.",EmptyTypeParameters:"Type parameter list cannot be empty.",ExpectedAmbientAfterExportDeclare:"'export declare' must be followed by an ambient declaration.",ImportAliasHasImportType:"An import alias can not use 'import type'.",IncompatibleModifiers:"'%0' modifier cannot be used with '%1' modifier.",IndexSignatureHasAbstract:"Index signatures cannot have the 'abstract' modifier.",IndexSignatureHasAccessibility:"Index signatures cannot have an accessibility modifier ('%0').",IndexSignatureHasDeclare:"Index signatures cannot have the 'declare' modifier.",IndexSignatureHasOverride:"'override' modifier cannot appear on an index signature.",IndexSignatureHasStatic:"Index signatures cannot have the 'static' modifier.",InvalidModifierOnTypeMember:"'%0' modifier cannot appear on a type member.",InvalidModifiersOrder:"'%0' modifier must precede '%1' modifier.",InvalidTupleMemberLabel:"Tuple members must be labeled with a simple identifier.",MissingInterfaceName:"'interface' declarations must be followed by an identifier.",MixedLabeledAndUnlabeledElements:"Tuple members must all have names or all not have names.",NonAbstractClassHasAbstractMethod:"Abstract methods can only appear within an abstract class.",NonClassMethodPropertyHasAbstractModifer:"'abstract' modifier can only appear on a class, method, or property declaration.",OptionalTypeBeforeRequired:"A required element cannot follow an optional element.",OverrideNotInSubClass:"This member cannot have an 'override' modifier because its containing class does not extend another class.",PatternIsOptional:"A binding pattern parameter cannot be optional in an implementation signature.",PrivateElementHasAbstract:"Private elements cannot have the 'abstract' modifier.",PrivateElementHasAccessibility:"Private elements cannot have an accessibility modifier ('%0').",ReadonlyForMethodSignature:"'readonly' modifier can only appear on a property declaration or index signature.",SetAccesorCannotHaveOptionalParameter:"A 'set' accessor cannot have an optional parameter.",SetAccesorCannotHaveRestParameter:"A 'set' accessor cannot have rest parameter.",SetAccesorCannotHaveReturnType:"A 'set' accessor cannot have a return type annotation.",StaticBlockCannotHaveModifier:"Static class blocks cannot have any modifier.",TypeAnnotationAfterAssign:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeImportCannotSpecifyDefaultAndNamed:"A type-only import can specify a default import or named bindings, but not both.",UnexpectedParameterModifier:"A parameter property is only allowed in a constructor implementation.",UnexpectedReadonly:"'readonly' type modifier is only permitted on array and tuple literal types.",UnexpectedTypeAnnotation:"Did not expect a type annotation here.",UnexpectedTypeCastInParameter:"Unexpected type cast in parameter position.",UnsupportedImportTypeArgument:"Argument in a type import must be a string literal.",UnsupportedParameterPropertyKind:"A parameter property may not be declared using a binding pattern.",UnsupportedSignatureParameterKind:"Name in a signature must be an Identifier, ObjectPattern or ArrayPattern, instead got %0."},aa.SyntaxError);function ai(a){return"private"===a||"public"===a||"protected"===a}n.placeholder=new h("%%",{startsExpr:!0});const bi=da({ClassNameIsRequired:"A class name is required."},aa.SyntaxError);function ci(a,b){return a.some(a=>Array.isArray(a)?a[0]===b:a===b)}function di(a,b,c){const d=a.find(a=>Array.isArray(a)?a[0]===b:a===b);return d&&Array.isArray(d)?d[1][c]:null}const ei=["minimal","fsharp","hack","smart"],fi=["%","#"],gi=["hash","bar"],hi={estree:Da,jsx:a=>class extends a{jsxReadToken(){let b="",c=this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(this.state.start,Gh.UnterminatedJsxContent);const d=this.input.charCodeAt(this.state.pos);switch(d){case 60:case 123:if(this.state.pos===this.state.start){if(60===d&&this.state.exprAllowed)return++this.state.pos,this.finishToken(n.jsxTagStart);return super.getTokenFromCode(d)}return b+=this.input.slice(c,this.state.pos),this.finishToken(n.jsxText,b);case 38:b+=this.input.slice(c,this.state.pos),b+=this.jsxReadEntity(),c=this.state.pos;break;case 62:case 125:default:q(d)?(b+=this.input.slice(c,this.state.pos),b+=this.jsxReadNewLine(!0),c=this.state.pos):++this.state.pos}}}jsxReadNewLine(e){const f=this.input.charCodeAt(this.state.pos);let g;return++this.state.pos,13===f&&10===this.input.charCodeAt(this.state.pos)?(++this.state.pos,g=e?"\n":"\r\n"):g=String.fromCharCode(f),++this.state.curLine,this.state.lineStart=this.state.pos,g}jsxReadString(h){let i="",j=++this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(this.state.start,ba.UnterminatedString);const k=this.input.charCodeAt(this.state.pos);if(k===h)break;38===k?(i+=this.input.slice(j,this.state.pos),i+=this.jsxReadEntity(),j=this.state.pos):q(k)?(i+=this.input.slice(j,this.state.pos),i+=this.jsxReadNewLine(!1),j=this.state.pos):++this.state.pos}return i+=this.input.slice(j,this.state.pos++),this.finishToken(n.string,i)}jsxReadEntity(){let l="",m=0,o,p=this.input[this.state.pos];const r=++this.state.pos;for(;this.state.pos<this.length&&m++ <10;){if(";"===(p=this.input[this.state.pos++])){"#"===l[0]?"x"===l[1]?(l=l.substr(2),Eh.test(l)&&(o=String.fromCodePoint(parseInt(l,16)))):(l=l.substr(1),Fh.test(l)&&(o=String.fromCodePoint(parseInt(l,10)))):o=Dh[l];break}l+=p}return o||(this.state.pos=r,"&")}jsxReadWord(){let s;const t=this.state.pos;do s=this.input.charCodeAt(++this.state.pos);while(Qa(s)||45===s);return this.finishToken(n.jsxName,this.input.slice(t,this.state.pos))}jsxParseIdentifier(){const u=this.startNode();return this.match(n.jsxName)?u.name=this.state.value:this.state.type.keyword?u.name=this.state.type.keyword:this.unexpected(),this.next(),this.finishNode(u,"JSXIdentifier")}jsxParseNamespacedName(){const v=this.state.start,w=this.state.startLoc,x=this.jsxParseIdentifier();if(!this.eat(n.colon))return x;const y=this.startNodeAt(v,w);return y.namespace=x,y.name=this.jsxParseIdentifier(),this.finishNode(y,"JSXNamespacedName")}jsxParseElementName(){const z=this.state.start,A=this.state.startLoc;let B=this.jsxParseNamespacedName();if("JSXNamespacedName"===B.type)return B;for(;this.eat(n.dot);){const C=this.startNodeAt(z,A);C.object=B,C.property=this.jsxParseIdentifier(),B=this.finishNode(C,"JSXMemberExpression")}return B}jsxParseAttributeValue(){let D;switch(this.state.type){case n.braceL:return D=this.startNode(),this.next(),"JSXEmptyExpression"===(D=this.jsxParseExpressionContainer(D)).expression.type&&this.raise(D.start,Gh.AttributeIsEmpty),D;case n.jsxTagStart:case n.string:return this.parseExprAtom();default:throw this.raise(this.state.start,Gh.UnsupportedJsxValue)}}jsxParseEmptyExpression(){const E=this.startNodeAt(this.state.lastTokEnd,this.state.lastTokEndLoc);return this.finishNodeAt(E,"JSXEmptyExpression",this.state.start,this.state.startLoc)}jsxParseSpreadChild(F){return this.next(),F.expression=this.parseExpression(),this.expect(n.braceR),this.finishNode(F,"JSXSpreadChild")}jsxParseExpressionContainer(G){if(this.match(n.braceR))G.expression=this.jsxParseEmptyExpression();else{const H=this.parseExpression();G.expression=H}return this.expect(n.braceR),this.finishNode(G,"JSXExpressionContainer")}jsxParseAttribute(){const I=this.startNode();return this.eat(n.braceL)?(this.expect(n.ellipsis),I.argument=this.parseMaybeAssignAllowIn(),this.expect(n.braceR),this.finishNode(I,"JSXSpreadAttribute")):(I.name=this.jsxParseNamespacedName(),I.value=this.eat(n.eq)?this.jsxParseAttributeValue():null,this.finishNode(I,"JSXAttribute"))}jsxParseOpeningElementAt(J,K){const L=this.startNodeAt(J,K);return this.match(n.jsxTagEnd)?(this.expect(n.jsxTagEnd),this.finishNode(L,"JSXOpeningFragment")):(L.name=this.jsxParseElementName(),this.jsxParseOpeningElementAfterName(L))}jsxParseOpeningElementAfterName(M){const N=[];for(;!this.match(n.slash)&&!this.match(n.jsxTagEnd);)N.push(this.jsxParseAttribute());return M.attributes=N,M.selfClosing=this.eat(n.slash),this.expect(n.jsxTagEnd),this.finishNode(M,"JSXOpeningElement")}jsxParseClosingElementAt(O,P){const Q=this.startNodeAt(O,P);return this.match(n.jsxTagEnd)?(this.expect(n.jsxTagEnd),this.finishNode(Q,"JSXClosingFragment")):(Q.name=this.jsxParseElementName(),this.expect(n.jsxTagEnd),this.finishNode(Q,"JSXClosingElement"))}jsxParseElementAt(R,S){const T=this.startNodeAt(R,S),U=[],V=this.jsxParseOpeningElementAt(R,S);let W=null;if(!V.selfClosing){contents:for(;;)switch(this.state.type){case n.jsxTagStart:if(R=this.state.start,S=this.state.startLoc,this.next(),this.eat(n.slash)){W=this.jsxParseClosingElementAt(R,S);break contents}U.push(this.jsxParseElementAt(R,S));break;case n.jsxText:U.push(this.parseExprAtom());break;case n.braceL:{const X=this.startNode();this.next(),this.match(n.ellipsis)?U.push(this.jsxParseSpreadChild(X)):U.push(this.jsxParseExpressionContainer(X));break}default:throw this.unexpected()}Hh(V)&&!Hh(W)?this.raise(W.start,Gh.MissingClosingTagFragment):!Hh(V)&&Hh(W)?this.raise(W.start,Gh.MissingClosingTagElement,Ih(V.name)):Hh(V)||Hh(W)||Ih(W.name)!==Ih(V.name)&&this.raise(W.start,Gh.MissingClosingTagElement,Ih(V.name))}if(Hh(V)?(T.openingFragment=V,T.closingFragment=W):(T.openingElement=V,T.closingElement=W),T.children=U,this.isRelational("<"))throw this.raise(this.state.start,Gh.UnwrappedAdjacentJSXElements);return Hh(V)?this.finishNode(T,"JSXFragment"):this.finishNode(T,"JSXElement")}jsxParseElement(){const Y=this.state.start,Z=this.state.startLoc;return this.next(),this.jsxParseElementAt(Y,Z)}parseExprAtom($){return this.match(n.jsxText)?this.parseLiteral(this.state.value,"JSXText"):this.match(n.jsxTagStart)?this.jsxParseElement():this.isRelational("<")&&33!==this.input.charCodeAt(this.state.pos)?(this.finishToken(n.jsxTagStart),this.jsxParseElement()):super.parseExprAtom($)}createLookaheadState(_){const aa=super.createLookaheadState(_);return aa.inPropertyName=_.inPropertyName,aa}getTokenFromCode(ca){if(this.state.inPropertyName)return super.getTokenFromCode(ca);const da=this.curContext();if(da===Ha.j_expr)return this.jsxReadToken();if(da===Ha.j_oTag||da===Ha.j_cTag){if(Pa(ca))return this.jsxReadWord();if(62===ca)return++this.state.pos,this.finishToken(n.jsxTagEnd);if((34===ca||39===ca)&&da===Ha.j_oTag)return this.jsxReadString(ca)}return 60===ca&&this.state.exprAllowed&&33!==this.input.charCodeAt(this.state.pos+1)?(++this.state.pos,this.finishToken(n.jsxTagStart)):super.getTokenFromCode(ca)}updateContext(ea){super.updateContext(ea);const{context:fa,type:ga}=this.state;if(ga===n.slash&&ea===n.jsxTagStart)fa.splice(-2,2,Ha.j_cTag),this.state.exprAllowed=!1;else if(ga===n.jsxTagEnd){const ha=fa.pop();ha===Ha.j_oTag&&ea===n.slash||ha===Ha.j_cTag?(fa.pop(),this.state.exprAllowed=fa[fa.length-1]===Ha.j_expr):this.state.exprAllowed=!0}else ga.keyword&&(ea===n.dot||ea===n.questionDot)?this.state.exprAllowed=!1:this.state.exprAllowed=ga.beforeExpr}},flow:a=>class extends a{constructor(...b){super(...b),this.flowPragma=void 0}getScopeHandler(){return Hb}shouldParseTypes(){return this.getPluginOption("flow","all")||"flow"===this.flowPragma}shouldParseEnums(){return!!this.getPluginOption("flow","enums")}finishToken(c,d){return c!==n.string&&c!==n.semi&&c!==n.interpreterDirective&& void 0===this.flowPragma&&(this.flowPragma=null),super.finishToken(c,d)}addComment(e){if(void 0===this.flowPragma){const f=Ch.exec(e.value);if(f)if("flow"===f[1])this.flowPragma="flow";else if("noflow"===f[1])this.flowPragma="noflow";else throw new Error("Unexpected flow pragma")}return super.addComment(e)}flowParseTypeInitialiser(g){const h=this.state.inType;this.state.inType=!0,this.expect(g||n.colon);const i=this.flowParseType();return this.state.inType=h,i}flowParsePredicate(){const j=this.startNode(),k=this.state.start;return(this.next(),this.expectContextual("checks"),this.state.lastTokStart>k+1&&this.raise(k,yh.UnexpectedSpaceBetweenModuloChecks),this.eat(n.parenL))?(j.value=this.parseExpression(),this.expect(n.parenR),this.finishNode(j,"DeclaredPredicate")):this.finishNode(j,"InferredPredicate")}flowParseTypeAndPredicateInitialiser(){const l=this.state.inType;this.state.inType=!0,this.expect(n.colon);let m=null,o=null;return this.match(n.modulo)?(this.state.inType=l,o=this.flowParsePredicate()):(m=this.flowParseType(),this.state.inType=l,this.match(n.modulo)&&(o=this.flowParsePredicate())),[m,o]}flowParseDeclareClass(p){return this.next(),this.flowParseInterfaceish(p,!0),this.finishNode(p,"DeclareClass")}flowParseDeclareFunction(q){this.next();const r=q.id=this.parseIdentifier(),s=this.startNode(),t=this.startNode();this.isRelational("<")?s.typeParameters=this.flowParseTypeParameterDeclaration():s.typeParameters=null,this.expect(n.parenL);const u=this.flowParseFunctionTypeParams();return s.params=u.params,s.rest=u.rest,s.this=u._this,this.expect(n.parenR),[s.returnType,q.predicate]=this.flowParseTypeAndPredicateInitialiser(),t.typeAnnotation=this.finishNode(s,"FunctionTypeAnnotation"),r.typeAnnotation=this.finishNode(t,"TypeAnnotation"),this.resetEndLocation(r),this.semicolon(),this.scope.declareName(q.id.name,2048,q.id.start),this.finishNode(q,"DeclareFunction")}flowParseDeclare(v,w){if(this.match(n._class))return this.flowParseDeclareClass(v);if(this.match(n._function))return this.flowParseDeclareFunction(v);if(this.match(n._var))return this.flowParseDeclareVariable(v);if(this.eatContextual("module"))return this.match(n.dot)?this.flowParseDeclareModuleExports(v):(w&&this.raise(this.state.lastTokStart,yh.NestedDeclareModule),this.flowParseDeclareModule(v));if(this.isContextual("type"))return this.flowParseDeclareTypeAlias(v);if(this.isContextual("opaque"))return this.flowParseDeclareOpaqueType(v);if(this.isContextual("interface"))return this.flowParseDeclareInterface(v);if(this.match(n._export))return this.flowParseDeclareExportDeclaration(v,w);throw this.unexpected()}flowParseDeclareVariable(x){return this.next(),x.id=this.flowParseTypeAnnotatableIdentifier(!0),this.scope.declareName(x.id.name,5,x.id.start),this.semicolon(),this.finishNode(x,"DeclareVariable")}flowParseDeclareModule(y){this.scope.enter(0),this.match(n.string)?y.id=this.parseExprAtom():y.id=this.parseIdentifier();const z=y.body=this.startNode(),A=z.body=[];for(this.expect(n.braceL);!this.match(n.braceR);){let B=this.startNode();this.match(n._import)?(this.next(),this.isContextual("type")||this.match(n._typeof)||this.raise(this.state.lastTokStart,yh.InvalidNonTypeImportInDeclareModule),this.parseImport(B)):(this.expectContextual("declare",yh.UnsupportedStatementInDeclareModule),B=this.flowParseDeclare(B,!0)),A.push(B)}this.scope.exit(),this.expect(n.braceR),this.finishNode(z,"BlockStatement");let C=null,D=!1;return A.forEach(a=>{var b;"DeclareExportAllDeclaration"!==(b=a).type&&("DeclareExportDeclaration"!==b.type||b.declaration&&("TypeAlias"===b.declaration.type||"InterfaceDeclaration"===b.declaration.type))?"DeclareModuleExports"===a.type&&(D&&this.raise(a.start,yh.DuplicateDeclareModuleExports),"ES"===C&&this.raise(a.start,yh.AmbiguousDeclareModuleKind),C="CommonJS",D=!0):("CommonJS"===C&&this.raise(a.start,yh.AmbiguousDeclareModuleKind),C="ES")}),y.kind=C||"CommonJS",this.finishNode(y,"DeclareModule")}flowParseDeclareExportDeclaration(E,F){if(this.expect(n._export),this.eat(n._default))return this.match(n._function)||this.match(n._class)?E.declaration=this.flowParseDeclare(this.startNode()):(E.declaration=this.flowParseType(),this.semicolon()),E.default=!0,this.finishNode(E,"DeclareExportDeclaration");if(this.match(n._const)||this.isLet()||(this.isContextual("type")||this.isContextual("interface"))&&!F){const G=this.state.value,H=Bh[G];throw this.raise(this.state.start,yh.UnsupportedDeclareExportKind,G,H)}if(this.match(n._var)||this.match(n._function)||this.match(n._class)||this.isContextual("opaque"))return E.declaration=this.flowParseDeclare(this.startNode()),E.default=!1,this.finishNode(E,"DeclareExportDeclaration");if(this.match(n.star)||this.match(n.braceL)||this.isContextual("interface")||this.isContextual("type")||this.isContextual("opaque"))return"ExportNamedDeclaration"===(E=this.parseExport(E)).type&&(E.type="ExportDeclaration",E.default=!1,delete E.exportKind),E.type="Declare"+E.type,E;throw this.unexpected()}flowParseDeclareModuleExports(I){return this.next(),this.expectContextual("exports"),I.typeAnnotation=this.flowParseTypeAnnotation(),this.semicolon(),this.finishNode(I,"DeclareModuleExports")}flowParseDeclareTypeAlias(J){return this.next(),this.flowParseTypeAlias(J),J.type="DeclareTypeAlias",J}flowParseDeclareOpaqueType(K){return this.next(),this.flowParseOpaqueType(K,!0),K.type="DeclareOpaqueType",K}flowParseDeclareInterface(L){return this.next(),this.flowParseInterfaceish(L),this.finishNode(L,"DeclareInterface")}flowParseInterfaceish(M,N=!1){if(M.id=this.flowParseRestrictedIdentifier(!N,!0),this.scope.declareName(M.id.name,N?17:9,M.id.start),this.isRelational("<")?M.typeParameters=this.flowParseTypeParameterDeclaration():M.typeParameters=null,M.extends=[],M.implements=[],M.mixins=[],this.eat(n._extends))do M.extends.push(this.flowParseInterfaceExtends());while(!N&&this.eat(n.comma));if(this.isContextual("mixins")){this.next();do M.mixins.push(this.flowParseInterfaceExtends());while(this.eat(n.comma))}if(this.isContextual("implements")){this.next();do M.implements.push(this.flowParseInterfaceExtends());while(this.eat(n.comma))}M.body=this.flowParseObjectType({allowStatic:N,allowExact:!1,allowSpread:!1,allowProto:N,allowInexact:!1})}flowParseInterfaceExtends(){const O=this.startNode();return O.id=this.flowParseQualifiedTypeIdentifier(),this.isRelational("<")?O.typeParameters=this.flowParseTypeParameterInstantiation():O.typeParameters=null,this.finishNode(O,"InterfaceExtends")}flowParseInterface(P){return this.flowParseInterfaceish(P),this.finishNode(P,"InterfaceDeclaration")}checkNotUnderscore(Q){"_"===Q&&this.raise(this.state.start,yh.UnexpectedReservedUnderscore)}checkReservedType(R,S,T){xh.has(R)&&this.raise(S,T?yh.AssignReservedType:yh.UnexpectedReservedType,R)}flowParseRestrictedIdentifier(U,V){return this.checkReservedType(this.state.value,this.state.start,V),this.parseIdentifier(U)}flowParseTypeAlias(W){return W.id=this.flowParseRestrictedIdentifier(!1,!0),this.scope.declareName(W.id.name,9,W.id.start),this.isRelational("<")?W.typeParameters=this.flowParseTypeParameterDeclaration():W.typeParameters=null,W.right=this.flowParseTypeInitialiser(n.eq),this.semicolon(),this.finishNode(W,"TypeAlias")}flowParseOpaqueType(X,Y){return this.expectContextual("type"),X.id=this.flowParseRestrictedIdentifier(!0,!0),this.scope.declareName(X.id.name,9,X.id.start),this.isRelational("<")?X.typeParameters=this.flowParseTypeParameterDeclaration():X.typeParameters=null,X.supertype=null,this.match(n.colon)&&(X.supertype=this.flowParseTypeInitialiser(n.colon)),X.impltype=null,Y||(X.impltype=this.flowParseTypeInitialiser(n.eq)),this.semicolon(),this.finishNode(X,"OpaqueType")}flowParseTypeParameter(Z=!1){const $=this.state.start,_=this.startNode(),aa=this.flowParseVariance(),ca=this.flowParseTypeAnnotatableIdentifier();return _.name=ca.name,_.variance=aa,_.bound=ca.typeAnnotation,this.match(n.eq)?(this.eat(n.eq),_.default=this.flowParseType()):Z&&this.raise($,yh.MissingTypeParamDefault),this.finishNode(_,"TypeParameter")}flowParseTypeParameterDeclaration(){const da=this.state.inType,ea=this.startNode();ea.params=[],this.state.inType=!0,this.isRelational("<")||this.match(n.jsxTagStart)?this.next():this.unexpected();let fa=!1;do{const ga=this.flowParseTypeParameter(fa);ea.params.push(ga),ga.default&&(fa=!0),this.isRelational(">")||this.expect(n.comma)}while(!this.isRelational(">"));return this.expectRelational(">"),this.state.inType=da,this.finishNode(ea,"TypeParameterDeclaration")}flowParseTypeParameterInstantiation(){const ha=this.startNode(),ia=this.state.inType;ha.params=[],this.state.inType=!0,this.expectRelational("<");const ja=this.state.noAnonFunctionType;for(this.state.noAnonFunctionType=!1;!this.isRelational(">");)ha.params.push(this.flowParseType()),this.isRelational(">")||this.expect(n.comma);return this.state.noAnonFunctionType=ja,this.expectRelational(">"),this.state.inType=ia,this.finishNode(ha,"TypeParameterInstantiation")}flowParseTypeParameterInstantiationCallOrNew(){const ka=this.startNode(),la=this.state.inType;for(ka.params=[],this.state.inType=!0,this.expectRelational("<");!this.isRelational(">");)ka.params.push(this.flowParseTypeOrImplicitInstantiation()),this.isRelational(">")||this.expect(n.comma);return this.expectRelational(">"),this.state.inType=la,this.finishNode(ka,"TypeParameterInstantiation")}flowParseInterfaceType(){const ma=this.startNode();if(this.expectContextual("interface"),ma.extends=[],this.eat(n._extends))do ma.extends.push(this.flowParseInterfaceExtends());while(this.eat(n.comma));return ma.body=this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!1,allowProto:!1,allowInexact:!1}),this.finishNode(ma,"InterfaceTypeAnnotation")}flowParseObjectPropertyKey(){return this.match(n.num)||this.match(n.string)?this.parseExprAtom():this.parseIdentifier(!0)}flowParseObjectTypeIndexer(na,oa,pa){return na.static=oa,this.lookahead().type===n.colon?(na.id=this.flowParseObjectPropertyKey(),na.key=this.flowParseTypeInitialiser()):(na.id=null,na.key=this.flowParseType()),this.expect(n.bracketR),na.value=this.flowParseTypeInitialiser(),na.variance=pa,this.finishNode(na,"ObjectTypeIndexer")}flowParseObjectTypeInternalSlot(qa,ra){return qa.static=ra,qa.id=this.flowParseObjectPropertyKey(),this.expect(n.bracketR),this.expect(n.bracketR),this.isRelational("<")||this.match(n.parenL)?(qa.method=!0,qa.optional=!1,qa.value=this.flowParseObjectTypeMethodish(this.startNodeAt(qa.start,qa.loc.start))):(qa.method=!1,this.eat(n.question)&&(qa.optional=!0),qa.value=this.flowParseTypeInitialiser()),this.finishNode(qa,"ObjectTypeInternalSlot")}flowParseObjectTypeMethodish(sa){for(sa.params=[],sa.rest=null,sa.typeParameters=null,sa.this=null,this.isRelational("<")&&(sa.typeParameters=this.flowParseTypeParameterDeclaration()),this.expect(n.parenL),this.match(n._this)&&(sa.this=this.flowParseFunctionTypeParam(!0),sa.this.name=null,this.match(n.parenR)||this.expect(n.comma));!this.match(n.parenR)&&!this.match(n.ellipsis);)sa.params.push(this.flowParseFunctionTypeParam(!1)),this.match(n.parenR)||this.expect(n.comma);return this.eat(n.ellipsis)&&(sa.rest=this.flowParseFunctionTypeParam(!1)),this.expect(n.parenR),sa.returnType=this.flowParseTypeInitialiser(),this.finishNode(sa,"FunctionTypeAnnotation")}flowParseObjectTypeCallProperty(ta,ua){const va=this.startNode();return ta.static=ua,ta.value=this.flowParseObjectTypeMethodish(va),this.finishNode(ta,"ObjectTypeCallProperty")}flowParseObjectType({allowStatic:wa,allowExact:xa,allowSpread:ya,allowProto:za,allowInexact:Aa}){const Ba=this.state.inType;this.state.inType=!0;const Ca=this.startNode();Ca.callProperties=[],Ca.properties=[],Ca.indexers=[],Ca.internalSlots=[];let Da,Ea,Fa=!1;for(xa&&this.match(n.braceBarL)?(this.expect(n.braceBarL),Da=n.braceBarR,Ea=!0):(this.expect(n.braceL),Da=n.braceR,Ea=!1),Ca.exact=Ea;!this.match(Da);){let Ga=!1,Ia=null,Ja=null;const Ka=this.startNode();if(za&&this.isContextual("proto")){const La=this.lookahead();La.type!==n.colon&&La.type!==n.question&&(this.next(),Ia=this.state.start,wa=!1)}if(wa&&this.isContextual("static")){const Ma=this.lookahead();Ma.type!==n.colon&&Ma.type!==n.question&&(this.next(),Ga=!0)}const Na=this.flowParseVariance();if(this.eat(n.bracketL))null!=Ia&&this.unexpected(Ia),this.eat(n.bracketL)?(Na&&this.unexpected(Na.start),Ca.internalSlots.push(this.flowParseObjectTypeInternalSlot(Ka,Ga))):Ca.indexers.push(this.flowParseObjectTypeIndexer(Ka,Ga,Na));else if(this.match(n.parenL)||this.isRelational("<"))null!=Ia&&this.unexpected(Ia),Na&&this.unexpected(Na.start),Ca.callProperties.push(this.flowParseObjectTypeCallProperty(Ka,Ga));else{let Oa="init";if(this.isContextual("get")||this.isContextual("set")){const Pa=this.lookahead();(Pa.type===n.name||Pa.type===n.string||Pa.type===n.num)&&(Oa=this.state.value,this.next())}const Qa=this.flowParseObjectTypeProperty(Ka,Ga,Ia,Na,Oa,ya,null!=Aa?Aa:!Ea);null===Qa?(Fa=!0,Ja=this.state.lastTokStart):Ca.properties.push(Qa)}this.flowObjectTypeSemicolon(),!Ja||this.match(n.braceR)||this.match(n.braceBarR)||this.raise(Ja,yh.UnexpectedExplicitInexactInObject)}this.expect(Da),ya&&(Ca.inexact=Fa);const Ra=this.finishNode(Ca,"ObjectTypeAnnotation");return this.state.inType=Ba,Ra}flowParseObjectTypeProperty(Sa,Ta,Ua,Va,Wa,Xa,Ya){if(this.eat(n.ellipsis)){const $a=this.match(n.comma)||this.match(n.semi)||this.match(n.braceR)||this.match(n.braceBarR);return $a?(Xa?Ya||this.raise(this.state.lastTokStart,yh.InexactInsideExact):this.raise(this.state.lastTokStart,yh.InexactInsideNonObject),Va&&this.raise(Va.start,yh.InexactVariance),null):(Xa||this.raise(this.state.lastTokStart,yh.UnexpectedSpreadType),null!=Ua&&this.unexpected(Ua),Va&&this.raise(Va.start,yh.SpreadVariance),Sa.argument=this.flowParseType(),this.finishNode(Sa,"ObjectTypeSpreadProperty"))}{Sa.key=this.flowParseObjectPropertyKey(),Sa.static=Ta,Sa.proto=null!=Ua,Sa.kind=Wa;let _a=!1;return this.isRelational("<")||this.match(n.parenL)?(Sa.method=!0,null!=Ua&&this.unexpected(Ua),Va&&this.unexpected(Va.start),Sa.value=this.flowParseObjectTypeMethodish(this.startNodeAt(Sa.start,Sa.loc.start)),("get"===Wa||"set"===Wa)&&this.flowCheckGetterSetterParams(Sa),!Xa&&"constructor"===Sa.key.name&&Sa.value.this&&this.raise(Sa.value.this.start,yh.ThisParamBannedInConstructor)):("init"!==Wa&&this.unexpected(),Sa.method=!1,this.eat(n.question)&&(_a=!0),Sa.value=this.flowParseTypeInitialiser(),Sa.variance=Va),Sa.optional=_a,this.finishNode(Sa,"ObjectTypeProperty")}}flowCheckGetterSetterParams(ab){const bb="get"===ab.kind?0:1,cb=ab.start,db=ab.value.params.length+(ab.value.rest?1:0);ab.value.this&&this.raise(ab.value.this.start,"get"===ab.kind?yh.GetterMayNotHaveThisParam:yh.SetterMayNotHaveThisParam),db!==bb&&("get"===ab.kind?this.raise(cb,ba.BadGetterArity):this.raise(cb,ba.BadSetterArity)),"set"===ab.kind&&ab.value.rest&&this.raise(cb,ba.BadSetterRestParameter)}flowObjectTypeSemicolon(){this.eat(n.semi)||this.eat(n.comma)||this.match(n.braceR)||this.match(n.braceBarR)||this.unexpected()}flowParseQualifiedTypeIdentifier(eb,fb,gb){eb=eb||this.state.start,fb=fb||this.state.startLoc;let hb=gb||this.flowParseRestrictedIdentifier(!0);for(;this.eat(n.dot);){const ib=this.startNodeAt(eb,fb);ib.qualification=hb,ib.id=this.flowParseRestrictedIdentifier(!0),hb=this.finishNode(ib,"QualifiedTypeIdentifier")}return hb}flowParseGenericType(jb,kb,lb){const mb=this.startNodeAt(jb,kb);return mb.typeParameters=null,mb.id=this.flowParseQualifiedTypeIdentifier(jb,kb,lb),this.isRelational("<")&&(mb.typeParameters=this.flowParseTypeParameterInstantiation()),this.finishNode(mb,"GenericTypeAnnotation")}flowParseTypeofType(){const nb=this.startNode();return this.expect(n._typeof),nb.argument=this.flowParsePrimaryType(),this.finishNode(nb,"TypeofTypeAnnotation")}flowParseTupleType(){const ob=this.startNode();for(ob.types=[],this.expect(n.bracketL);this.state.pos<this.length&&!this.match(n.bracketR);){if(ob.types.push(this.flowParseType()),this.match(n.bracketR))break;this.expect(n.comma)}return this.expect(n.bracketR),this.finishNode(ob,"TupleTypeAnnotation")}flowParseFunctionTypeParam(pb){let qb=null,rb=!1,sb=null;const tb=this.startNode(),ub=this.lookahead(),vb=this.state.type===n._this;return ub.type===n.colon||ub.type===n.question?(vb&&!pb&&this.raise(tb.start,yh.ThisParamMustBeFirst),qb=this.parseIdentifier(vb),this.eat(n.question)&&(rb=!0,vb&&this.raise(tb.start,yh.ThisParamMayNotBeOptional)),sb=this.flowParseTypeInitialiser()):sb=this.flowParseType(),tb.name=qb,tb.optional=rb,tb.typeAnnotation=sb,this.finishNode(tb,"FunctionTypeParam")}reinterpretTypeAsFunctionTypeParam(wb){const xb=this.startNodeAt(wb.start,wb.loc.start);return xb.name=null,xb.optional=!1,xb.typeAnnotation=wb,this.finishNode(xb,"FunctionTypeParam")}flowParseFunctionTypeParams(yb=[]){let zb=null,Ab=null;for(this.match(n._this)&&((Ab=this.flowParseFunctionTypeParam(!0)).name=null,this.match(n.parenR)||this.expect(n.comma));!this.match(n.parenR)&&!this.match(n.ellipsis);)yb.push(this.flowParseFunctionTypeParam(!1)),this.match(n.parenR)||this.expect(n.comma);return this.eat(n.ellipsis)&&(zb=this.flowParseFunctionTypeParam(!1)),{params:yb,rest:zb,_this:Ab}}flowIdentToTypeAnnotation(Bb,Cb,Db,Eb){switch(Eb.name){case"any":return this.finishNode(Db,"AnyTypeAnnotation");case"bool":case"boolean":return this.finishNode(Db,"BooleanTypeAnnotation");case"mixed":return this.finishNode(Db,"MixedTypeAnnotation");case"empty":return this.finishNode(Db,"EmptyTypeAnnotation");case"number":return this.finishNode(Db,"NumberTypeAnnotation");case"string":return this.finishNode(Db,"StringTypeAnnotation");case"symbol":return this.finishNode(Db,"SymbolTypeAnnotation");default:return this.checkNotUnderscore(Eb.name),this.flowParseGenericType(Bb,Cb,Eb)}}flowParsePrimaryType(){const Fb=this.state.start,Gb=this.state.startLoc,Ib=this.startNode();let Jb,Kb,Lb=!1;const Mb=this.state.noAnonFunctionType;switch(this.state.type){case n.name:if(this.isContextual("interface"))return this.flowParseInterfaceType();return this.flowIdentToTypeAnnotation(Fb,Gb,Ib,this.parseIdentifier());case n.braceL:return this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!0,allowProto:!1,allowInexact:!0});case n.braceBarL:return this.flowParseObjectType({allowStatic:!1,allowExact:!0,allowSpread:!0,allowProto:!1,allowInexact:!1});case n.bracketL:return this.state.noAnonFunctionType=!1,Kb=this.flowParseTupleType(),this.state.noAnonFunctionType=Mb,Kb;case n.relational:if("<"===this.state.value)return Ib.typeParameters=this.flowParseTypeParameterDeclaration(),this.expect(n.parenL),Jb=this.flowParseFunctionTypeParams(),Ib.params=Jb.params,Ib.rest=Jb.rest,Ib.this=Jb._this,this.expect(n.parenR),this.expect(n.arrow),Ib.returnType=this.flowParseType(),this.finishNode(Ib,"FunctionTypeAnnotation");break;case n.parenL:if(this.next(),!this.match(n.parenR)&&!this.match(n.ellipsis))if(this.match(n.name)||this.match(n._this)){const Nb=this.lookahead().type;Lb=Nb!==n.question&&Nb!==n.colon}else Lb=!0;if(Lb){if(this.state.noAnonFunctionType=!1,Kb=this.flowParseType(),this.state.noAnonFunctionType=Mb,this.state.noAnonFunctionType||!(this.match(n.comma)||this.match(n.parenR)&&this.lookahead().type===n.arrow))return this.expect(n.parenR),Kb;this.eat(n.comma)}return Jb=Kb?this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(Kb)]):this.flowParseFunctionTypeParams(),Ib.params=Jb.params,Ib.rest=Jb.rest,Ib.this=Jb._this,this.expect(n.parenR),this.expect(n.arrow),Ib.returnType=this.flowParseType(),Ib.typeParameters=null,this.finishNode(Ib,"FunctionTypeAnnotation");case n.string:return this.parseLiteral(this.state.value,"StringLiteralTypeAnnotation");case n._true:case n._false:return Ib.value=this.match(n._true),this.next(),this.finishNode(Ib,"BooleanLiteralTypeAnnotation");case n.plusMin:if("-"===this.state.value){if(this.next(),this.match(n.num))return this.parseLiteralAtNode(-this.state.value,"NumberLiteralTypeAnnotation",Ib);if(this.match(n.bigint))return this.parseLiteralAtNode(-this.state.value,"BigIntLiteralTypeAnnotation",Ib);throw this.raise(this.state.start,yh.UnexpectedSubtractionOperand)}throw this.unexpected();case n.num:return this.parseLiteral(this.state.value,"NumberLiteralTypeAnnotation");case n.bigint:return this.parseLiteral(this.state.value,"BigIntLiteralTypeAnnotation");case n._void:return this.next(),this.finishNode(Ib,"VoidTypeAnnotation");case n._null:return this.next(),this.finishNode(Ib,"NullLiteralTypeAnnotation");case n._this:return this.next(),this.finishNode(Ib,"ThisTypeAnnotation");case n.star:return this.next(),this.finishNode(Ib,"ExistsTypeAnnotation");default:if("typeof"===this.state.type.keyword)return this.flowParseTypeofType();if(this.state.type.keyword){const Ob=this.state.type.label;return this.next(),super.createIdentifier(Ib,Ob)}}throw this.unexpected()}flowParsePostfixType(){const Pb=this.state.start,Qb=this.state.startLoc;let Rb=this.flowParsePrimaryType(),Sb=!1;for(;(this.match(n.bracketL)||this.match(n.questionDot))&&!this.canInsertSemicolon();){const Tb=this.startNodeAt(Pb,Qb),Ub=this.eat(n.questionDot);Sb=Sb||Ub,this.expect(n.bracketL),!Ub&&this.match(n.bracketR)?(Tb.elementType=Rb,this.next(),Rb=this.finishNode(Tb,"ArrayTypeAnnotation")):(Tb.objectType=Rb,Tb.indexType=this.flowParseType(),this.expect(n.bracketR),Sb?(Tb.optional=Ub,Rb=this.finishNode(Tb,"OptionalIndexedAccessType")):Rb=this.finishNode(Tb,"IndexedAccessType"))}return Rb}flowParsePrefixType(){const Vb=this.startNode();return this.eat(n.question)?(Vb.typeAnnotation=this.flowParsePrefixType(),this.finishNode(Vb,"NullableTypeAnnotation")):this.flowParsePostfixType()}flowParseAnonFunctionWithoutParens(){const Wb=this.flowParsePrefixType();if(!this.state.noAnonFunctionType&&this.eat(n.arrow)){const Xb=this.startNodeAt(Wb.start,Wb.loc.start);return Xb.params=[this.reinterpretTypeAsFunctionTypeParam(Wb)],Xb.rest=null,Xb.this=null,Xb.returnType=this.flowParseType(),Xb.typeParameters=null,this.finishNode(Xb,"FunctionTypeAnnotation")}return Wb}flowParseIntersectionType(){const Yb=this.startNode();this.eat(n.bitwiseAND);const Zb=this.flowParseAnonFunctionWithoutParens();for(Yb.types=[Zb];this.eat(n.bitwiseAND);)Yb.types.push(this.flowParseAnonFunctionWithoutParens());return 1===Yb.types.length?Zb:this.finishNode(Yb,"IntersectionTypeAnnotation")}flowParseUnionType(){const $b=this.startNode();this.eat(n.bitwiseOR);const _b=this.flowParseIntersectionType();for($b.types=[_b];this.eat(n.bitwiseOR);)$b.types.push(this.flowParseIntersectionType());return 1===$b.types.length?_b:this.finishNode($b,"UnionTypeAnnotation")}flowParseType(){const ac=this.state.inType;this.state.inType=!0;const bc=this.flowParseUnionType();return this.state.inType=ac,bc}flowParseTypeOrImplicitInstantiation(){if(this.state.type!==n.name||"_"!==this.state.value)return this.flowParseType();{const cc=this.state.start,dc=this.state.startLoc,ec=this.parseIdentifier();return this.flowParseGenericType(cc,dc,ec)}}flowParseTypeAnnotation(){const fc=this.startNode();return fc.typeAnnotation=this.flowParseTypeInitialiser(),this.finishNode(fc,"TypeAnnotation")}flowParseTypeAnnotatableIdentifier(gc){const hc=gc?this.parseIdentifier():this.flowParseRestrictedIdentifier();return this.match(n.colon)&&(hc.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(hc)),hc}typeCastToParameter(ic){return ic.expression.typeAnnotation=ic.typeAnnotation,this.resetEndLocation(ic.expression,ic.typeAnnotation.end,ic.typeAnnotation.loc.end),ic.expression}flowParseVariance(){let jc=null;return this.match(n.plusMin)&&(jc=this.startNode(),"+"===this.state.value?jc.kind="plus":jc.kind="minus",this.next(),this.finishNode(jc,"Variance")),jc}parseFunctionBody(kc,lc,mc=!1){return lc?this.forwardNoArrowParamsConversionAt(kc,()=>super.parseFunctionBody(kc,!0,mc)):super.parseFunctionBody(kc,!1,mc)}parseFunctionBodyAndFinish(nc,oc,pc=!1){if(this.match(n.colon)){const qc=this.startNode();[qc.typeAnnotation,nc.predicate]=this.flowParseTypeAndPredicateInitialiser(),nc.returnType=qc.typeAnnotation?this.finishNode(qc,"TypeAnnotation"):null}super.parseFunctionBodyAndFinish(nc,oc,pc)}parseStatement(rc,sc){if(this.state.strict&&this.match(n.name)&&"interface"===this.state.value){const tc=this.lookahead();if(tc.type===n.name||Za(tc.value)){const uc=this.startNode();return this.next(),this.flowParseInterface(uc)}}else if(this.shouldParseEnums()&&this.isContextual("enum")){const vc=this.startNode();return this.next(),this.flowParseEnumDeclaration(vc)}const wc=super.parseStatement(rc,sc);return void 0!==this.flowPragma||this.isValidDirective(wc)||(this.flowPragma=null),wc}parseExpressionStatement(xc,yc){if("Identifier"===yc.type){if("declare"===yc.name){if(this.match(n._class)||this.match(n.name)||this.match(n._function)||this.match(n._var)||this.match(n._export))return this.flowParseDeclare(xc)}else if(this.match(n.name)){if("interface"===yc.name)return this.flowParseInterface(xc);if("type"===yc.name)return this.flowParseTypeAlias(xc);if("opaque"===yc.name)return this.flowParseOpaqueType(xc,!1)}}return super.parseExpressionStatement(xc,yc)}shouldParseExportDeclaration(){return this.isContextual("type")||this.isContextual("interface")||this.isContextual("opaque")||this.shouldParseEnums()&&this.isContextual("enum")||super.shouldParseExportDeclaration()}isExportDefaultSpecifier(){return!(this.match(n.name)&&("type"===this.state.value||"interface"===this.state.value||"opaque"===this.state.value||this.shouldParseEnums()&&"enum"===this.state.value))&&super.isExportDefaultSpecifier()}parseExportDefaultExpression(){if(this.shouldParseEnums()&&this.isContextual("enum")){const zc=this.startNode();return this.next(),this.flowParseEnumDeclaration(zc)}return super.parseExportDefaultExpression()}parseConditional(Ac,Bc,Cc,Dc){if(!this.match(n.question))return Ac;if(this.state.maybeInArrowParameters){const Ec=this.lookaheadCharCode();if(44===Ec||61===Ec||58===Ec||41===Ec)return this.setOptionalParametersError(Dc),Ac}this.expect(n.question);const Fc=this.state.clone(),Gc=this.state.noArrowAt,Hc=this.startNodeAt(Bc,Cc);let{consequent:Ic,failed:Jc}=this.tryParseConditionalConsequent(),[Kc,Lc]=this.getArrowLikeExpressions(Ic);if(Jc||Lc.length>0){const Mc=[...Gc];if(Lc.length>0){this.state=Fc,this.state.noArrowAt=Mc;for(let Nc=0;Nc<Lc.length;Nc++)Mc.push(Lc[Nc].start);({consequent:Ic,failed:Jc}=this.tryParseConditionalConsequent()),[Kc,Lc]=this.getArrowLikeExpressions(Ic)}Jc&&Kc.length>1&&this.raise(Fc.start,yh.AmbiguousConditionalArrow),Jc&&1===Kc.length&&(this.state=Fc,this.state.noArrowAt=Mc.concat(Kc[0].start),{consequent:Ic,failed:Jc}=this.tryParseConditionalConsequent())}return this.getArrowLikeExpressions(Ic,!0),this.state.noArrowAt=Gc,this.expect(n.colon),Hc.test=Ac,Hc.consequent=Ic,Hc.alternate=this.forwardNoArrowParamsConversionAt(Hc,()=>this.parseMaybeAssign(void 0,void 0)),this.finishNode(Hc,"ConditionalExpression")}tryParseConditionalConsequent(){this.state.noArrowParamsConversionAt.push(this.state.start);const Oc=this.parseMaybeAssignAllowIn(),Pc=!this.match(n.colon);return this.state.noArrowParamsConversionAt.pop(),{consequent:Oc,failed:Pc}}getArrowLikeExpressions(Qc,Rc){const Sc=[Qc],Tc=[];for(;0!==Sc.length;){const Uc=Sc.pop();"ArrowFunctionExpression"===Uc.type?(Uc.typeParameters||!Uc.returnType?this.finishArrowValidation(Uc):Tc.push(Uc),Sc.push(Uc.body)):"ConditionalExpression"===Uc.type&&(Sc.push(Uc.consequent),Sc.push(Uc.alternate))}return Rc?(Tc.forEach(a=>this.finishArrowValidation(a)),[Tc,[]]):(function(a,b){const c=[],d=[];for(let e=0;e<a.length;e++)(b(a[e],e,a)?c:d).push(a[e]);return[c,d]})(Tc,a=>a.params.every(a=>this.isAssignable(a,!0)))}finishArrowValidation(Vc){var Wc;this.toAssignableList(Vc.params,null==(Wc=Vc.extra)?void 0:Wc.trailingComma,!1),this.scope.enter(6),super.checkParams(Vc,!1,!0),this.scope.exit()}forwardNoArrowParamsConversionAt(Xc,Yc){let Zc;return -1!==this.state.noArrowParamsConversionAt.indexOf(Xc.start)?(this.state.noArrowParamsConversionAt.push(this.state.start),Zc=Yc(),this.state.noArrowParamsConversionAt.pop()):Zc=Yc(),Zc}parseParenItem($c,_c,ad){if($c=super.parseParenItem($c,_c,ad),this.eat(n.question)&&($c.optional=!0,this.resetEndLocation($c)),this.match(n.colon)){const bd=this.startNodeAt(_c,ad);return bd.expression=$c,bd.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(bd,"TypeCastExpression")}return $c}assertModuleNodeAllowed(cd){("ImportDeclaration"!==cd.type||"type"!==cd.importKind&&"typeof"!==cd.importKind)&&("ExportNamedDeclaration"!==cd.type||"type"!==cd.exportKind)&&("ExportAllDeclaration"!==cd.type||"type"!==cd.exportKind)&&super.assertModuleNodeAllowed(cd)}parseExport(dd){const ed=super.parseExport(dd);return("ExportNamedDeclaration"===ed.type||"ExportAllDeclaration"===ed.type)&&(ed.exportKind=ed.exportKind||"value"),ed}parseExportDeclaration(fd){if(this.isContextual("type")){fd.exportKind="type";const gd=this.startNode();return(this.next(),this.match(n.braceL))?(fd.specifiers=this.parseExportSpecifiers(),this.parseExportFrom(fd),null):this.flowParseTypeAlias(gd)}if(this.isContextual("opaque")){fd.exportKind="type";const hd=this.startNode();return this.next(),this.flowParseOpaqueType(hd,!1)}if(this.isContextual("interface")){fd.exportKind="type";const id=this.startNode();return this.next(),this.flowParseInterface(id)}{if(!(this.shouldParseEnums()&&this.isContextual("enum")))return super.parseExportDeclaration(fd);fd.exportKind="value";const jd=this.startNode();return this.next(),this.flowParseEnumDeclaration(jd)}}eatExportStar(kd){return!!super.eatExportStar(...arguments)|| !!this.isContextual("type")&&this.lookahead().type===n.star&&(kd.exportKind="type",this.next(),this.next(),!0)}maybeParseExportNamespaceSpecifier(ld){const md=this.state.start,nd=super.maybeParseExportNamespaceSpecifier(ld);return nd&&"type"===ld.exportKind&&this.unexpected(md),nd}parseClassId(od,pd,qd){super.parseClassId(od,pd,qd),this.isRelational("<")&&(od.typeParameters=this.flowParseTypeParameterDeclaration())}parseClassMember(rd,sd,td){const ud=this.state.start;if(this.isContextual("declare")){if(this.parseClassMemberFromModifier(rd,sd))return;sd.declare=!0}super.parseClassMember(rd,sd,td),sd.declare&&("ClassProperty"!==sd.type&&"ClassPrivateProperty"!==sd.type&&"PropertyDefinition"!==sd.type?this.raise(ud,yh.DeclareClassElement):sd.value&&this.raise(sd.value.start,yh.DeclareClassFieldInitializer))}isIterator(vd){return"iterator"===vd||"asyncIterator"===vd}readIterator(){const wd=super.readWord1(),xd="@@"+wd;this.isIterator(wd)&&this.state.inType||this.raise(this.state.pos,ba.InvalidIdentifier,xd),this.finishToken(n.name,xd)}getTokenFromCode(yd){var zd,Ad;const Bd=this.input.charCodeAt(this.state.pos+1);return 123===yd&&124===Bd?this.finishOp(n.braceBarL,2):this.state.inType&&(62===yd||60===yd)?this.finishOp(n.relational,1):this.state.inType&&63===yd?46===Bd?this.finishOp(n.questionDot,2):this.finishOp(n.question,1):(zd=yd,Ad=Bd,64===zd&&64===Ad)?(this.state.pos+=2,this.readIterator()):super.getTokenFromCode(yd)}isAssignable(Cd,Dd){return"TypeCastExpression"===Cd.type?this.isAssignable(Cd.expression,Dd):super.isAssignable(Cd,Dd)}toAssignable(Ed,Fd=!1){return"TypeCastExpression"===Ed.type?super.toAssignable(this.typeCastToParameter(Ed),Fd):super.toAssignable(Ed,Fd)}toAssignableList(Gd,Hd,Id){for(let Jd=0;Jd<Gd.length;Jd++){const Kd=Gd[Jd];(null==Kd?void 0:Kd.type)==="TypeCastExpression"&&(Gd[Jd]=this.typeCastToParameter(Kd))}return super.toAssignableList(Gd,Hd,Id)}toReferencedList(Ld,Md){for(let Nd=0;Nd<Ld.length;Nd++){var Od;const Pd=Ld[Nd];Pd&&"TypeCastExpression"===Pd.type&&!(null!=(Od=Pd.extra)&&Od.parenthesized)&&(Ld.length>1||!Md)&&this.raise(Pd.typeAnnotation.start,yh.TypeCastInPattern)}return Ld}parseArrayLike(Qd,Rd,Sd,Td){const Ud=super.parseArrayLike(Qd,Rd,Sd,Td);return Rd&&!this.state.maybeInArrowParameters&&this.toReferencedList(Ud.elements),Ud}checkLVal(Vd,...Wd){if("TypeCastExpression"!==Vd.type)return super.checkLVal(Vd,...Wd)}parseClassProperty(Xd){return this.match(n.colon)&&(Xd.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassProperty(Xd)}parseClassPrivateProperty(Yd){return this.match(n.colon)&&(Yd.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassPrivateProperty(Yd)}isClassMethod(){return this.isRelational("<")||super.isClassMethod()}isClassProperty(){return this.match(n.colon)||super.isClassProperty()}isNonstaticConstructor(Zd){return!this.match(n.colon)&&super.isNonstaticConstructor(Zd)}pushClassMethod($d,_d,ae,be,ce,de){if(_d.variance&&this.unexpected(_d.variance.start),delete _d.variance,this.isRelational("<")&&(_d.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassMethod($d,_d,ae,be,ce,de),_d.params&&ce){const ee=_d.params;ee.length>0&&this.isThisParam(ee[0])&&this.raise(_d.start,yh.ThisParamBannedInConstructor)}else if("MethodDefinition"===_d.type&&ce&&_d.value.params){const fe=_d.value.params;fe.length>0&&this.isThisParam(fe[0])&&this.raise(_d.start,yh.ThisParamBannedInConstructor)}}pushClassPrivateMethod(ge,he,ie,je){he.variance&&this.unexpected(he.variance.start),delete he.variance,this.isRelational("<")&&(he.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassPrivateMethod(ge,he,ie,je)}parseClassSuper(ke){if(super.parseClassSuper(ke),ke.superClass&&this.isRelational("<")&&(ke.superTypeParameters=this.flowParseTypeParameterInstantiation()),this.isContextual("implements")){this.next();const le=ke.implements=[];do{const me=this.startNode();me.id=this.flowParseRestrictedIdentifier(!0),this.isRelational("<")?me.typeParameters=this.flowParseTypeParameterInstantiation():me.typeParameters=null,le.push(this.finishNode(me,"ClassImplements"))}while(this.eat(n.comma))}}checkGetterSetterParams(ne){super.checkGetterSetterParams(ne);const oe=this.getObjectOrClassMethodParams(ne);if(oe.length>0){const pe=oe[0];this.isThisParam(pe)&&"get"===ne.kind?this.raise(pe.start,yh.GetterMayNotHaveThisParam):this.isThisParam(pe)&&this.raise(pe.start,yh.SetterMayNotHaveThisParam)}}parsePropertyName(qe,re){const se=this.flowParseVariance(),te=super.parsePropertyName(qe,re);return qe.variance=se,te}parseObjPropValue(ue,ve,we,xe,ye,ze,Ae,Be){ue.variance&&this.unexpected(ue.variance.start),delete ue.variance;let Ce;!this.isRelational("<")||Ae||(Ce=this.flowParseTypeParameterDeclaration(),this.match(n.parenL)||this.unexpected()),super.parseObjPropValue(ue,ve,we,xe,ye,ze,Ae,Be),Ce&&((ue.value||ue).typeParameters=Ce)}parseAssignableListItemTypes(De){return this.eat(n.question)&&("Identifier"!==De.type&&this.raise(De.start,yh.OptionalBindingPattern),this.isThisParam(De)&&this.raise(De.start,yh.ThisParamMayNotBeOptional),De.optional=!0),this.match(n.colon)?De.typeAnnotation=this.flowParseTypeAnnotation():this.isThisParam(De)&&this.raise(De.start,yh.ThisParamAnnotationRequired),this.match(n.eq)&&this.isThisParam(De)&&this.raise(De.start,yh.ThisParamNoDefault),this.resetEndLocation(De),De}parseMaybeDefault(Ee,Fe,Ge){const He=super.parseMaybeDefault(Ee,Fe,Ge);return"AssignmentPattern"===He.type&&He.typeAnnotation&&He.right.start<He.typeAnnotation.start&&this.raise(He.typeAnnotation.start,yh.TypeBeforeInitializer),He}shouldParseDefaultImport(Ie){return zh(Ie)?Ah(this.state):super.shouldParseDefaultImport(Ie)}parseImportSpecifierLocal(Je,Ke,Le,Me){Ke.local=zh(Je)?this.flowParseRestrictedIdentifier(!0,!0):this.parseIdentifier(),this.checkLVal(Ke.local,Me,9),Je.specifiers.push(this.finishNode(Ke,Le))}maybeParseDefaultImportSpecifier(Ne){Ne.importKind="value";let Oe=null;if(this.match(n._typeof)?Oe="typeof":this.isContextual("type")&&(Oe="type"),Oe){const Pe=this.lookahead();"type"===Oe&&Pe.type===n.star&&this.unexpected(Pe.start),(Ah(Pe)||Pe.type===n.braceL||Pe.type===n.star)&&(this.next(),Ne.importKind=Oe)}return super.maybeParseDefaultImportSpecifier(Ne)}parseImportSpecifier(Qe){const Re=this.startNode(),Se=this.match(n.string),Te=this.parseModuleExportName();let Ue=null;"Identifier"===Te.type&&("type"===Te.name?Ue="type":"typeof"===Te.name&&(Ue="typeof"));let Ve=!1;if(this.isContextual("as")&&!this.isLookaheadContextual("as")){const We=this.parseIdentifier(!0);null===Ue||this.match(n.name)||this.state.type.keyword?(Re.imported=Te,Re.importKind=null,Re.local=this.parseIdentifier()):(Re.imported=We,Re.importKind=Ue,Re.local=dh(We))}else{if(null!==Ue&&(this.match(n.name)||this.state.type.keyword))Re.imported=this.parseIdentifier(!0),Re.importKind=Ue;else{if(Se)throw this.raise(Re.start,ba.ImportBindingIsString,Te.value);Re.imported=Te,Re.importKind=null}this.eatContextual("as")?Re.local=this.parseIdentifier():(Ve=!0,Re.local=dh(Re.imported))}const Xe=zh(Qe),Ye=zh(Re);Xe&&Ye&&this.raise(Re.start,yh.ImportTypeShorthandOnlyInPureImport),(Xe||Ye)&&this.checkReservedType(Re.local.name,Re.local.start,!0),!Ve||Xe||Ye||this.checkReservedWord(Re.local.name,Re.start,!0,!0),this.checkLVal(Re.local,"import specifier",9),Qe.specifiers.push(this.finishNode(Re,"ImportSpecifier"))}parseBindingAtom(){switch(this.state.type){case n._this:return this.parseIdentifier(!0);default:return super.parseBindingAtom()}}parseFunctionParams(Ze,$e){const _e=Ze.kind;"get"!==_e&&"set"!==_e&&this.isRelational("<")&&(Ze.typeParameters=this.flowParseTypeParameterDeclaration()),super.parseFunctionParams(Ze,$e)}parseVarId(af,bf){super.parseVarId(af,bf),this.match(n.colon)&&(af.id.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(af.id))}parseAsyncArrowFromCallExpression(cf,df){if(this.match(n.colon)){const ef=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0,cf.returnType=this.flowParseTypeAnnotation(),this.state.noAnonFunctionType=ef}return super.parseAsyncArrowFromCallExpression(cf,df)}shouldParseAsyncArrow(){return this.match(n.colon)||super.shouldParseAsyncArrow()}parseMaybeAssign(ff,gf){var hf,jf,kf;let lf=null,mf;if(this.hasPlugin("jsx")&&(this.match(n.jsxTagStart)||this.isRelational("<"))){if(lf=this.state.clone(),!(mf=this.tryParse(()=>super.parseMaybeAssign(ff,gf),lf)).error)return mf.node;const{context:nf}=this.state,of=nf[nf.length-1];of===Ha.j_oTag?nf.length-=2:of===Ha.j_expr&&(nf.length-=1)}if(null!=(hf=mf)&&hf.error||this.isRelational("<")){lf=lf||this.state.clone();let pf;const qf=this.tryParse(a=>{var b;pf=this.flowParseTypeParameterDeclaration();const c=this.forwardNoArrowParamsConversionAt(pf,()=>{const a=super.parseMaybeAssign(ff,gf);return this.resetStartLocationFromNode(a,pf),a});null!=(b=c.extra)&&b.parenthesized&&a();const d=this.maybeUnwrapTypeCastExpression(c);return"ArrowFunctionExpression"!==d.type&&a(),d.typeParameters=pf,this.resetStartLocationFromNode(d,pf),c},lf);let rf=null;if(qf.node&&"ArrowFunctionExpression"===this.maybeUnwrapTypeCastExpression(qf.node).type){if(!qf.error&&!qf.aborted)return qf.node.async&&this.raise(pf.start,yh.UnexpectedTypeParameterBeforeAsyncArrowFunction),qf.node;rf=qf.node}if(null!=(jf=mf)&&jf.node)return this.state=mf.failState,mf.node;if(rf)return this.state=qf.failState,rf;if(null!=(kf=mf)&&kf.thrown)throw mf.error;if(qf.thrown)throw qf.error;throw this.raise(pf.start,yh.UnexpectedTokenAfterTypeParameter)}return super.parseMaybeAssign(ff,gf)}parseArrow(sf){if(this.match(n.colon)){const tf=this.tryParse(()=>{const a=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0;const b=this.startNode();return[b.typeAnnotation,sf.predicate]=this.flowParseTypeAndPredicateInitialiser(),this.state.noAnonFunctionType=a,this.canInsertSemicolon()&&this.unexpected(),this.match(n.arrow)||this.unexpected(),b});if(tf.thrown)return null;tf.error&&(this.state=tf.failState),sf.returnType=tf.node.typeAnnotation?this.finishNode(tf.node,"TypeAnnotation"):null}return super.parseArrow(sf)}shouldParseArrow(uf){return this.match(n.colon)||super.shouldParseArrow(uf)}setArrowFunctionParameters(vf,wf){-1!==this.state.noArrowParamsConversionAt.indexOf(vf.start)?vf.params=wf:super.setArrowFunctionParameters(vf,wf)}checkParams(xf,yf,zf){if(!zf|| -1===this.state.noArrowParamsConversionAt.indexOf(xf.start)){for(let Af=0;Af<xf.params.length;Af++)this.isThisParam(xf.params[Af])&&Af>0&&this.raise(xf.params[Af].start,yh.ThisParamMustBeFirst);return super.checkParams(...arguments)}}parseParenAndDistinguishExpression(Bf){return super.parseParenAndDistinguishExpression(Bf&& -1===this.state.noArrowAt.indexOf(this.state.start))}parseSubscripts(Cf,Df,Ef,Ff){if("Identifier"===Cf.type&&"async"===Cf.name&& -1!==this.state.noArrowAt.indexOf(Df)){this.next();const Gf=this.startNodeAt(Df,Ef);Gf.callee=Cf,Gf.arguments=this.parseCallExpressionArguments(n.parenR,!1),Cf=this.finishNode(Gf,"CallExpression")}else if("Identifier"===Cf.type&&"async"===Cf.name&&this.isRelational("<")){const Hf=this.state.clone(),If=this.tryParse(a=>this.parseAsyncArrowWithTypeParameters(Df,Ef)||a(),Hf);if(!If.error&&!If.aborted)return If.node;const Jf=this.tryParse(()=>super.parseSubscripts(Cf,Df,Ef,Ff),Hf);if(Jf.node&&!Jf.error)return Jf.node;if(If.node)return this.state=If.failState,If.node;if(Jf.node)return this.state=Jf.failState,Jf.node;throw If.error||Jf.error}return super.parseSubscripts(Cf,Df,Ef,Ff)}parseSubscript(Kf,Lf,Mf,Nf,Of){if(this.match(n.questionDot)&&this.isLookaheadToken_lt()){if(Of.optionalChainMember=!0,Nf)return Of.stop=!0,Kf;this.next();const Pf=this.startNodeAt(Lf,Mf);return Pf.callee=Kf,Pf.typeArguments=this.flowParseTypeParameterInstantiation(),this.expect(n.parenL),Pf.arguments=this.parseCallExpressionArguments(n.parenR,!1),Pf.optional=!0,this.finishCallExpression(Pf,!0)}if(!Nf&&this.shouldParseTypes()&&this.isRelational("<")){const Qf=this.startNodeAt(Lf,Mf);Qf.callee=Kf;const Rf=this.tryParse(()=>(Qf.typeArguments=this.flowParseTypeParameterInstantiationCallOrNew(),this.expect(n.parenL),Qf.arguments=this.parseCallExpressionArguments(n.parenR,!1),Of.optionalChainMember&&(Qf.optional=!1),this.finishCallExpression(Qf,Of.optionalChainMember)));if(Rf.node)return Rf.error&&(this.state=Rf.failState),Rf.node}return super.parseSubscript(Kf,Lf,Mf,Nf,Of)}parseNewArguments(Sf){let Tf=null;this.shouldParseTypes()&&this.isRelational("<")&&(Tf=this.tryParse(()=>this.flowParseTypeParameterInstantiationCallOrNew()).node),Sf.typeArguments=Tf,super.parseNewArguments(Sf)}parseAsyncArrowWithTypeParameters(Uf,Vf){const Wf=this.startNodeAt(Uf,Vf);if(this.parseFunctionParams(Wf),this.parseArrow(Wf))return this.parseArrowExpression(Wf,void 0,!0)}readToken_mult_modulo(Xf){const Yf=this.input.charCodeAt(this.state.pos+1);if(42===Xf&&47===Yf&&this.state.hasFlowComment){this.state.hasFlowComment=!1,this.state.pos+=2,this.nextToken();return}super.readToken_mult_modulo(Xf)}readToken_pipe_amp(Zf){const $f=this.input.charCodeAt(this.state.pos+1);if(124===Zf&&125===$f){this.finishOp(n.braceBarR,2);return}super.readToken_pipe_amp(Zf)}parseTopLevel(_f,ag){const bg=super.parseTopLevel(_f,ag);return this.state.hasFlowComment&&this.raise(this.state.pos,yh.UnterminatedFlowComment),bg}skipBlockComment(){if(this.hasPlugin("flowComments")&&this.skipFlowComment()){this.state.hasFlowComment&&this.unexpected(null,yh.NestedFlowComment),this.hasFlowCommentCompletion(),this.state.pos+=this.skipFlowComment(),this.state.hasFlowComment=!0;return}if(this.state.hasFlowComment){const cg=this.input.indexOf("*-/",this.state.pos+=2);if(-1===cg)throw this.raise(this.state.pos-2,ba.UnterminatedComment);this.state.pos=cg+3;return}return super.skipBlockComment()}skipFlowComment(){const{pos:dg}=this.state;let eg=2;for(;[32,9].includes(this.input.charCodeAt(dg+eg));)eg++;const fg=this.input.charCodeAt(eg+dg),gg=this.input.charCodeAt(eg+dg+1);return 58===fg&&58===gg?eg+2:"flow-include"===this.input.slice(eg+dg,eg+dg+12)?eg+12:58===fg&&58!==gg&&eg}hasFlowCommentCompletion(){const hg=this.input.indexOf("*/",this.state.pos);if(-1===hg)throw this.raise(this.state.pos,ba.UnterminatedComment)}flowEnumErrorBooleanMemberNotInitialized(ig,{enumName:jg,memberName:kg}){this.raise(ig,yh.EnumBooleanMemberNotInitialized,kg,jg)}flowEnumErrorInvalidMemberName(lg,{enumName:mg,memberName:ng}){const og=ng[0].toUpperCase()+ng.slice(1);this.raise(lg,yh.EnumInvalidMemberName,ng,og,mg)}flowEnumErrorDuplicateMemberName(pg,{enumName:qg,memberName:rg}){this.raise(pg,yh.EnumDuplicateMemberName,rg,qg)}flowEnumErrorInconsistentMemberValues(sg,{enumName:tg}){this.raise(sg,yh.EnumInconsistentMemberValues,tg)}flowEnumErrorInvalidExplicitType(ug,{enumName:vg,suppliedType:wg}){return this.raise(ug,null===wg?yh.EnumInvalidExplicitTypeUnknownSupplied:yh.EnumInvalidExplicitType,vg,wg)}flowEnumErrorInvalidMemberInitializer(xg,{enumName:yg,explicitType:zg,memberName:Ag}){let Bg=null;switch(zg){case"boolean":case"number":case"string":Bg=yh.EnumInvalidMemberInitializerPrimaryType;break;case"symbol":Bg=yh.EnumInvalidMemberInitializerSymbolType;break;default:Bg=yh.EnumInvalidMemberInitializerUnknownType}return this.raise(xg,Bg,yg,Ag,zg)}flowEnumErrorNumberMemberNotInitialized(Cg,{enumName:Dg,memberName:Eg}){this.raise(Cg,yh.EnumNumberMemberNotInitialized,Dg,Eg)}flowEnumErrorStringMemberInconsistentlyInitailized(Fg,{enumName:Gg}){this.raise(Fg,yh.EnumStringMemberInconsistentlyInitailized,Gg)}flowEnumMemberInit(){const Hg=this.state.start,Ig=()=>this.match(n.comma)||this.match(n.braceR);switch(this.state.type){case n.num:{const Jg=this.parseNumericLiteral(this.state.value);if(Ig())return{type:"number",pos:Jg.start,value:Jg};return{type:"invalid",pos:Hg}}case n.string:{const Kg=this.parseStringLiteral(this.state.value);if(Ig())return{type:"string",pos:Kg.start,value:Kg};return{type:"invalid",pos:Hg}}case n._true:case n._false:{const Lg=this.parseBooleanLiteral(this.match(n._true));if(Ig())return{type:"boolean",pos:Lg.start,value:Lg};return{type:"invalid",pos:Hg}}default:return{type:"invalid",pos:Hg}}}flowEnumMemberRaw(){const Mg=this.state.start,Ng=this.parseIdentifier(!0),Og=this.eat(n.eq)?this.flowEnumMemberInit():{type:"none",pos:Mg};return{id:Ng,init:Og}}flowEnumCheckExplicitTypeMismatch(Pg,Qg,Rg){const{explicitType:Sg}=Qg;null!==Sg&&Sg!==Rg&&this.flowEnumErrorInvalidMemberInitializer(Pg,Qg)}flowEnumMembers({enumName:Tg,explicitType:Ug}){const Vg=new Set(),Wg={booleanMembers:[],numberMembers:[],stringMembers:[],defaultedMembers:[]};let Xg=!1;for(;!this.match(n.braceR);){if(this.eat(n.ellipsis)){Xg=!0;break}const Yg=this.startNode(),{id:Zg,init:$g}=this.flowEnumMemberRaw(),_g=Zg.name;if(""===_g)continue;/^[a-z]/.test(_g)&&this.flowEnumErrorInvalidMemberName(Zg.start,{enumName:Tg,memberName:_g}),Vg.has(_g)&&this.flowEnumErrorDuplicateMemberName(Zg.start,{enumName:Tg,memberName:_g}),Vg.add(_g);const ah={enumName:Tg,explicitType:Ug,memberName:_g};switch(Yg.id=Zg,$g.type){case"boolean":this.flowEnumCheckExplicitTypeMismatch($g.pos,ah,"boolean"),Yg.init=$g.value,Wg.booleanMembers.push(this.finishNode(Yg,"EnumBooleanMember"));break;case"number":this.flowEnumCheckExplicitTypeMismatch($g.pos,ah,"number"),Yg.init=$g.value,Wg.numberMembers.push(this.finishNode(Yg,"EnumNumberMember"));break;case"string":this.flowEnumCheckExplicitTypeMismatch($g.pos,ah,"string"),Yg.init=$g.value,Wg.stringMembers.push(this.finishNode(Yg,"EnumStringMember"));break;case"invalid":throw this.flowEnumErrorInvalidMemberInitializer($g.pos,ah);case"none":switch(Ug){case"boolean":this.flowEnumErrorBooleanMemberNotInitialized($g.pos,ah);break;case"number":this.flowEnumErrorNumberMemberNotInitialized($g.pos,ah);break;default:Wg.defaultedMembers.push(this.finishNode(Yg,"EnumDefaultedMember"))}}this.match(n.braceR)||this.expect(n.comma)}return{members:Wg,hasUnknownMembers:Xg}}flowEnumStringMembers(bh,ch,{enumName:eh}){if(0===bh.length)return ch;if(0===ch.length)return bh;if(ch.length>bh.length){for(const fh of bh)this.flowEnumErrorStringMemberInconsistentlyInitailized(fh.start,{enumName:eh});return ch}for(const gh of ch)this.flowEnumErrorStringMemberInconsistentlyInitailized(gh.start,{enumName:eh});return bh}flowEnumParseExplicitType({enumName:hh}){if(this.eatContextual("of")){if(!this.match(n.name))throw this.flowEnumErrorInvalidExplicitType(this.state.start,{enumName:hh,suppliedType:null});const{value:ih}=this.state;return this.next(),"boolean"!==ih&&"number"!==ih&&"string"!==ih&&"symbol"!==ih&&this.flowEnumErrorInvalidExplicitType(this.state.start,{enumName:hh,suppliedType:ih}),ih}return null}flowEnumBody(jh,{enumName:kh,nameLoc:lh}){const mh=this.flowEnumParseExplicitType({enumName:kh});this.expect(n.braceL);const{members:nh,hasUnknownMembers:oh}=this.flowEnumMembers({enumName:kh,explicitType:mh});switch(jh.hasUnknownMembers=oh,mh){case"boolean":return jh.explicitType=!0,jh.members=nh.booleanMembers,this.expect(n.braceR),this.finishNode(jh,"EnumBooleanBody");case"number":return jh.explicitType=!0,jh.members=nh.numberMembers,this.expect(n.braceR),this.finishNode(jh,"EnumNumberBody");case"string":return jh.explicitType=!0,jh.members=this.flowEnumStringMembers(nh.stringMembers,nh.defaultedMembers,{enumName:kh}),this.expect(n.braceR),this.finishNode(jh,"EnumStringBody");case"symbol":return jh.members=nh.defaultedMembers,this.expect(n.braceR),this.finishNode(jh,"EnumSymbolBody");default:{const ph=()=>(jh.members=[],this.expect(n.braceR),this.finishNode(jh,"EnumStringBody"));jh.explicitType=!1;const qh=nh.booleanMembers.length,rh=nh.numberMembers.length,sh=nh.stringMembers.length,th=nh.defaultedMembers.length;if(!qh&&!rh&&!sh&&!th)return ph();if(!qh&&!rh)return jh.members=this.flowEnumStringMembers(nh.stringMembers,nh.defaultedMembers,{enumName:kh}),this.expect(n.braceR),this.finishNode(jh,"EnumStringBody");if(rh||sh||!(qh>=th))if(qh||sh||!(rh>=th))return this.flowEnumErrorInconsistentMemberValues(lh,{enumName:kh}),ph();else{for(const uh of nh.defaultedMembers)this.flowEnumErrorNumberMemberNotInitialized(uh.start,{enumName:kh,memberName:uh.id.name});return jh.members=nh.numberMembers,this.expect(n.braceR),this.finishNode(jh,"EnumNumberBody")}for(const vh of nh.defaultedMembers)this.flowEnumErrorBooleanMemberNotInitialized(vh.start,{enumName:kh,memberName:vh.id.name});return jh.members=nh.booleanMembers,this.expect(n.braceR),this.finishNode(jh,"EnumBooleanBody")}}}flowParseEnumDeclaration(wh){const Dh=this.parseIdentifier();return wh.id=Dh,wh.body=this.flowEnumBody(this.startNode(),{enumName:Dh.name,nameLoc:Dh.start}),this.finishNode(wh,"EnumDeclaration")}isLookaheadToken_lt(){const Eh=this.nextTokenStart();if(60===this.input.charCodeAt(Eh)){const Fh=this.input.charCodeAt(Eh+1);return 60!==Fh&&61!==Fh}return!1}maybeUnwrapTypeCastExpression(Gh){return"TypeCastExpression"===Gh.type?Gh.expression:Gh}},typescript:a=>class extends a{getScopeHandler(){return Lh}tsIsIdentifier(){return this.match(n.name)}tsTokenCanFollowModifier(){return(this.match(n.bracketL)||this.match(n.braceL)||this.match(n.star)||this.match(n.ellipsis)||this.match(n.privateName)||this.isLiteralPropertyName())&&!this.hasPrecedingLineBreak()}tsNextTokenCanFollowModifier(){return this.next(),this.tsTokenCanFollowModifier()}tsParseModifier(b){if(!this.match(n.name))return;const c=this.state.value;if(-1!==b.indexOf(c)&&this.tsTryParse(this.tsNextTokenCanFollowModifier.bind(this)))return c}tsParseModifiers(d,e,f,g){const h=(a,b,c,e)=>{b===c&&d[e]&&this.raise(a,_h.InvalidModifiersOrder,c,e)},i=(a,b,c,e)=>{(d[c]&&b===e||d[e]&&b===c)&&this.raise(a,_h.IncompatibleModifiers,c,e)};for(;;){const j=this.state.start,k=this.tsParseModifier(e.concat(null!=f?f:[]));if(!k)break;ai(k)?d.accessibility?this.raise(j,_h.DuplicateAccessibilityModifier):(h(j,k,k,"override"),h(j,k,k,"static"),h(j,k,k,"readonly"),d.accessibility=k):(Object.hasOwnProperty.call(d,k)?this.raise(j,_h.DuplicateModifier,k):(h(j,k,"static","readonly"),h(j,k,"static","override"),h(j,k,"override","readonly"),h(j,k,"abstract","override"),i(j,k,"declare","override"),i(j,k,"static","abstract")),d[k]=!0),null!=f&&f.includes(k)&&this.raise(j,g,k)}}tsIsListTerminator(l){switch(l){case"EnumMembers":case"TypeMembers":return this.match(n.braceR);case"HeritageClauseElement":return this.match(n.braceL);case"TupleElementTypes":return this.match(n.bracketR);case"TypeParametersOrArguments":return this.isRelational(">")}throw new Error("Unreachable")}tsParseList(m,o){const p=[];for(;!this.tsIsListTerminator(m);)p.push(o());return p}tsParseDelimitedList(q,r){return Zh(this.tsParseDelimitedListWorker(q,r,!0))}tsParseDelimitedListWorker(s,t,u){const v=[];for(;;){if(this.tsIsListTerminator(s))break;const w=t();if(null==w)return;if(v.push(w),!this.eat(n.comma)){if(this.tsIsListTerminator(s))break;u&&this.expect(n.comma);return}}return v}tsParseBracketedList(x,y,z,A){A||(z?this.expect(n.bracketL):this.expectRelational("<"));const B=this.tsParseDelimitedList(x,y);return z?this.expect(n.bracketR):this.expectRelational(">"),B}tsParseImportType(){const C=this.startNode();return this.expect(n._import),this.expect(n.parenL),this.match(n.string)||this.raise(this.state.start,_h.UnsupportedImportTypeArgument),C.argument=this.parseExprAtom(),this.expect(n.parenR),this.eat(n.dot)&&(C.qualifier=this.tsParseEntityName(!0)),this.isRelational("<")&&(C.typeParameters=this.tsParseTypeArguments()),this.finishNode(C,"TSImportType")}tsParseEntityName(D){let E=this.parseIdentifier();for(;this.eat(n.dot);){const F=this.startNodeAtNode(E);F.left=E,F.right=this.parseIdentifier(D),E=this.finishNode(F,"TSQualifiedName")}return E}tsParseTypeReference(){const G=this.startNode();return G.typeName=this.tsParseEntityName(!1),!this.hasPrecedingLineBreak()&&this.isRelational("<")&&(G.typeParameters=this.tsParseTypeArguments()),this.finishNode(G,"TSTypeReference")}tsParseThisTypePredicate(H){this.next();const I=this.startNodeAtNode(H);return I.parameterName=H,I.typeAnnotation=this.tsParseTypeAnnotation(!1),I.asserts=!1,this.finishNode(I,"TSTypePredicate")}tsParseThisTypeNode(){const J=this.startNode();return this.next(),this.finishNode(J,"TSThisType")}tsParseTypeQuery(){const K=this.startNode();return this.expect(n._typeof),this.match(n._import)?K.exprName=this.tsParseImportType():K.exprName=this.tsParseEntityName(!0),this.finishNode(K,"TSTypeQuery")}tsParseTypeParameter(){const L=this.startNode();return L.name=this.tsParseTypeParameterName(),L.constraint=this.tsEatThenParseType(n._extends),L.default=this.tsEatThenParseType(n.eq),this.finishNode(L,"TSTypeParameter")}tsTryParseTypeParameters(){if(this.isRelational("<"))return this.tsParseTypeParameters()}tsParseTypeParameters(){const M=this.startNode();return this.isRelational("<")||this.match(n.jsxTagStart)?this.next():this.unexpected(),M.params=this.tsParseBracketedList("TypeParametersOrArguments",this.tsParseTypeParameter.bind(this),!1,!0),0===M.params.length&&this.raise(M.start,_h.EmptyTypeParameters),this.finishNode(M,"TSTypeParameterDeclaration")}tsTryNextParseConstantContext(){return this.lookahead().type===n._const?(this.next(),this.tsParseTypeReference()):null}tsFillSignature(N,O){const P=N===n.arrow;O.typeParameters=this.tsTryParseTypeParameters(),this.expect(n.parenL),O.parameters=this.tsParseBindingListForSignature(),P?O.typeAnnotation=this.tsParseTypeOrTypePredicateAnnotation(N):this.match(N)&&(O.typeAnnotation=this.tsParseTypeOrTypePredicateAnnotation(N))}tsParseBindingListForSignature(){return this.parseBindingList(n.parenR,41).map(a=>("Identifier"!==a.type&&"RestElement"!==a.type&&"ObjectPattern"!==a.type&&"ArrayPattern"!==a.type&&this.raise(a.start,_h.UnsupportedSignatureParameterKind,a.type),a))}tsParseTypeMemberSemicolon(){this.eat(n.comma)||this.isLineTerminator()||this.expect(n.semi)}tsParseSignatureMember(Q,R){return this.tsFillSignature(n.colon,R),this.tsParseTypeMemberSemicolon(),this.finishNode(R,Q)}tsIsUnambiguouslyIndexSignature(){return this.next(),this.eat(n.name)&&this.match(n.colon)}tsTryParseIndexSignature(S){if(!(this.match(n.bracketL)&&this.tsLookAhead(this.tsIsUnambiguouslyIndexSignature.bind(this))))return;this.expect(n.bracketL);const T=this.parseIdentifier();T.typeAnnotation=this.tsParseTypeAnnotation(),this.resetEndLocation(T),this.expect(n.bracketR),S.parameters=[T];const U=this.tsTryParseTypeAnnotation();return U&&(S.typeAnnotation=U),this.tsParseTypeMemberSemicolon(),this.finishNode(S,"TSIndexSignature")}tsParsePropertyOrMethodSignature(V,W){this.eat(n.question)&&(V.optional=!0);const X=V;if(this.match(n.parenL)||this.isRelational("<")){W&&this.raise(V.start,_h.ReadonlyForMethodSignature);const Y=X;if(Y.kind&&this.isRelational("<")&&this.raise(this.state.pos,_h.AccesorCannotHaveTypeParameters),this.tsFillSignature(n.colon,Y),this.tsParseTypeMemberSemicolon(),"get"===Y.kind)Y.parameters.length>0&&(this.raise(this.state.pos,ba.BadGetterArity),this.isThisParam(Y.parameters[0])&&this.raise(this.state.pos,_h.AccesorCannotDeclareThisParameter));else if("set"===Y.kind){if(1!==Y.parameters.length)this.raise(this.state.pos,ba.BadSetterArity);else{const Z=Y.parameters[0];this.isThisParam(Z)&&this.raise(this.state.pos,_h.AccesorCannotDeclareThisParameter),"Identifier"===Z.type&&Z.optional&&this.raise(this.state.pos,_h.SetAccesorCannotHaveOptionalParameter),"RestElement"===Z.type&&this.raise(this.state.pos,_h.SetAccesorCannotHaveRestParameter)}Y.typeAnnotation&&this.raise(Y.typeAnnotation.start,_h.SetAccesorCannotHaveReturnType)}else Y.kind="method";return this.finishNode(Y,"TSMethodSignature")}{const $=X;W&&($.readonly=!0);const _=this.tsTryParseTypeAnnotation();return _&&($.typeAnnotation=_),this.tsParseTypeMemberSemicolon(),this.finishNode($,"TSPropertySignature")}}tsParseTypeMember(){const aa=this.startNode();if(this.match(n.parenL)||this.isRelational("<"))return this.tsParseSignatureMember("TSCallSignatureDeclaration",aa);if(this.match(n._new)){const ca=this.startNode();return(this.next(),this.match(n.parenL)||this.isRelational("<"))?this.tsParseSignatureMember("TSConstructSignatureDeclaration",aa):(aa.key=this.createIdentifier(ca,"new"),this.tsParsePropertyOrMethodSignature(aa,!1))}this.tsParseModifiers(aa,["readonly"],["declare","abstract","private","protected","public","static","override"],_h.InvalidModifierOnTypeMember);const da=this.tsTryParseIndexSignature(aa);return da||(this.parsePropertyName(aa,!1),!aa.computed&&"Identifier"===aa.key.type&&("get"===aa.key.name||"set"===aa.key.name)&&this.tsTokenCanFollowModifier()&&(aa.kind=aa.key.name,this.parsePropertyName(aa,!1)),this.tsParsePropertyOrMethodSignature(aa,!!aa.readonly))}tsParseTypeLiteral(){const ea=this.startNode();return ea.members=this.tsParseObjectTypeMembers(),this.finishNode(ea,"TSTypeLiteral")}tsParseObjectTypeMembers(){this.expect(n.braceL);const fa=this.tsParseList("TypeMembers",this.tsParseTypeMember.bind(this));return this.expect(n.braceR),fa}tsIsStartOfMappedType(){return(this.next(),this.eat(n.plusMin))?this.isContextual("readonly"):(this.isContextual("readonly")&&this.next(),!!this.match(n.bracketL)&&(this.next(),!!this.tsIsIdentifier()&&(this.next(),this.match(n._in))))}tsParseMappedTypeParameter(){const ga=this.startNode();return ga.name=this.tsParseTypeParameterName(),ga.constraint=this.tsExpectThenParseType(n._in),this.finishNode(ga,"TSTypeParameter")}tsParseMappedType(){const ha=this.startNode();return this.expect(n.braceL),this.match(n.plusMin)?(ha.readonly=this.state.value,this.next(),this.expectContextual("readonly")):this.eatContextual("readonly")&&(ha.readonly=!0),this.expect(n.bracketL),ha.typeParameter=this.tsParseMappedTypeParameter(),ha.nameType=this.eatContextual("as")?this.tsParseType():null,this.expect(n.bracketR),this.match(n.plusMin)?(ha.optional=this.state.value,this.next(),this.expect(n.question)):this.eat(n.question)&&(ha.optional=!0),ha.typeAnnotation=this.tsTryParseType(),this.semicolon(),this.expect(n.braceR),this.finishNode(ha,"TSMappedType")}tsParseTupleType(){const ia=this.startNode();ia.elementTypes=this.tsParseBracketedList("TupleElementTypes",this.tsParseTupleElementType.bind(this),!0,!1);let ja=!1,ka=null;return ia.elementTypes.forEach(a=>{var b;let{type:c}=a;ja&&"TSRestType"!==c&&"TSOptionalType"!==c&&!("TSNamedTupleMember"===c&&a.optional)&&this.raise(a.start,_h.OptionalTypeBeforeRequired),ja=ja||"TSNamedTupleMember"===c&&a.optional||"TSOptionalType"===c,"TSRestType"===c&&(c=(a=a.typeAnnotation).type);const d="TSNamedTupleMember"===c;(ka=null!=(b=ka)?b:d)!==d&&this.raise(a.start,_h.MixedLabeledAndUnlabeledElements)}),this.finishNode(ia,"TSTupleType")}tsParseTupleElementType(){const{start:la,startLoc:ma}=this.state,na=this.eat(n.ellipsis);let oa=this.tsParseType();const pa=this.eat(n.question),qa=this.eat(n.colon);if(qa){const ra=this.startNodeAtNode(oa);ra.optional=pa,"TSTypeReference"!==oa.type||oa.typeParameters||"Identifier"!==oa.typeName.type?(this.raise(oa.start,_h.InvalidTupleMemberLabel),ra.label=oa):ra.label=oa.typeName,ra.elementType=this.tsParseType(),oa=this.finishNode(ra,"TSNamedTupleMember")}else if(pa){const sa=this.startNodeAtNode(oa);sa.typeAnnotation=oa,oa=this.finishNode(sa,"TSOptionalType")}if(na){const ta=this.startNodeAt(la,ma);ta.typeAnnotation=oa,oa=this.finishNode(ta,"TSRestType")}return oa}tsParseParenthesizedType(){const ua=this.startNode();return this.expect(n.parenL),ua.typeAnnotation=this.tsParseType(),this.expect(n.parenR),this.finishNode(ua,"TSParenthesizedType")}tsParseFunctionOrConstructorType(va,wa){const xa=this.startNode();return"TSConstructorType"===va&&(xa.abstract=!!wa,wa&&this.next(),this.next()),this.tsFillSignature(n.arrow,xa),this.finishNode(xa,va)}tsParseLiteralTypeNode(){const ya=this.startNode();return ya.literal=(()=>{switch(this.state.type){case n.num:case n.bigint:case n.string:case n._true:case n._false:return this.parseExprAtom();default:throw this.unexpected()}})(),this.finishNode(ya,"TSLiteralType")}tsParseTemplateLiteralType(){const za=this.startNode();return za.literal=this.parseTemplate(!1),this.finishNode(za,"TSLiteralType")}parseTemplateSubstitution(){return this.state.inType?this.tsParseType():super.parseTemplateSubstitution()}tsParseThisTypeOrThisTypePredicate(){const Aa=this.tsParseThisTypeNode();return this.isContextual("is")&&!this.hasPrecedingLineBreak()?this.tsParseThisTypePredicate(Aa):Aa}tsParseNonArrayType(){switch(this.state.type){case n.name:case n._void:case n._null:{const Ba=this.match(n._void)?"TSVoidKeyword":this.match(n._null)?"TSNullKeyword":function(a){switch(a){case"any":return"TSAnyKeyword";case"boolean":return"TSBooleanKeyword";case"bigint":return"TSBigIntKeyword";case"never":return"TSNeverKeyword";case"number":return"TSNumberKeyword";case"object":return"TSObjectKeyword";case"string":return"TSStringKeyword";case"symbol":return"TSSymbolKeyword";case"undefined":return"TSUndefinedKeyword";case"unknown":return"TSUnknownKeyword";default:return}}(this.state.value);if(void 0!==Ba&&46!==this.lookaheadCharCode()){const Ca=this.startNode();return this.next(),this.finishNode(Ca,Ba)}return this.tsParseTypeReference()}case n.string:case n.num:case n.bigint:case n._true:case n._false:return this.tsParseLiteralTypeNode();case n.plusMin:if("-"===this.state.value){const Da=this.startNode(),Ea=this.lookahead();if(Ea.type!==n.num&&Ea.type!==n.bigint)throw this.unexpected();return Da.literal=this.parseMaybeUnary(),this.finishNode(Da,"TSLiteralType")}break;case n._this:return this.tsParseThisTypeOrThisTypePredicate();case n._typeof:return this.tsParseTypeQuery();case n._import:return this.tsParseImportType();case n.braceL:return this.tsLookAhead(this.tsIsStartOfMappedType.bind(this))?this.tsParseMappedType():this.tsParseTypeLiteral();case n.bracketL:return this.tsParseTupleType();case n.parenL:return this.tsParseParenthesizedType();case n.backQuote:return this.tsParseTemplateLiteralType()}throw this.unexpected()}tsParseArrayTypeOrHigher(){let Fa=this.tsParseNonArrayType();for(;!this.hasPrecedingLineBreak()&&this.eat(n.bracketL);)if(this.match(n.bracketR)){const Ga=this.startNodeAtNode(Fa);Ga.elementType=Fa,this.expect(n.bracketR),Fa=this.finishNode(Ga,"TSArrayType")}else{const Ia=this.startNodeAtNode(Fa);Ia.objectType=Fa,Ia.indexType=this.tsParseType(),this.expect(n.bracketR),Fa=this.finishNode(Ia,"TSIndexedAccessType")}return Fa}tsParseTypeOperator(Ja){const Ka=this.startNode();return this.expectContextual(Ja),Ka.operator=Ja,Ka.typeAnnotation=this.tsParseTypeOperatorOrHigher(),"readonly"===Ja&&this.tsCheckTypeAnnotationForReadOnly(Ka),this.finishNode(Ka,"TSTypeOperator")}tsCheckTypeAnnotationForReadOnly(La){switch(La.typeAnnotation.type){case"TSTupleType":case"TSArrayType":return;default:this.raise(La.start,_h.UnexpectedReadonly)}}tsParseInferType(){const Ma=this.startNode();this.expectContextual("infer");const Na=this.startNode();return Na.name=this.tsParseTypeParameterName(),Ma.typeParameter=this.finishNode(Na,"TSTypeParameter"),this.finishNode(Ma,"TSInferType")}tsParseTypeOperatorOrHigher(){const Oa=["keyof","unique","readonly"].find(a=>this.isContextual(a));return Oa?this.tsParseTypeOperator(Oa):this.isContextual("infer")?this.tsParseInferType():this.tsParseArrayTypeOrHigher()}tsParseUnionOrIntersectionType(Pa,Qa,Ra){const Sa=this.startNode(),Ta=this.eat(Ra),Ua=[];do Ua.push(Qa());while(this.eat(Ra));return 1!==Ua.length||Ta?(Sa.types=Ua,this.finishNode(Sa,Pa)):Ua[0]}tsParseIntersectionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSIntersectionType",this.tsParseTypeOperatorOrHigher.bind(this),n.bitwiseAND)}tsParseUnionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSUnionType",this.tsParseIntersectionTypeOrHigher.bind(this),n.bitwiseOR)}tsIsStartOfFunctionType(){return!!this.isRelational("<")||this.match(n.parenL)&&this.tsLookAhead(this.tsIsUnambiguouslyStartOfFunctionType.bind(this))}tsSkipParameterStart(){if(this.match(n.name)||this.match(n._this))return this.next(),!0;if(this.match(n.braceL)){let Va=1;for(this.next();Va>0;)this.match(n.braceL)?++Va:this.match(n.braceR)&& --Va,this.next();return!0}if(this.match(n.bracketL)){let Wa=1;for(this.next();Wa>0;)this.match(n.bracketL)?++Wa:this.match(n.bracketR)&& --Wa,this.next();return!0}return!1}tsIsUnambiguouslyStartOfFunctionType(){if(this.next(),this.match(n.parenR)||this.match(n.ellipsis))return!0;if(this.tsSkipParameterStart()){if(this.match(n.colon)||this.match(n.comma)||this.match(n.question)||this.match(n.eq))return!0;if(this.match(n.parenR)&&(this.next(),this.match(n.arrow)))return!0}return!1}tsParseTypeOrTypePredicateAnnotation(Xa){return this.tsInType(()=>{const a=this.startNode();this.expect(Xa);const b=this.startNode(),c=!!this.tsTryParse(this.tsParseTypePredicateAsserts.bind(this));if(c&&this.match(n._this)){let d=this.tsParseThisTypeOrThisTypePredicate();return"TSThisType"===d.type?(b.parameterName=d,b.asserts=!0,b.typeAnnotation=null,d=this.finishNode(b,"TSTypePredicate")):(this.resetStartLocationFromNode(d,b),d.asserts=!0),a.typeAnnotation=d,this.finishNode(a,"TSTypeAnnotation")}const e=this.tsIsIdentifier()&&this.tsTryParse(this.tsParseTypePredicatePrefix.bind(this));if(!e)return c?(b.parameterName=this.parseIdentifier(),b.asserts=c,b.typeAnnotation=null,a.typeAnnotation=this.finishNode(b,"TSTypePredicate"),this.finishNode(a,"TSTypeAnnotation")):this.tsParseTypeAnnotation(!1,a);const f=this.tsParseTypeAnnotation(!1);return b.parameterName=e,b.typeAnnotation=f,b.asserts=c,a.typeAnnotation=this.finishNode(b,"TSTypePredicate"),this.finishNode(a,"TSTypeAnnotation")})}tsTryParseTypeOrTypePredicateAnnotation(){return this.match(n.colon)?this.tsParseTypeOrTypePredicateAnnotation(n.colon):void 0}tsTryParseTypeAnnotation(){return this.match(n.colon)?this.tsParseTypeAnnotation():void 0}tsTryParseType(){return this.tsEatThenParseType(n.colon)}tsParseTypePredicatePrefix(){const Ya=this.parseIdentifier();if(this.isContextual("is")&&!this.hasPrecedingLineBreak())return this.next(),Ya}tsParseTypePredicateAsserts(){if(!this.match(n.name)||"asserts"!==this.state.value||this.hasPrecedingLineBreak())return!1;const Za=this.state.containsEsc;return this.next(),!!(this.match(n.name)||this.match(n._this))&&(Za&&this.raise(this.state.lastTokStart,ba.InvalidEscapedReservedWord,"asserts"),!0)}tsParseTypeAnnotation($a=!0,_a=this.startNode()){return this.tsInType(()=>{$a&&this.expect(n.colon),_a.typeAnnotation=this.tsParseType()}),this.finishNode(_a,"TSTypeAnnotation")}tsParseType(){$h(this.state.inType);const ab=this.tsParseNonConditionalType();if(this.hasPrecedingLineBreak()||!this.eat(n._extends))return ab;const bb=this.startNodeAtNode(ab);return bb.checkType=ab,bb.extendsType=this.tsParseNonConditionalType(),this.expect(n.question),bb.trueType=this.tsParseType(),this.expect(n.colon),bb.falseType=this.tsParseType(),this.finishNode(bb,"TSConditionalType")}isAbstractConstructorSignature(){return this.isContextual("abstract")&&this.lookahead().type===n._new}tsParseNonConditionalType(){return this.tsIsStartOfFunctionType()?this.tsParseFunctionOrConstructorType("TSFunctionType"):this.match(n._new)?this.tsParseFunctionOrConstructorType("TSConstructorType"):this.isAbstractConstructorSignature()?this.tsParseFunctionOrConstructorType("TSConstructorType",!0):this.tsParseUnionTypeOrHigher()}tsParseTypeAssertion(){const cb=this.startNode(),db=this.tsTryNextParseConstantContext();return cb.typeAnnotation=db||this.tsNextThenParseType(),this.expectRelational(">"),cb.expression=this.parseMaybeUnary(),this.finishNode(cb,"TSTypeAssertion")}tsParseHeritageClause(eb){const fb=this.state.start,gb=this.tsParseDelimitedList("HeritageClauseElement",this.tsParseExpressionWithTypeArguments.bind(this));return gb.length||this.raise(fb,_h.EmptyHeritageClauseType,eb),gb}tsParseExpressionWithTypeArguments(){const hb=this.startNode();return hb.expression=this.tsParseEntityName(!1),this.isRelational("<")&&(hb.typeParameters=this.tsParseTypeArguments()),this.finishNode(hb,"TSExpressionWithTypeArguments")}tsParseInterfaceDeclaration(ib){this.match(n.name)?(ib.id=this.parseIdentifier(),this.checkLVal(ib.id,"typescript interface declaration",130)):(ib.id=null,this.raise(this.state.start,_h.MissingInterfaceName)),ib.typeParameters=this.tsTryParseTypeParameters(),this.eat(n._extends)&&(ib.extends=this.tsParseHeritageClause("extends"));const jb=this.startNode();return jb.body=this.tsInType(this.tsParseObjectTypeMembers.bind(this)),ib.body=this.finishNode(jb,"TSInterfaceBody"),this.finishNode(ib,"TSInterfaceDeclaration")}tsParseTypeAliasDeclaration(kb){return kb.id=this.parseIdentifier(),this.checkLVal(kb.id,"typescript type alias",2),kb.typeParameters=this.tsTryParseTypeParameters(),kb.typeAnnotation=this.tsInType(()=>{if(this.expect(n.eq),this.isContextual("intrinsic")&&this.lookahead().type!==n.dot){const a=this.startNode();return this.next(),this.finishNode(a,"TSIntrinsicKeyword")}return this.tsParseType()}),this.semicolon(),this.finishNode(kb,"TSTypeAliasDeclaration")}tsInNoContext(lb){const mb=this.state.context;this.state.context=[mb[0]];try{return lb()}finally{this.state.context=mb}}tsInType(nb){const ob=this.state.inType;this.state.inType=!0;try{return nb()}finally{this.state.inType=ob}}tsEatThenParseType(pb){return this.match(pb)?this.tsNextThenParseType():void 0}tsExpectThenParseType(qb){return this.tsDoThenParseType(()=>this.expect(qb))}tsNextThenParseType(){return this.tsDoThenParseType(()=>this.next())}tsDoThenParseType(rb){return this.tsInType(()=>(rb(),this.tsParseType()))}tsParseEnumMember(){const sb=this.startNode();return sb.id=this.match(n.string)?this.parseExprAtom():this.parseIdentifier(!0),this.eat(n.eq)&&(sb.initializer=this.parseMaybeAssignAllowIn()),this.finishNode(sb,"TSEnumMember")}tsParseEnumDeclaration(tb,ub){return ub&&(tb.const=!0),tb.id=this.parseIdentifier(),this.checkLVal(tb.id,"typescript enum declaration",ub?779:267),this.expect(n.braceL),tb.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(n.braceR),this.finishNode(tb,"TSEnumDeclaration")}tsParseModuleBlock(){const vb=this.startNode();return this.scope.enter(0),this.expect(n.braceL),this.parseBlockOrModuleBlockBody(vb.body=[],void 0,!0,n.braceR),this.scope.exit(),this.finishNode(vb,"TSModuleBlock")}tsParseModuleOrNamespaceDeclaration(wb,xb=!1){if(wb.id=this.parseIdentifier(),xb||this.checkLVal(wb.id,"module or namespace declaration",1024),this.eat(n.dot)){const yb=this.startNode();this.tsParseModuleOrNamespaceDeclaration(yb,!0),wb.body=yb}else this.scope.enter(256),this.prodParam.enter(0),wb.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit();return this.finishNode(wb,"TSModuleDeclaration")}tsParseAmbientExternalModuleDeclaration(zb){return this.isContextual("global")?(zb.global=!0,zb.id=this.parseIdentifier()):this.match(n.string)?zb.id=this.parseExprAtom():this.unexpected(),this.match(n.braceL)?(this.scope.enter(256),this.prodParam.enter(0),zb.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit()):this.semicolon(),this.finishNode(zb,"TSModuleDeclaration")}tsParseImportEqualsDeclaration(Ab,Bb){Ab.isExport=Bb||!1,Ab.id=this.parseIdentifier(),this.checkLVal(Ab.id,"import equals declaration",9),this.expect(n.eq);const Cb=this.tsParseModuleReference();return"type"===Ab.importKind&&"TSExternalModuleReference"!==Cb.type&&this.raise(Cb.start,_h.ImportAliasHasImportType),Ab.moduleReference=Cb,this.semicolon(),this.finishNode(Ab,"TSImportEqualsDeclaration")}tsIsExternalModuleReference(){return this.isContextual("require")&&40===this.lookaheadCharCode()}tsParseModuleReference(){return this.tsIsExternalModuleReference()?this.tsParseExternalModuleReference():this.tsParseEntityName(!1)}tsParseExternalModuleReference(){const Db=this.startNode();if(this.expectContextual("require"),this.expect(n.parenL),!this.match(n.string))throw this.unexpected();return Db.expression=this.parseExprAtom(),this.expect(n.parenR),this.finishNode(Db,"TSExternalModuleReference")}tsLookAhead(Eb){const Fb=this.state.clone(),Gb=Eb();return this.state=Fb,Gb}tsTryParseAndCatch(Hb){const Ib=this.tryParse(a=>Hb()||a());if(!Ib.aborted&&Ib.node)return Ib.error&&(this.state=Ib.failState),Ib.node}tsTryParse(Jb){const Kb=this.state.clone(),Lb=Jb();if(void 0!==Lb&& !1!==Lb)return Lb;this.state=Kb}tsTryParseDeclare(Mb){if(this.isLineTerminator())return;let Nb=this.state.type,Ob;return this.isContextual("let")&&(Nb=n._var,Ob="let"),this.tsInAmbientContext(()=>{switch(Nb){case n._function:return Mb.declare=!0,this.parseFunctionStatement(Mb,!1,!0);case n._class:return Mb.declare=!0,this.parseClass(Mb,!0,!1);case n._const:if(this.match(n._const)&&this.isLookaheadContextual("enum"))return this.expect(n._const),this.expectContextual("enum"),this.tsParseEnumDeclaration(Mb,!0);case n._var:return Ob=Ob||this.state.value,this.parseVarStatement(Mb,Ob);case n.name:{const a=this.state.value;if("global"===a)return this.tsParseAmbientExternalModuleDeclaration(Mb);return this.tsParseDeclaration(Mb,a,!0)}}})}tsTryParseExportDeclaration(){return this.tsParseDeclaration(this.startNode(),this.state.value,!0)}tsParseExpressionStatement(Pb,Qb){switch(Qb.name){case"declare":{const Rb=this.tsTryParseDeclare(Pb);if(Rb)return Rb.declare=!0,Rb;break}case"global":if(this.match(n.braceL)){this.scope.enter(256),this.prodParam.enter(0);const Sb=Pb;return Sb.global=!0,Sb.id=Qb,Sb.body=this.tsParseModuleBlock(),this.scope.exit(),this.prodParam.exit(),this.finishNode(Sb,"TSModuleDeclaration")}break;default:return this.tsParseDeclaration(Pb,Qb.name,!1)}}tsParseDeclaration(Tb,Ub,Vb){switch(Ub){case"abstract":if(this.tsCheckLineTerminator(Vb)&&(this.match(n._class)||this.match(n.name)))return this.tsParseAbstractDeclaration(Tb);break;case"enum":if(Vb||this.match(n.name))return Vb&&this.next(),this.tsParseEnumDeclaration(Tb,!1);break;case"interface":if(this.tsCheckLineTerminator(Vb)&&this.match(n.name))return this.tsParseInterfaceDeclaration(Tb);break;case"module":if(this.tsCheckLineTerminator(Vb)){if(this.match(n.string))return this.tsParseAmbientExternalModuleDeclaration(Tb);if(this.match(n.name))return this.tsParseModuleOrNamespaceDeclaration(Tb)}break;case"namespace":if(this.tsCheckLineTerminator(Vb)&&this.match(n.name))return this.tsParseModuleOrNamespaceDeclaration(Tb);break;case"type":if(this.tsCheckLineTerminator(Vb)&&this.match(n.name))return this.tsParseTypeAliasDeclaration(Tb);break}}tsCheckLineTerminator(Wb){return Wb?!this.hasFollowingLineBreak()&&(this.next(),!0):!this.isLineTerminator()}tsTryParseGenericAsyncArrowFunction(Xb,Yb){if(!this.isRelational("<"))return;const Zb=this.state.maybeInArrowParameters;this.state.maybeInArrowParameters=!0;const $b=this.tsTryParseAndCatch(()=>{const a=this.startNodeAt(Xb,Yb);return a.typeParameters=this.tsParseTypeParameters(),super.parseFunctionParams(a),a.returnType=this.tsTryParseTypeOrTypePredicateAnnotation(),this.expect(n.arrow),a});if(this.state.maybeInArrowParameters=Zb,$b)return this.parseArrowExpression($b,null,!0)}tsParseTypeArguments(){const _b=this.startNode();return _b.params=this.tsInType(()=>this.tsInNoContext(()=>(this.expectRelational("<"),this.tsParseDelimitedList("TypeParametersOrArguments",this.tsParseType.bind(this))))),0===_b.params.length&&this.raise(_b.start,_h.EmptyTypeArguments),this.expectRelational(">"),this.finishNode(_b,"TSTypeParameterInstantiation")}tsIsDeclarationStart(){if(this.match(n.name))switch(this.state.value){case"abstract":case"declare":case"enum":case"interface":case"module":case"namespace":case"type":return!0}return!1}isExportDefaultSpecifier(){return!this.tsIsDeclarationStart()&&super.isExportDefaultSpecifier()}parseAssignableListItem(ac,bc){const cc=this.state.start,dc=this.state.startLoc;let ec,fc=!1,gc=!1;if(void 0!==ac){const hc={};this.tsParseModifiers(hc,["public","private","protected","override","readonly"]),ec=hc.accessibility,gc=hc.override,fc=hc.readonly,!1===ac&&(ec||fc||gc)&&this.raise(cc,_h.UnexpectedParameterModifier)}const ic=this.parseMaybeDefault();this.parseAssignableListItemTypes(ic);const jc=this.parseMaybeDefault(ic.start,ic.loc.start,ic);if(ec||fc||gc){const kc=this.startNodeAt(cc,dc);return bc.length&&(kc.decorators=bc),ec&&(kc.accessibility=ec),fc&&(kc.readonly=fc),gc&&(kc.override=gc),"Identifier"!==jc.type&&"AssignmentPattern"!==jc.type&&this.raise(kc.start,_h.UnsupportedParameterPropertyKind),kc.parameter=jc,this.finishNode(kc,"TSParameterProperty")}return bc.length&&(ic.decorators=bc),jc}parseFunctionBodyAndFinish(lc,mc,nc=!1){this.match(n.colon)&&(lc.returnType=this.tsParseTypeOrTypePredicateAnnotation(n.colon));const oc="FunctionDeclaration"===mc?"TSDeclareFunction":"ClassMethod"===mc?"TSDeclareMethod":void 0;if(oc&&!this.match(n.braceL)&&this.isLineTerminator()){this.finishNode(lc,oc);return}if("TSDeclareFunction"===oc&&this.state.isAmbientContext&&(this.raise(lc.start,_h.DeclareFunctionHasImplementation),lc.declare)){super.parseFunctionBodyAndFinish(lc,oc,nc);return}super.parseFunctionBodyAndFinish(lc,mc,nc)}registerFunctionStatementId(pc){!pc.body&&pc.id?this.checkLVal(pc.id,"function name",1024):super.registerFunctionStatementId(...arguments)}tsCheckForInvalidTypeCasts(qc){qc.forEach(a=>{(null==a?void 0:a.type)==="TSTypeCastExpression"&&this.raise(a.typeAnnotation.start,_h.UnexpectedTypeAnnotation)})}toReferencedList(rc,sc){return this.tsCheckForInvalidTypeCasts(rc),rc}parseArrayLike(...tc){const uc=super.parseArrayLike(...tc);return"ArrayExpression"===uc.type&&this.tsCheckForInvalidTypeCasts(uc.elements),uc}parseSubscript(vc,wc,xc,yc,zc){if(!this.hasPrecedingLineBreak()&&this.match(n.bang)){this.state.exprAllowed=!1,this.next();const Ac=this.startNodeAt(wc,xc);return Ac.expression=vc,this.finishNode(Ac,"TSNonNullExpression")}let Bc=!1;if(this.match(n.questionDot)&&60===this.lookaheadCharCode()){if(yc)return zc.stop=!0,vc;zc.optionalChainMember=Bc=!0,this.next()}if(this.isRelational("<")){let Cc;const Dc=this.tsTryParseAndCatch(()=>{if(!yc&&this.atPossibleAsyncArrow(vc)){const a=this.tsTryParseGenericAsyncArrowFunction(wc,xc);if(a)return a}const b=this.startNodeAt(wc,xc);b.callee=vc;const c=this.tsParseTypeArguments();if(c){if(Bc&&!this.match(n.parenL)&&(Cc=this.state.pos,this.unexpected()),!yc&&this.eat(n.parenL))return b.arguments=this.parseCallExpressionArguments(n.parenR,!1),this.tsCheckForInvalidTypeCasts(b.arguments),b.typeParameters=c,zc.optionalChainMember&&(b.optional=Bc),this.finishCallExpression(b,zc.optionalChainMember);if(this.match(n.backQuote)){const d=this.parseTaggedTemplateExpression(vc,wc,xc,zc);return d.typeParameters=c,d}}this.unexpected()});if(Cc&&this.unexpected(Cc,n.parenL),Dc)return Dc}return super.parseSubscript(vc,wc,xc,yc,zc)}parseNewArguments(Ec){if(this.isRelational("<")){const Fc=this.tsTryParseAndCatch(()=>{const a=this.tsParseTypeArguments();return this.match(n.parenL)||this.unexpected(),a});Fc&&(Ec.typeParameters=Fc)}super.parseNewArguments(Ec)}parseExprOp(Gc,Hc,Ic,Jc){if(Zh(n._in.binop)>Jc&&!this.hasPrecedingLineBreak()&&this.isContextual("as")){const Kc=this.startNodeAt(Hc,Ic);Kc.expression=Gc;const Lc=this.tsTryNextParseConstantContext();return Lc?Kc.typeAnnotation=Lc:Kc.typeAnnotation=this.tsNextThenParseType(),this.finishNode(Kc,"TSAsExpression"),this.reScan_lt_gt(),this.parseExprOp(Kc,Hc,Ic,Jc)}return super.parseExprOp(Gc,Hc,Ic,Jc)}checkReservedWord(Mc,Nc,Oc,Pc){}checkDuplicateExports(){}parseImport(Qc){if(Qc.importKind="value",this.match(n.name)||this.match(n.star)||this.match(n.braceL)){let Rc=this.lookahead();if(this.isContextual("type")&&Rc.type!==n.comma&&!(Rc.type===n.name&&"from"===Rc.value)&&Rc.type!==n.eq&&(Qc.importKind="type",this.next(),Rc=this.lookahead()),this.match(n.name)&&Rc.type===n.eq)return this.tsParseImportEqualsDeclaration(Qc)}const Sc=super.parseImport(Qc);return"type"===Sc.importKind&&Sc.specifiers.length>1&&"ImportDefaultSpecifier"===Sc.specifiers[0].type&&this.raise(Sc.start,_h.TypeImportCannotSpecifyDefaultAndNamed),Sc}parseExport(Tc){if(this.match(n._import))return this.next(),this.isContextual("type")&&61!==this.lookaheadCharCode()?(Tc.importKind="type",this.next()):Tc.importKind="value",this.tsParseImportEqualsDeclaration(Tc,!0);if(this.eat(n.eq)){const Uc=Tc;return Uc.expression=this.parseExpression(),this.semicolon(),this.finishNode(Uc,"TSExportAssignment")}{if(!this.eatContextual("as"))return this.isContextual("type")&&this.lookahead().type===n.braceL?(this.next(),Tc.exportKind="type"):Tc.exportKind="value",super.parseExport(Tc);const Vc=Tc;return this.expectContextual("namespace"),Vc.id=this.parseIdentifier(),this.semicolon(),this.finishNode(Vc,"TSNamespaceExportDeclaration")}}isAbstractClass(){return this.isContextual("abstract")&&this.lookahead().type===n._class}parseExportDefaultExpression(){if(this.isAbstractClass()){const Wc=this.startNode();return this.next(),Wc.abstract=!0,this.parseClass(Wc,!0,!0),Wc}if("interface"===this.state.value){const Xc=this.startNode();this.next();const Yc=this.tsParseInterfaceDeclaration(Xc);if(Yc)return Yc}return super.parseExportDefaultExpression()}parseStatementContent(Zc,$c){if(this.state.type===n._const){const _c=this.lookahead();if(_c.type===n.name&&"enum"===_c.value){const ad=this.startNode();return this.expect(n._const),this.expectContextual("enum"),this.tsParseEnumDeclaration(ad,!0)}}return super.parseStatementContent(Zc,$c)}parseAccessModifier(){return this.tsParseModifier(["public","protected","private"])}tsHasSomeModifiers(bd,cd){return cd.some(a=>ai(a)?bd.accessibility===a:!!bd[a])}parseClassMember(dd,ed,fd){const gd=["declare","private","public","protected","override","abstract","readonly"];this.tsParseModifiers(ed,gd.concat(["static"]));const hd=()=>{const a=!!ed.static;a&&this.eat(n.braceL)?(this.tsHasSomeModifiers(ed,gd)&&this.raise(this.state.pos,_h.StaticBlockCannotHaveModifier),this.parseClassStaticBlock(dd,ed)):this.parseClassMemberWithIsStatic(dd,ed,fd,a)};ed.declare?this.tsInAmbientContext(hd):hd()}parseClassMemberWithIsStatic(id,jd,kd,ld){const md=this.tsTryParseIndexSignature(jd);if(md){id.body.push(md),jd.abstract&&this.raise(jd.start,_h.IndexSignatureHasAbstract),jd.accessibility&&this.raise(jd.start,_h.IndexSignatureHasAccessibility,jd.accessibility),jd.declare&&this.raise(jd.start,_h.IndexSignatureHasDeclare),jd.override&&this.raise(jd.start,_h.IndexSignatureHasOverride);return}!this.state.inAbstractClass&&jd.abstract&&this.raise(jd.start,_h.NonAbstractClassHasAbstractMethod),jd.override&&(kd.hadSuperClass||this.raise(jd.start,_h.OverrideNotInSubClass)),super.parseClassMemberWithIsStatic(id,jd,kd,ld)}parsePostMemberNameModifiers(nd){const od=this.eat(n.question);od&&(nd.optional=!0),nd.readonly&&this.match(n.parenL)&&this.raise(nd.start,_h.ClassMethodHasReadonly),nd.declare&&this.match(n.parenL)&&this.raise(nd.start,_h.ClassMethodHasDeclare)}parseExpressionStatement(pd,qd){const rd="Identifier"===qd.type?this.tsParseExpressionStatement(pd,qd):void 0;return rd||super.parseExpressionStatement(pd,qd)}shouldParseExportDeclaration(){return!!this.tsIsDeclarationStart()||super.shouldParseExportDeclaration()}parseConditional(sd,td,ud,vd){if(!this.state.maybeInArrowParameters||!this.match(n.question))return super.parseConditional(sd,td,ud,vd);const wd=this.tryParse(()=>super.parseConditional(sd,td,ud));return wd.node?(wd.error&&(this.state=wd.failState),wd.node):(wd.error&&super.setOptionalParametersError(vd,wd.error),sd)}parseParenItem(xd,yd,zd){if(xd=super.parseParenItem(xd,yd,zd),this.eat(n.question)&&(xd.optional=!0,this.resetEndLocation(xd)),this.match(n.colon)){const Ad=this.startNodeAt(yd,zd);return Ad.expression=xd,Ad.typeAnnotation=this.tsParseTypeAnnotation(),this.finishNode(Ad,"TSTypeCastExpression")}return xd}parseExportDeclaration(Bd){const Cd=this.state.start,Dd=this.state.startLoc,Ed=this.eatContextual("declare");if(Ed&&(this.isContextual("declare")||!this.shouldParseExportDeclaration()))throw this.raise(this.state.start,_h.ExpectedAmbientAfterExportDeclare);let Fd;return this.match(n.name)&&(Fd=this.tsTryParseExportDeclaration()),Fd||(Fd=super.parseExportDeclaration(Bd)),Fd&&("TSInterfaceDeclaration"===Fd.type||"TSTypeAliasDeclaration"===Fd.type||Ed)&&(Bd.exportKind="type"),Fd&&Ed&&(this.resetStartLocation(Fd,Cd,Dd),Fd.declare=!0),Fd}parseClassId(Gd,Hd,Id){if((!Hd||Id)&&this.isContextual("implements"))return;super.parseClassId(Gd,Hd,Id,Gd.declare?1024:139);const Jd=this.tsTryParseTypeParameters();Jd&&(Gd.typeParameters=Jd)}parseClassPropertyAnnotation(Kd){!Kd.optional&&this.eat(n.bang)&&(Kd.definite=!0);const Ld=this.tsTryParseTypeAnnotation();Ld&&(Kd.typeAnnotation=Ld)}parseClassProperty(Md){if(this.parseClassPropertyAnnotation(Md),this.state.isAmbientContext&&this.match(n.eq)&&this.raise(this.state.start,_h.DeclareClassFieldHasInitializer),Md.abstract&&this.match(n.eq)){const{key:Nd}=Md;this.raise(this.state.start,_h.AbstractPropertyHasInitializer,"Identifier"!==Nd.type||Md.computed?`[${this.input.slice(Nd.start,Nd.end)}]`:Nd.name)}return super.parseClassProperty(Md)}parseClassPrivateProperty(Od){return Od.abstract&&this.raise(Od.start,_h.PrivateElementHasAbstract),Od.accessibility&&this.raise(Od.start,_h.PrivateElementHasAccessibility,Od.accessibility),this.parseClassPropertyAnnotation(Od),super.parseClassPrivateProperty(Od)}pushClassMethod(Pd,Qd,Rd,Sd,Td,Ud){const Vd=this.tsTryParseTypeParameters();Vd&&Td&&this.raise(Vd.start,_h.ConstructorHasTypeParameters),Qd.declare&&("get"===Qd.kind||"set"===Qd.kind)&&this.raise(Qd.start,_h.DeclareAccessor,Qd.kind),Vd&&(Qd.typeParameters=Vd),super.pushClassMethod(Pd,Qd,Rd,Sd,Td,Ud)}pushClassPrivateMethod(Wd,Xd,Yd,Zd){const $d=this.tsTryParseTypeParameters();$d&&(Xd.typeParameters=$d),super.pushClassPrivateMethod(Wd,Xd,Yd,Zd)}parseClassSuper(_d){super.parseClassSuper(_d),_d.superClass&&this.isRelational("<")&&(_d.superTypeParameters=this.tsParseTypeArguments()),this.eatContextual("implements")&&(_d.implements=this.tsParseHeritageClause("implements"))}parseObjPropValue(ae,...be){const ce=this.tsTryParseTypeParameters();ce&&(ae.typeParameters=ce),super.parseObjPropValue(ae,...be)}parseFunctionParams(de,ee){const fe=this.tsTryParseTypeParameters();fe&&(de.typeParameters=fe),super.parseFunctionParams(de,ee)}parseVarId(ge,he){super.parseVarId(ge,he),"Identifier"===ge.id.type&&this.eat(n.bang)&&(ge.definite=!0);const ie=this.tsTryParseTypeAnnotation();ie&&(ge.id.typeAnnotation=ie,this.resetEndLocation(ge.id))}parseAsyncArrowFromCallExpression(je,ke){return this.match(n.colon)&&(je.returnType=this.tsParseTypeAnnotation()),super.parseAsyncArrowFromCallExpression(je,ke)}parseMaybeAssign(...le){var me,ne,oe,pe,qe,re,se;let te,ue,ve;if(this.hasPlugin("jsx")&&(this.match(n.jsxTagStart)||this.isRelational("<"))){if(te=this.state.clone(),!(ue=this.tryParse(()=>super.parseMaybeAssign(...le),te)).error)return ue.node;const{context:we}=this.state;we[we.length-1]===Ha.j_oTag?we.length-=2:we[we.length-1]===Ha.j_expr&&(we.length-=1)}if(!(null!=(me=ue)&&me.error)&&!this.isRelational("<"))return super.parseMaybeAssign(...le);let xe;te=te||this.state.clone();const ye=this.tryParse(a=>{var b,c;xe=this.tsParseTypeParameters();const d=super.parseMaybeAssign(...le);return("ArrowFunctionExpression"!==d.type||null!=(b=d.extra)&&b.parenthesized)&&a(),(null==(c=xe)?void 0:c.params.length)!==0&&this.resetStartLocationFromNode(d,xe),d.typeParameters=xe,d},te);if(!ye.error&&!ye.aborted)return ye.node;if(!ue&&($h(!this.hasPlugin("jsx")),!(ve=this.tryParse(()=>super.parseMaybeAssign(...le),te)).error))return ve.node;if(null!=(ne=ue)&&ne.node)return this.state=ue.failState,ue.node;if(ye.node)return this.state=ye.failState,ye.node;if(null!=(oe=ve)&&oe.node)return this.state=ve.failState,ve.node;if(null!=(pe=ue)&&pe.thrown)throw ue.error;if(ye.thrown)throw ye.error;if(null!=(qe=ve)&&qe.thrown)throw ve.error;throw(null==(re=ue)?void 0:re.error)||ye.error||(null==(se=ve)?void 0:se.error)}parseMaybeUnary(ze){return!this.hasPlugin("jsx")&&this.isRelational("<")?this.tsParseTypeAssertion():super.parseMaybeUnary(ze)}parseArrow(Ae){if(this.match(n.colon)){const Be=this.tryParse(a=>{const b=this.tsParseTypeOrTypePredicateAnnotation(n.colon);return(this.canInsertSemicolon()||!this.match(n.arrow))&&a(),b});if(Be.aborted)return;Be.thrown||(Be.error&&(this.state=Be.failState),Ae.returnType=Be.node)}return super.parseArrow(Ae)}parseAssignableListItemTypes(Ce){this.eat(n.question)&&("Identifier"===Ce.type||this.state.isAmbientContext||this.state.inType||this.raise(Ce.start,_h.PatternIsOptional),Ce.optional=!0);const De=this.tsTryParseTypeAnnotation();return De&&(Ce.typeAnnotation=De),this.resetEndLocation(Ce),Ce}isAssignable(Ee,Fe){switch(Ee.type){case"TSTypeCastExpression":return this.isAssignable(Ee.expression,Fe);case"TSParameterProperty":return!0;default:return super.isAssignable(Ee,Fe)}}toAssignable(Ge,He=!1){switch(Ge.type){case"TSTypeCastExpression":return super.toAssignable(this.typeCastToParameter(Ge),He);case"TSParameterProperty":return super.toAssignable(Ge,He);case"ParenthesizedExpression":return this.toAssignableParenthesizedExpression(Ge,He);case"TSAsExpression":case"TSNonNullExpression":case"TSTypeAssertion":return Ge.expression=this.toAssignable(Ge.expression,He),Ge;default:return super.toAssignable(Ge,He)}}toAssignableParenthesizedExpression(Ie,Je){switch(Ie.expression.type){case"TSAsExpression":case"TSNonNullExpression":case"TSTypeAssertion":case"ParenthesizedExpression":return Ie.expression=this.toAssignable(Ie.expression,Je),Ie;default:return super.toAssignable(Ie,Je)}}checkLVal(Ke,Le,...Me){var Ne;switch(Ke.type){case"TSTypeCastExpression":return;case"TSParameterProperty":this.checkLVal(Ke.parameter,"parameter property",...Me);return;case"TSAsExpression":case"TSTypeAssertion":if(!Me[0]&&"parenthesized expression"!==Le&&!(null!=(Ne=Ke.extra)&&Ne.parenthesized)){this.raise(Ke.start,ba.InvalidLhs,Le);break}this.checkLVal(Ke.expression,"parenthesized expression",...Me);return;case"TSNonNullExpression":this.checkLVal(Ke.expression,Le,...Me);return;default:super.checkLVal(Ke,Le,...Me);return}}parseBindingAtom(){switch(this.state.type){case n._this:return this.parseIdentifier(!0);default:return super.parseBindingAtom()}}parseMaybeDecoratorArguments(Oe){if(this.isRelational("<")){const Pe=this.tsParseTypeArguments();if(this.match(n.parenL)){const Qe=super.parseMaybeDecoratorArguments(Oe);return Qe.typeParameters=Pe,Qe}this.unexpected(this.state.start,n.parenL)}return super.parseMaybeDecoratorArguments(Oe)}checkCommaAfterRest(Re){this.state.isAmbientContext&&this.match(n.comma)&&this.lookaheadCharCode()===Re?this.next():super.checkCommaAfterRest(Re)}isClassMethod(){return this.isRelational("<")||super.isClassMethod()}isClassProperty(){return this.match(n.bang)||this.match(n.colon)||super.isClassProperty()}parseMaybeDefault(...Se){const Te=super.parseMaybeDefault(...Se);return"AssignmentPattern"===Te.type&&Te.typeAnnotation&&Te.right.start<Te.typeAnnotation.start&&this.raise(Te.typeAnnotation.start,_h.TypeAnnotationAfterAssign),Te}getTokenFromCode(Ue){return this.state.inType&&(62===Ue||60===Ue)?this.finishOp(n.relational,1):super.getTokenFromCode(Ue)}reScan_lt_gt(){if(this.match(n.relational)){const Ve=this.input.charCodeAt(this.state.start);(60===Ve||62===Ve)&&(this.state.pos-=1,this.readToken_lt_gt(Ve))}}toAssignableList(We){for(let Xe=0;Xe<We.length;Xe++){const Ye=We[Xe];if(Ye)switch(Ye.type){case"TSTypeCastExpression":We[Xe]=this.typeCastToParameter(Ye);break;case"TSAsExpression":case"TSTypeAssertion":this.state.maybeInArrowParameters?this.raise(Ye.start,_h.UnexpectedTypeCastInParameter):We[Xe]=this.typeCastToParameter(Ye);break}}return super.toAssignableList(...arguments)}typeCastToParameter(Ze){return Ze.expression.typeAnnotation=Ze.typeAnnotation,this.resetEndLocation(Ze.expression,Ze.typeAnnotation.end,Ze.typeAnnotation.loc.end),Ze.expression}shouldParseArrow($e){return this.match(n.colon)?$e.every(a=>this.isAssignable(a,!0)):super.shouldParseArrow($e)}shouldParseAsyncArrow(){return this.match(n.colon)||super.shouldParseAsyncArrow()}canHaveLeadingDecorator(){return super.canHaveLeadingDecorator()||this.isAbstractClass()}jsxParseOpeningElementAfterName(_e){if(this.isRelational("<")){const af=this.tsTryParseAndCatch(()=>this.tsParseTypeArguments());af&&(_e.typeParameters=af)}return super.jsxParseOpeningElementAfterName(_e)}getGetterSetterExpectedParamCount(bf){const cf=super.getGetterSetterExpectedParamCount(bf),df=this.getObjectOrClassMethodParams(bf),ef=df[0],ff=ef&&this.isThisParam(ef);return ff?cf+1:cf}parseCatchClauseParam(){const gf=super.parseCatchClauseParam(),hf=this.tsTryParseTypeAnnotation();return hf&&(gf.typeAnnotation=hf,this.resetEndLocation(gf)),gf}tsInAmbientContext(jf){const kf=this.state.isAmbientContext;this.state.isAmbientContext=!0;try{return jf()}finally{this.state.isAmbientContext=kf}}parseClass(lf,...mf){const nf=this.state.inAbstractClass;this.state.inAbstractClass=!!lf.abstract;try{return super.parseClass(lf,...mf)}finally{this.state.inAbstractClass=nf}}tsParseAbstractDeclaration(of){if(this.match(n._class))return of.abstract=!0,this.parseClass(of,!0,!1);if(this.isContextual("interface")){if(!this.hasFollowingLineBreak())return of.abstract=!0,this.raise(of.start,_h.NonClassMethodPropertyHasAbstractModifer),this.next(),this.tsParseInterfaceDeclaration(of)}else this.unexpected(null,n._class)}parseMethod(...pf){const qf=super.parseMethod(...pf);if(qf.abstract){const rf=this.hasPlugin("estree")?!!qf.value.body:!!qf.body;if(rf){const{key:sf}=qf;this.raise(qf.start,_h.AbstractMethodHasImplementation,"Identifier"!==sf.type||qf.computed?`[${this.input.slice(sf.start,sf.end)}]`:sf.name)}}return qf}tsParseTypeParameterName(){const tf=this.parseIdentifier();return tf.name}shouldParseAsAmbientContext(){return!!this.getPluginOption("typescript","dts")}parse(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.parse()}getExpression(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.getExpression()}},v8intrinsic:a=>class extends a{parseV8Intrinsic(){if(this.match(n.modulo)){const b=this.state.start,c=this.startNode();if(this.eat(n.modulo),this.match(n.name)){const d=this.parseIdentifierName(this.state.start),e=this.createIdentifier(c,d);if(e.type="V8IntrinsicIdentifier",this.match(n.parenL))return e}this.unexpected(b)}}parseExprAtom(){return this.parseV8Intrinsic()||super.parseExprAtom(...arguments)}},placeholders:a=>class extends a{parsePlaceholder(b){if(this.match(n.placeholder)){const c=this.startNode();return this.next(),this.assertNoSpace("Unexpected space in placeholder."),c.name=super.parseIdentifier(!0),this.assertNoSpace("Unexpected space in placeholder."),this.expect(n.placeholder),this.finishPlaceholder(c,b)}}finishPlaceholder(d,e){const f=!!(d.expectedNode&&"Placeholder"===d.type);return d.expectedNode=e,f?d:this.finishNode(d,"Placeholder")}getTokenFromCode(g){return 37===g&&37===this.input.charCodeAt(this.state.pos+1)?this.finishOp(n.placeholder,2):super.getTokenFromCode(...arguments)}parseExprAtom(){return this.parsePlaceholder("Expression")||super.parseExprAtom(...arguments)}parseIdentifier(){return this.parsePlaceholder("Identifier")||super.parseIdentifier(...arguments)}checkReservedWord(h){void 0!==h&&super.checkReservedWord(...arguments)}parseBindingAtom(){return this.parsePlaceholder("Pattern")||super.parseBindingAtom(...arguments)}checkLVal(i){"Placeholder"!==i.type&&super.checkLVal(...arguments)}toAssignable(j){return j&&"Placeholder"===j.type&&"Expression"===j.expectedNode?(j.expectedNode="Pattern",j):super.toAssignable(...arguments)}isLet(k){if(super.isLet(k))return!0;if(!this.isContextual("let"))return!1;if(k)return!1;const l=this.lookahead();return l.type===n.placeholder}verifyBreakContinue(m){m.label&&"Placeholder"===m.label.type||super.verifyBreakContinue(...arguments)}parseExpressionStatement(o,p){if("Placeholder"!==p.type||p.extra&&p.extra.parenthesized)return super.parseExpressionStatement(...arguments);if(this.match(n.colon)){const q=o;return q.label=this.finishPlaceholder(p,"Identifier"),this.next(),q.body=this.parseStatement("label"),this.finishNode(q,"LabeledStatement")}return this.semicolon(),o.name=p.name,this.finishPlaceholder(o,"Statement")}parseBlock(){return this.parsePlaceholder("BlockStatement")||super.parseBlock(...arguments)}parseFunctionId(){return this.parsePlaceholder("Identifier")||super.parseFunctionId(...arguments)}parseClass(r,s,t){const u=s?"ClassDeclaration":"ClassExpression";this.next(),this.takeDecorators(r);const v=this.state.strict,w=this.parsePlaceholder("Identifier");if(w)if(this.match(n._extends)||this.match(n.placeholder)||this.match(n.braceL))r.id=w;else{if(t||!s)return r.id=null,r.body=this.finishPlaceholder(w,"ClassBody"),this.finishNode(r,u);this.unexpected(null,bi.ClassNameIsRequired)}else this.parseClassId(r,s,t);return this.parseClassSuper(r),r.body=this.parsePlaceholder("ClassBody")||this.parseClassBody(!!r.superClass,v),this.finishNode(r,u)}parseExport(x){const y=this.parsePlaceholder("Identifier");if(!y)return super.parseExport(...arguments);if(!this.isContextual("from")&&!this.match(n.comma))return x.specifiers=[],x.source=null,x.declaration=this.finishPlaceholder(y,"Declaration"),this.finishNode(x,"ExportNamedDeclaration");this.expectPlugin("exportDefaultFrom");const z=this.startNode();return z.exported=y,x.specifiers=[this.finishNode(z,"ExportDefaultSpecifier")],super.parseExport(x)}isExportDefaultSpecifier(){if(this.match(n._default)){const A=this.nextTokenStart();if(this.isUnparsedContextual(A,"from")&&this.input.startsWith(n.placeholder.label,this.nextTokenStartSince(A+4)))return!0}return super.isExportDefaultSpecifier()}maybeParseExportDefaultSpecifier(B){return!!B.specifiers&&B.specifiers.length>0||super.maybeParseExportDefaultSpecifier(...arguments)}checkExport(C){const{specifiers:D}=C;null!=D&&D.length&&(C.specifiers=D.filter(a=>"Placeholder"===a.exported.type)),super.checkExport(C),C.specifiers=D}parseImport(E){const F=this.parsePlaceholder("Identifier");if(!F)return super.parseImport(...arguments);if(E.specifiers=[],!this.isContextual("from")&&!this.match(n.comma))return E.source=this.finishPlaceholder(F,"StringLiteral"),this.semicolon(),this.finishNode(E,"ImportDeclaration");const G=this.startNodeAtNode(F);if(G.local=F,this.finishNode(G,"ImportDefaultSpecifier"),E.specifiers.push(G),this.eat(n.comma)){const H=this.maybeParseStarImportSpecifier(E);H||this.parseNamedImportSpecifiers(E)}return this.expectContextual("from"),E.source=this.parseImportSource(),this.semicolon(),this.finishNode(E,"ImportDeclaration")}parseImportSource(){return this.parsePlaceholder("StringLiteral")||super.parseImportSource(...arguments)}}},ii=Object.keys(hi),ji={sourceType:"script",sourceFilename:void 0,startLine:1,allowAwaitOutsideFunction:!1,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowSuperOutsideMethod:!1,allowUndeclaredExports:!1,plugins:[],strictMode:null,ranges:!1,tokens:!1,createParenthesizedExpressions:!1,errorRecovery:!1,attachComment:!0},ki=a=>"ParenthesizedExpression"===a.type?ki(a.expression):a;class li extends fh{toAssignable(mi,ni=!1){var oi,pi,qi;let ri;switch(("ParenthesizedExpression"===mi.type||null!=(oi=mi.extra)&&oi.parenthesized)&&(ri=ki(mi),ni?"Identifier"===ri.type?this.expressionScope.recordParenthesizedIdentifierError(mi.start,ba.InvalidParenthesizedAssignment):"MemberExpression"!==ri.type&&this.raise(mi.start,ba.InvalidParenthesizedAssignment):this.raise(mi.start,ba.InvalidParenthesizedAssignment)),mi.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":mi.type="ObjectPattern";for(let si=0,ti=mi.properties.length,ui=ti-1;si<ti;si++){const vi=mi.properties[si],wi=si===ui;this.toAssignableObjectExpressionProp(vi,wi,ni),wi&&"RestElement"===vi.type&&null!=(qi=mi.extra)&&qi.trailingComma&&this.raiseRestNotLast(mi.extra.trailingComma)}break;case"ObjectProperty":this.toAssignable(mi.value,ni);break;case"SpreadElement":{this.checkToRestConversion(mi),mi.type="RestElement";const xi=mi.argument;this.toAssignable(xi,ni);break}case"ArrayExpression":mi.type="ArrayPattern",this.toAssignableList(mi.elements,null==(pi=mi.extra)?void 0:pi.trailingComma,ni);break;case"AssignmentExpression":"="!==mi.operator&&this.raise(mi.left.end,ba.MissingEqInAssignment),mi.type="AssignmentPattern",delete mi.operator,this.toAssignable(mi.left,ni);break;case"ParenthesizedExpression":this.toAssignable(ri,ni);break}return mi}toAssignableObjectExpressionProp(yi,zi,Ai){if("ObjectMethod"===yi.type){const Bi="get"===yi.kind||"set"===yi.kind?ba.PatternHasAccessor:ba.PatternHasMethod;this.raise(yi.key.start,Bi)}else"SpreadElement"!==yi.type||zi?this.toAssignable(yi,Ai):this.raiseRestNotLast(yi.start)}toAssignableList(Ci,Di,Ei){let Fi=Ci.length;if(Fi){const Gi=Ci[Fi-1];if((null==Gi?void 0:Gi.type)==="RestElement")--Fi;else if((null==Gi?void 0:Gi.type)==="SpreadElement"){Gi.type="RestElement";let Hi=Gi.argument;this.toAssignable(Hi,Ei),"Identifier"!==(Hi=ki(Hi)).type&&"MemberExpression"!==Hi.type&&"ArrayPattern"!==Hi.type&&"ObjectPattern"!==Hi.type&&this.unexpected(Hi.start),Di&&this.raiseTrailingCommaAfterRest(Di),--Fi}}for(let Ii=0;Ii<Fi;Ii++){const Ji=Ci[Ii];Ji&&(this.toAssignable(Ji,Ei),"RestElement"===Ji.type&&this.raiseRestNotLast(Ji.start))}return Ci}isAssignable(Ki,Li){switch(Ki.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":return!0;case"ObjectExpression":{const Mi=Ki.properties.length-1;return Ki.properties.every((a,b)=>"ObjectMethod"!==a.type&&(b===Mi||"SpreadElement"!==a.type)&&this.isAssignable(a))}case"ObjectProperty":return this.isAssignable(Ki.value);case"SpreadElement":return this.isAssignable(Ki.argument);case"ArrayExpression":return Ki.elements.every(a=>null===a||this.isAssignable(a));case"AssignmentExpression":return"="===Ki.operator;case"ParenthesizedExpression":return this.isAssignable(Ki.expression);case"MemberExpression":case"OptionalMemberExpression":return!Li;default:return!1}}toReferencedList(Ni,Oi){return Ni}toReferencedListDeep(Pi,Qi){for(const Ri of(this.toReferencedList(Pi,Qi),Pi))(null==Ri?void 0:Ri.type)==="ArrayExpression"&&this.toReferencedListDeep(Ri.elements)}parseSpread(Si,Ti){const Ui=this.startNode();return this.next(),Ui.argument=this.parseMaybeAssignAllowIn(Si,void 0,Ti),this.finishNode(Ui,"SpreadElement")}parseRestBinding(){const Vi=this.startNode();return this.next(),Vi.argument=this.parseBindingAtom(),this.finishNode(Vi,"RestElement")}parseBindingAtom(){switch(this.state.type){case n.bracketL:{const Wi=this.startNode();return this.next(),Wi.elements=this.parseBindingList(n.bracketR,93,!0),this.finishNode(Wi,"ArrayPattern")}case n.braceL:return this.parseObjectLike(n.braceR,!0)}return this.parseIdentifier()}parseBindingList(Xi,Yi,Zi,$i){const _i=[];let aj=!0;for(;!this.eat(Xi);)if(aj?aj=!1:this.expect(n.comma),Zi&&this.match(n.comma))_i.push(null);else if(this.eat(Xi))break;else if(this.match(n.ellipsis)){_i.push(this.parseAssignableListItemTypes(this.parseRestBinding())),this.checkCommaAfterRest(Yi),this.expect(Xi);break}else{const bj=[];for(this.match(n.at)&&this.hasPlugin("decorators")&&this.raise(this.state.start,ba.UnsupportedParameterDecorator);this.match(n.at);)bj.push(this.parseDecorator());_i.push(this.parseAssignableListItem($i,bj))}return _i}parseAssignableListItem(cj,dj){const ej=this.parseMaybeDefault();this.parseAssignableListItemTypes(ej);const fj=this.parseMaybeDefault(ej.start,ej.loc.start,ej);return dj.length&&(ej.decorators=dj),fj}parseAssignableListItemTypes(gj){return gj}parseMaybeDefault(hj,ij,jj){var kj,lj,mj;if(ij=null!=(kj=ij)?kj:this.state.startLoc,hj=null!=(lj=hj)?lj:this.state.start,jj=null!=(mj=jj)?mj:this.parseBindingAtom(),!this.eat(n.eq))return jj;const nj=this.startNodeAt(hj,ij);return nj.left=jj,nj.right=this.parseMaybeAssignAllowIn(),this.finishNode(nj,"AssignmentPattern")}checkLVal(oj,pj,qj=64,rj,sj,tj=!1){switch(oj.type){case"Identifier":{const{name:uj}=oj;this.state.strict&&(tj?Ya(uj,this.inModule):Xa(uj))&&this.raise(oj.start,64===qj?ba.StrictEvalArguments:ba.StrictEvalArgumentsBinding,uj),rj&&(rj.has(uj)?this.raise(oj.start,ba.ParamDupe):rj.add(uj)),sj&&"let"===uj&&this.raise(oj.start,ba.LetInLexicalBinding),64&qj||this.scope.declareName(uj,qj,oj.start);break}case"MemberExpression":64!==qj&&this.raise(oj.start,ba.InvalidPropertyBindingPattern);break;case"ObjectPattern":for(let vj of oj.properties){if(this.isObjectProperty(vj))vj=vj.value;else if(this.isObjectMethod(vj))continue;this.checkLVal(vj,"object destructuring pattern",qj,rj,sj)}break;case"ArrayPattern":for(const wj of oj.elements)wj&&this.checkLVal(wj,"array destructuring pattern",qj,rj,sj);break;case"AssignmentPattern":this.checkLVal(oj.left,"assignment pattern",qj,rj);break;case"RestElement":this.checkLVal(oj.argument,"rest element",qj,rj);break;case"ParenthesizedExpression":this.checkLVal(oj.expression,"parenthesized expression",qj,rj);break;default:this.raise(oj.start,64===qj?ba.InvalidLhs:ba.InvalidLhsBinding,pj)}}checkToRestConversion(xj){"Identifier"!==xj.argument.type&&"MemberExpression"!==xj.argument.type&&this.raise(xj.argument.start,ba.InvalidRestAssignmentPattern)}checkCommaAfterRest(yj){this.match(n.comma)&&(this.lookaheadCharCode()===yj?this.raiseTrailingCommaAfterRest(this.state.start):this.raiseRestNotLast(this.state.start))}raiseRestNotLast(zj){throw this.raise(zj,ba.ElementAfterRest)}raiseTrailingCommaAfterRest(Aj){this.raise(Aj,ba.RestTrailingComma)}}class Bj extends li{checkProto(Cj,Dj,Ej,Fj){if("SpreadElement"===Cj.type||this.isObjectMethod(Cj)||Cj.computed||Cj.shorthand)return;const Gj=Cj.key,Hj="Identifier"===Gj.type?Gj.name:Gj.value;if("__proto__"===Hj){if(Dj){this.raise(Gj.start,ba.RecordNoProto);return}Ej.used&&(Fj?-1===Fj.doubleProto&&(Fj.doubleProto=Gj.start):this.raise(Gj.start,ba.DuplicateProto)),Ej.used=!0}}shouldExitDescending(Ij,Jj){return"ArrowFunctionExpression"===Ij.type&&Ij.start===Jj}getExpression(){this.enterInitialScopes(),this.nextToken();const Kj=this.parseExpression();return this.match(n.eof)||this.unexpected(),this.finalizeRemainingComments(),Kj.comments=this.state.comments,Kj.errors=this.state.errors,this.options.tokens&&(Kj.tokens=this.tokens),Kj}parseExpression(Lj,Mj){return Lj?this.disallowInAnd(()=>this.parseExpressionBase(Mj)):this.allowInAnd(()=>this.parseExpressionBase(Mj))}parseExpressionBase(Nj){const Oj=this.state.start,Pj=this.state.startLoc,Qj=this.parseMaybeAssign(Nj);if(this.match(n.comma)){const Rj=this.startNodeAt(Oj,Pj);for(Rj.expressions=[Qj];this.eat(n.comma);)Rj.expressions.push(this.parseMaybeAssign(Nj));return this.toReferencedList(Rj.expressions),this.finishNode(Rj,"SequenceExpression")}return Qj}parseMaybeAssignDisallowIn(Sj,Tj){return this.disallowInAnd(()=>this.parseMaybeAssign(Sj,Tj))}parseMaybeAssignAllowIn(Uj,Vj){return this.allowInAnd(()=>this.parseMaybeAssign(Uj,Vj))}setOptionalParametersError(Wj,Xj){var Yj;Wj.optionalParameters=null!=(Yj=null==Xj?void 0:Xj.pos)?Yj:this.state.start}parseMaybeAssign(Zj,$j){const _j=this.state.start,ak=this.state.startLoc;if(this.isContextual("yield")&&this.prodParam.hasYield){let bk=this.parseYield();return $j&&(bk=$j.call(this,bk,_j,ak)),bk}let ck;Zj?ck=!1:(Zj=new Zg(),ck=!0),(this.match(n.parenL)||this.match(n.name))&&(this.state.potentialArrowAt=this.state.start);let dk=this.parseMaybeConditional(Zj);if($j&&(dk=$j.call(this,dk,_j,ak)),this.state.type.isAssign){const ek=this.startNodeAt(_j,ak),fk=this.state.value;ek.operator=fk;const gk="BinaryExpression"===dk.type&&"|>"===dk.operator&&"hack"===this.getPluginOption("pipelineOperator","proposal");if(gk)throw this.raise(this.state.start,ba.PipeBodyIsTighter,fk);return this.match(n.eq)?(ek.left=this.toAssignable(dk,!0),Zj.doubleProto=-1):ek.left=dk,Zj.shorthandAssign>=ek.left.start&&(Zj.shorthandAssign=-1),this.checkLVal(dk,"assignment expression"),this.next(),ek.right=this.parseMaybeAssign(),this.finishNode(ek,"AssignmentExpression")}return ck&&this.checkExpressionErrors(Zj,!0),dk}parseMaybeConditional(hk){const ik=this.state.start,jk=this.state.startLoc,kk=this.state.potentialArrowAt,lk=this.parseExprOps(hk);return this.shouldExitDescending(lk,kk)?lk:this.parseConditional(lk,ik,jk,hk)}parseConditional(mk,nk,ok,pk){if(this.eat(n.question)){const qk=this.startNodeAt(nk,ok);return qk.test=mk,qk.consequent=this.parseMaybeAssignAllowIn(),this.expect(n.colon),qk.alternate=this.parseMaybeAssign(),this.finishNode(qk,"ConditionalExpression")}return mk}parseExprOps(rk){const sk=this.state.start,tk=this.state.startLoc,uk=this.state.potentialArrowAt,vk=this.parseMaybeUnary(rk);return this.shouldExitDescending(vk,uk)?vk:this.parseExprOp(vk,sk,tk,-1)}parseExprOp(wk,xk,yk,zk){let Ak=this.state.type.binop;if(null!=Ak&&(this.prodParam.hasIn||!this.match(n._in))&&Ak>zk){const Bk=this.state.type;if(Bk===n.pipeline){if(this.expectPlugin("pipelineOperator"),this.state.inFSharpPipelineDirectBody)return wk;this.checkPipelineAtInfixOperator(wk,xk)}const Ck=this.startNodeAt(xk,yk);Ck.left=wk,Ck.operator=this.state.value;const Dk=Bk===n.logicalOR||Bk===n.logicalAND,Ek=Bk===n.nullishCoalescing;if(Ek&&(Ak=n.logicalAND.binop),this.next(),Bk===n.pipeline&&"minimal"===this.getPluginOption("pipelineOperator","proposal")&&this.match(n.name)&&"await"===this.state.value&&this.prodParam.hasAwait)throw this.raise(this.state.start,ba.UnexpectedAwaitAfterPipelineBody);Ck.right=this.parseExprOpRightExpr(Bk,Ak),this.finishNode(Ck,Dk||Ek?"LogicalExpression":"BinaryExpression");const Fk=this.state.type;if(Ek&&(Fk===n.logicalOR||Fk===n.logicalAND)||Dk&&Fk===n.nullishCoalescing)throw this.raise(this.state.start,ba.MixingCoalesceWithLogical);return this.parseExprOp(Ck,xk,yk,zk)}return wk}parseExprOpRightExpr(Gk,Hk){const Ik=this.state.start,Jk=this.state.startLoc;switch(Gk){case n.pipeline:switch(this.getPluginOption("pipelineOperator","proposal")){case"hack":return this.withTopicBindingContext(()=>{const a=this.parseHackPipeBody(Gk,Hk);return this.checkHackPipeBodyEarlyErrors(Ik),a});case"smart":return this.withTopicBindingContext(()=>{const a=this.parseHackPipeBody(Gk,Hk);return this.parseSmartPipelineBodyInStyle(a,Ik,Jk)});case"fsharp":return this.withSoloAwaitPermittingContext(()=>this.parseFSharpPipelineBody(Hk))}default:return this.parseExprOpBaseRightExpr(Gk,Hk)}}parseExprOpBaseRightExpr(Kk,Lk){const Mk=this.state.start,Nk=this.state.startLoc;return this.parseExprOp(this.parseMaybeUnary(),Mk,Nk,Kk.rightAssociative?Lk-1:Lk)}parseHackPipeBody(Ok,Pk){const Qk=this.prodParam.hasYield,Rk=Qk&&this.isContextual("yield");if(!Rk)return this.parseExprOpBaseRightExpr(Ok,Pk);throw this.raise(this.state.start,ba.PipeBodyIsTighter,this.state.value)}checkExponentialAfterUnary(Sk){this.match(n.exponent)&&this.raise(Sk.argument.start,ba.UnexpectedTokenUnaryExponentiation)}parseMaybeUnary(Tk,Uk){const Vk=this.state.start,Wk=this.state.startLoc,Xk=this.isContextual("await");if(Xk&&this.isAwaitAllowed()){this.next();const Yk=this.parseAwait(Vk,Wk);return Uk||this.checkExponentialAfterUnary(Yk),Yk}const Zk=this.match(n.incDec),$k=this.startNode();if(this.state.type.prefix){$k.operator=this.state.value,$k.prefix=!0,this.match(n._throw)&&this.expectPlugin("throwExpressions");const _k=this.match(n._delete);if(this.next(),$k.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(Tk,!0),this.state.strict&&_k){const al=$k.argument;"Identifier"===al.type?this.raise($k.start,ba.StrictDelete):this.hasPropertyAsPrivateName(al)&&this.raise($k.start,ba.DeletePrivateField)}if(!Zk)return Uk||this.checkExponentialAfterUnary($k),this.finishNode($k,"UnaryExpression")}const bl=this.parseUpdate($k,Zk,Tk);if(Xk){const cl=this.hasPlugin("v8intrinsic")?this.state.type.startsExpr:this.state.type.startsExpr&&!this.match(n.modulo);if(cl&&!this.isAmbiguousAwait())return this.raiseOverwrite(Vk,ba.AwaitNotInAsyncContext),this.parseAwait(Vk,Wk)}return bl}parseUpdate(dl,el,fl){if(el)return this.checkLVal(dl.argument,"prefix operation"),this.finishNode(dl,"UpdateExpression");const gl=this.state.start,hl=this.state.startLoc;let il=this.parseExprSubscripts(fl);if(this.checkExpressionErrors(fl,!1))return il;for(;this.state.type.postfix&&!this.canInsertSemicolon();){const jl=this.startNodeAt(gl,hl);jl.operator=this.state.value,jl.prefix=!1,jl.argument=il,this.checkLVal(il,"postfix operation"),this.next(),il=this.finishNode(jl,"UpdateExpression")}return il}parseExprSubscripts(kl){const ll=this.state.start,ml=this.state.startLoc,nl=this.state.potentialArrowAt,ol=this.parseExprAtom(kl);return this.shouldExitDescending(ol,nl)?ol:this.parseSubscripts(ol,ll,ml)}parseSubscripts(pl,ql,rl,sl){const tl={optionalChainMember:!1,maybeAsyncArrow:this.atPossibleAsyncArrow(pl),stop:!1};do pl=this.parseSubscript(pl,ql,rl,sl,tl),tl.maybeAsyncArrow=!1;while(!tl.stop);return pl}parseSubscript(ul,vl,wl,xl,yl){if(!xl&&this.eat(n.doubleColon))return this.parseBind(ul,vl,wl,xl,yl);if(this.match(n.backQuote))return this.parseTaggedTemplateExpression(ul,vl,wl,yl);let zl=!1;if(this.match(n.questionDot)){if(xl&&40===this.lookaheadCharCode())return yl.stop=!0,ul;yl.optionalChainMember=zl=!0,this.next()}return!xl&&this.match(n.parenL)?this.parseCoverCallAndAsyncArrowHead(ul,vl,wl,yl,zl):zl||this.match(n.bracketL)||this.eat(n.dot)?this.parseMember(ul,vl,wl,yl,zl):(yl.stop=!0,ul)}parseMember(Al,Bl,Cl,Dl,El){const Fl=this.startNodeAt(Bl,Cl),Gl=this.eat(n.bracketL);Fl.object=Al,Fl.computed=Gl;const Hl=!Gl&&this.match(n.privateName)&&this.state.value,Il=Gl?this.parseExpression():Hl?this.parsePrivateName():this.parseIdentifier(!0);return(!1!==Hl&&("Super"===Fl.object.type&&this.raise(Bl,ba.SuperPrivateField),this.classScope.usePrivateName(Hl,Il.start)),Fl.property=Il,Gl&&this.expect(n.bracketR),Dl.optionalChainMember)?(Fl.optional=El,this.finishNode(Fl,"OptionalMemberExpression")):this.finishNode(Fl,"MemberExpression")}parseBind(Jl,Kl,Ll,Ml,Nl){const Ol=this.startNodeAt(Kl,Ll);return Ol.object=Jl,Ol.callee=this.parseNoCallExpr(),Nl.stop=!0,this.parseSubscripts(this.finishNode(Ol,"BindExpression"),Kl,Ll,Ml)}parseCoverCallAndAsyncArrowHead(Pl,Ql,Rl,Sl,Tl){const Ul=this.state.maybeInArrowParameters;let Vl=null;this.state.maybeInArrowParameters=!0,this.next();let Wl=this.startNodeAt(Ql,Rl);return Wl.callee=Pl,Sl.maybeAsyncArrow&&(this.expressionScope.enter(new vf(2)),Vl=new Zg()),Sl.optionalChainMember&&(Wl.optional=Tl),Tl?Wl.arguments=this.parseCallExpressionArguments(n.parenR):Wl.arguments=this.parseCallExpressionArguments(n.parenR,"Import"===Pl.type,"Super"!==Pl.type,Wl,Vl),this.finishCallExpression(Wl,Sl.optionalChainMember),Sl.maybeAsyncArrow&&this.shouldParseAsyncArrow()&&!Tl?(Sl.stop=!0,this.expressionScope.validateAsPattern(),this.expressionScope.exit(),Wl=this.parseAsyncArrowFromCallExpression(this.startNodeAt(Ql,Rl),Wl)):(Sl.maybeAsyncArrow&&(this.checkExpressionErrors(Vl,!0),this.expressionScope.exit()),this.toReferencedArguments(Wl)),this.state.maybeInArrowParameters=Ul,Wl}toReferencedArguments(Xl,Yl){this.toReferencedListDeep(Xl.arguments,Yl)}parseTaggedTemplateExpression(Zl,$l,_l,am){const bm=this.startNodeAt($l,_l);return bm.tag=Zl,bm.quasi=this.parseTemplate(!0),am.optionalChainMember&&this.raise($l,ba.OptionalChainingNoTemplate),this.finishNode(bm,"TaggedTemplateExpression")}atPossibleAsyncArrow(cm){return"Identifier"===cm.type&&"async"===cm.name&&this.state.lastTokEnd===cm.end&&!this.canInsertSemicolon()&&cm.end-cm.start==5&&cm.start===this.state.potentialArrowAt}finishCallExpression(dm,em){if("Import"===dm.callee.type)if(2!==dm.arguments.length||this.hasPlugin("moduleAttributes")||this.expectPlugin("importAssertions"),0===dm.arguments.length||dm.arguments.length>2)this.raise(dm.start,ba.ImportCallArity,this.hasPlugin("importAssertions")||this.hasPlugin("moduleAttributes")?"one or two arguments":"one argument");else for(const fm of dm.arguments)"SpreadElement"===fm.type&&this.raise(fm.start,ba.ImportCallSpreadArgument);return this.finishNode(dm,em?"OptionalCallExpression":"CallExpression")}parseCallExpressionArguments(gm,hm,im,jm,km){const lm=[];let mm=!0;const nm=this.state.inFSharpPipelineDirectBody;for(this.state.inFSharpPipelineDirectBody=!1;!this.eat(gm);){if(mm)mm=!1;else if(this.expect(n.comma),this.match(gm)){!hm||this.hasPlugin("importAssertions")||this.hasPlugin("moduleAttributes")||this.raise(this.state.lastTokStart,ba.ImportCallArgumentTrailingComma),jm&&this.addExtra(jm,"trailingComma",this.state.lastTokStart),this.next();break}lm.push(this.parseExprListItem(!1,km,im))}return this.state.inFSharpPipelineDirectBody=nm,lm}shouldParseAsyncArrow(){return this.match(n.arrow)&&!this.canInsertSemicolon()}parseAsyncArrowFromCallExpression(om,pm){var qm;return this.resetPreviousNodeTrailingComments(pm),this.expect(n.arrow),this.parseArrowExpression(om,pm.arguments,!0,null==(qm=pm.extra)?void 0:qm.trailingComma),G(om,pm.innerComments),G(om,pm.callee.trailingComments),om}parseNoCallExpr(){const rm=this.state.start,sm=this.state.startLoc;return this.parseSubscripts(this.parseExprAtom(),rm,sm,!0)}parseExprAtom(tm){let um;switch(this.state.type){case n._super:return this.parseSuper();case n._import:if(um=this.startNode(),this.next(),this.match(n.dot))return this.parseImportMetaProperty(um);return this.match(n.parenL)||this.raise(this.state.lastTokStart,ba.UnsupportedImport),this.finishNode(um,"Import");case n._this:return um=this.startNode(),this.next(),this.finishNode(um,"ThisExpression");case n.name:{if(this.isContextual("module")&&123===this.lookaheadCharCode()&&!this.hasFollowingLineBreak())return this.parseModuleExpression();const vm=this.state.potentialArrowAt===this.state.start,wm=this.state.containsEsc,xm=this.parseIdentifier();if(!wm&&"async"===xm.name&&!this.canInsertSemicolon()){if(this.match(n._function))return this.resetPreviousNodeTrailingComments(xm),this.next(),this.parseFunction(this.startNodeAtNode(xm),void 0,!0);if(this.match(n.name)){if(61===this.lookaheadCharCode())return this.parseAsyncArrowUnaryFunction(this.startNodeAtNode(xm));return xm}if(this.match(n._do))return this.resetPreviousNodeTrailingComments(xm),this.parseDo(this.startNodeAtNode(xm),!0)}if(vm&&this.match(n.arrow)&&!this.canInsertSemicolon())return this.next(),this.parseArrowExpression(this.startNodeAtNode(xm),[xm],!1);return xm}case n._do:return this.parseDo(this.startNode(),!1);case n.slash:case n.slashAssign:return this.readRegexp(),this.parseRegExpLiteral(this.state.value);case n.num:return this.parseNumericLiteral(this.state.value);case n.bigint:return this.parseBigIntLiteral(this.state.value);case n.decimal:return this.parseDecimalLiteral(this.state.value);case n.string:return this.parseStringLiteral(this.state.value);case n._null:return this.parseNullLiteral();case n._true:return this.parseBooleanLiteral(!0);case n._false:return this.parseBooleanLiteral(!1);case n.parenL:{const ym=this.state.potentialArrowAt===this.state.start;return this.parseParenAndDistinguishExpression(ym)}case n.bracketBarL:case n.bracketHashL:return this.parseArrayLike(this.state.type===n.bracketBarL?n.bracketBarR:n.bracketR,!1,!0,tm);case n.bracketL:return this.parseArrayLike(n.bracketR,!0,!1,tm);case n.braceBarL:case n.braceHashL:return this.parseObjectLike(this.state.type===n.braceBarL?n.braceBarR:n.braceR,!1,!0,tm);case n.braceL:return this.parseObjectLike(n.braceR,!1,!1,tm);case n._function:return this.parseFunctionOrFunctionSent();case n.at:this.parseDecorators();case n._class:return um=this.startNode(),this.takeDecorators(um),this.parseClass(um,!1);case n._new:return this.parseNewOrNewTarget();case n.backQuote:return this.parseTemplate(!1);case n.doubleColon:{um=this.startNode(),this.next(),um.object=null;const zm=um.callee=this.parseNoCallExpr();if("MemberExpression"===zm.type)return this.finishNode(um,"BindExpression");throw this.raise(zm.start,ba.UnsupportedBind)}case n.privateName:{const{value:Am,start:Bm}=this.state;return um=this.parsePrivateName(),this.match(n._in)?this.classScope.usePrivateName(Am,Bm):this.raise(Bm,ba.PrivateInExpectedIn,Am),um}case n.moduloAssign:if("hack"===this.getPluginOption("pipelineOperator","proposal")&&"%"===this.getPluginOption("pipelineOperator","topicToken"))this.state.value="%",this.state.type=n.modulo,this.state.pos--,this.state.end--,this.state.endLoc.column--;else throw this.unexpected();case n.modulo:case n.hash:{const Cm=this.getPluginOption("pipelineOperator","proposal");if(Cm){um=this.startNode();const Dm=this.state.start,Em=this.state.type;return this.next(),this.finishTopicReference(um,Dm,Cm,Em)}}case n.relational:if("<"===this.state.value){const Fm=this.input.codePointAt(this.nextTokenStart());(Pa(Fm)||62===Fm)&&this.expectOnePlugin(["jsx","flow","typescript"])}default:throw this.unexpected()}}finishTopicReference(Gm,Hm,Im,Jm){if(this.testTopicReferenceConfiguration(Im,Hm,Jm)){let Km;return Km="smart"===Im?"PipelinePrimaryTopicReference":"TopicReference",this.topicReferenceIsAllowedInCurrentContext()||("smart"===Im?this.raise(Hm,ba.PrimaryTopicNotAllowed):this.raise(Hm,ba.PipeTopicUnbound)),this.registerTopicReference(),this.finishNode(Gm,Km)}throw this.raise(Hm,ba.PipeTopicUnconfiguredToken,Jm.label)}testTopicReferenceConfiguration(Lm,Mm,Nm){switch(Lm){case"hack":{const Om=this.getPluginOption("pipelineOperator","topicToken");return Nm.label===Om}case"smart":return Nm===n.hash;default:throw this.raise(Mm,ba.PipeTopicRequiresHackPipes)}}parseAsyncArrowUnaryFunction(Pm){this.prodParam.enter(Xf(!0,this.prodParam.hasYield));const Qm=[this.parseIdentifier()];return this.prodParam.exit(),this.hasPrecedingLineBreak()&&this.raise(this.state.pos,ba.LineTerminatorBeforeArrow),this.expect(n.arrow),this.parseArrowExpression(Pm,Qm,!0),Pm}parseDo(Rm,Sm){this.expectPlugin("doExpressions"),Sm&&this.expectPlugin("asyncDoExpressions"),Rm.async=Sm,this.next();const Tm=this.state.labels;return this.state.labels=[],Sm?(this.prodParam.enter(2),Rm.body=this.parseBlock(),this.prodParam.exit()):Rm.body=this.parseBlock(),this.state.labels=Tm,this.finishNode(Rm,"DoExpression")}parseSuper(){const Um=this.startNode();return this.next(),!this.match(n.parenL)||this.scope.allowDirectSuper||this.options.allowSuperOutsideMethod?this.scope.allowSuper||this.options.allowSuperOutsideMethod||this.raise(Um.start,ba.UnexpectedSuper):this.raise(Um.start,ba.SuperNotAllowed),this.match(n.parenL)||this.match(n.bracketL)||this.match(n.dot)||this.raise(Um.start,ba.UnsupportedSuper),this.finishNode(Um,"Super")}parseMaybePrivateName(Vm){const Wm=this.match(n.privateName);return Wm?(Vm||this.raise(this.state.start+1,ba.UnexpectedPrivateField),this.parsePrivateName()):this.parseIdentifier(!0)}parsePrivateName(){const Xm=this.startNode(),Ym=this.startNodeAt(this.state.start+1,new v(this.state.curLine,this.state.start+1-this.state.lineStart)),Zm=this.state.value;return this.next(),Xm.id=this.createIdentifier(Ym,Zm),this.finishNode(Xm,"PrivateName")}parseFunctionOrFunctionSent(){const $m=this.startNode();if(this.next(),this.prodParam.hasYield&&this.match(n.dot)){const _m=this.createIdentifier(this.startNodeAtNode($m),"function");return this.next(),this.parseMetaProperty($m,_m,"sent")}return this.parseFunction($m)}parseMetaProperty(an,bn,cn){an.meta=bn,"function"!==bn.name||"sent"!==cn||(this.isContextual(cn)?this.expectPlugin("functionSent"):this.hasPlugin("functionSent")||this.unexpected());const dn=this.state.containsEsc;return an.property=this.parseIdentifier(!0),(an.property.name!==cn||dn)&&this.raise(an.property.start,ba.UnsupportedMetaProperty,bn.name,cn),this.finishNode(an,"MetaProperty")}parseImportMetaProperty(en){const fn=this.createIdentifier(this.startNodeAtNode(en),"import");return this.next(),this.isContextual("meta")&&(this.inModule||this.raise(fn.start,ca.ImportMetaOutsideModule),this.sawUnambiguousESM=!0),this.parseMetaProperty(en,fn,"meta")}parseLiteralAtNode(gn,hn,jn){return this.addExtra(jn,"rawValue",gn),this.addExtra(jn,"raw",this.input.slice(jn.start,this.state.end)),jn.value=gn,this.next(),this.finishNode(jn,hn)}parseLiteral(kn,ln){const mn=this.startNode();return this.parseLiteralAtNode(kn,ln,mn)}parseStringLiteral(nn){return this.parseLiteral(nn,"StringLiteral")}parseNumericLiteral(on){return this.parseLiteral(on,"NumericLiteral")}parseBigIntLiteral(pn){return this.parseLiteral(pn,"BigIntLiteral")}parseDecimalLiteral(qn){return this.parseLiteral(qn,"DecimalLiteral")}parseRegExpLiteral(rn){const sn=this.parseLiteral(rn.value,"RegExpLiteral");return sn.pattern=rn.pattern,sn.flags=rn.flags,sn}parseBooleanLiteral(tn){const un=this.startNode();return un.value=tn,this.next(),this.finishNode(un,"BooleanLiteral")}parseNullLiteral(){const vn=this.startNode();return this.next(),this.finishNode(vn,"NullLiteral")}parseParenAndDistinguishExpression(wn){const xn=this.state.start,yn=this.state.startLoc;let zn;this.next(),this.expressionScope.enter(new vf(1));const An=this.state.maybeInArrowParameters,Bn=this.state.inFSharpPipelineDirectBody;this.state.maybeInArrowParameters=!0,this.state.inFSharpPipelineDirectBody=!1;const Cn=this.state.start,Dn=this.state.startLoc,En=[],Fn=new Zg();let Gn=!0,Hn,In;for(;!this.match(n.parenR);){if(Gn)Gn=!1;else if(this.expect(n.comma,-1===Fn.optionalParameters?null:Fn.optionalParameters),this.match(n.parenR)){In=this.state.start;break}if(this.match(n.ellipsis)){const Jn=this.state.start,Kn=this.state.startLoc;Hn=this.state.start,En.push(this.parseParenItem(this.parseRestBinding(),Jn,Kn)),this.checkCommaAfterRest(41);break}En.push(this.parseMaybeAssignAllowIn(Fn,this.parseParenItem))}const Ln=this.state.lastTokEnd,Mn=this.state.lastTokEndLoc;this.expect(n.parenR),this.state.maybeInArrowParameters=An,this.state.inFSharpPipelineDirectBody=Bn;let Nn=this.startNodeAt(xn,yn);if(wn&&this.shouldParseArrow(En)&&(Nn=this.parseArrow(Nn)))return this.expressionScope.validateAsPattern(),this.expressionScope.exit(),this.parseArrowExpression(Nn,En,!1),Nn;if(this.expressionScope.exit(),En.length||this.unexpected(this.state.lastTokStart),In&&this.unexpected(In),Hn&&this.unexpected(Hn),this.checkExpressionErrors(Fn,!0),this.toReferencedListDeep(En,!0),En.length>1?((zn=this.startNodeAt(Cn,Dn)).expressions=En,this.finishNode(zn,"SequenceExpression"),zn.end=Ln,zn.loc.end=Mn):zn=En[0],!this.options.createParenthesizedExpressions)return this.addExtra(zn,"parenthesized",!0),this.addExtra(zn,"parenStart",xn),zn;const On=this.startNodeAt(xn,yn);return On.expression=zn,this.finishNode(On,"ParenthesizedExpression"),On}shouldParseArrow(Pn){return!this.canInsertSemicolon()}parseArrow(Qn){if(this.eat(n.arrow))return Qn}parseParenItem(Rn,Sn,Tn){return Rn}parseNewOrNewTarget(){const Un=this.startNode();if(this.next(),this.match(n.dot)){const Vn=this.createIdentifier(this.startNodeAtNode(Un),"new");this.next();const Wn=this.parseMetaProperty(Un,Vn,"target");return this.scope.inNonArrowFunction||this.scope.inClass||this.raise(Wn.start,ba.UnexpectedNewTarget),Wn}return this.parseNew(Un)}parseNew(Xn){return Xn.callee=this.parseNoCallExpr(),"Import"===Xn.callee.type?this.raise(Xn.callee.start,ba.ImportCallNotNewExpression):this.isOptionalChain(Xn.callee)?this.raise(this.state.lastTokEnd,ba.OptionalChainingNoNew):this.eat(n.questionDot)&&this.raise(this.state.start,ba.OptionalChainingNoNew),this.parseNewArguments(Xn),this.finishNode(Xn,"NewExpression")}parseNewArguments(Yn){if(this.eat(n.parenL)){const Zn=this.parseExprList(n.parenR);this.toReferencedList(Zn),Yn.arguments=Zn}else Yn.arguments=[]}parseTemplateElement($n){const _n=this.startNode();return null!==this.state.value||$n||this.raise(this.state.start+1,ba.InvalidEscapeSequenceTemplate),_n.value={raw:this.input.slice(this.state.start,this.state.end).replace(/\r\n?/g,"\n"),cooked:this.state.value},this.next(),_n.tail=this.match(n.backQuote),this.finishNode(_n,"TemplateElement")}parseTemplate(ao){const bo=this.startNode();this.next(),bo.expressions=[];let co=this.parseTemplateElement(ao);for(bo.quasis=[co];!co.tail;)this.expect(n.dollarBraceL),bo.expressions.push(this.parseTemplateSubstitution()),this.expect(n.braceR),bo.quasis.push(co=this.parseTemplateElement(ao));return this.next(),this.finishNode(bo,"TemplateLiteral")}parseTemplateSubstitution(){return this.parseExpression()}parseObjectLike(eo,fo,go,ho){go&&this.expectPlugin("recordAndTuple");const io=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;const jo=Object.create(null);let ko=!0;const lo=this.startNode();for(lo.properties=[],this.next();!this.match(eo);){if(ko)ko=!1;else if(this.expect(n.comma),this.match(eo)){this.addExtra(lo,"trailingComma",this.state.lastTokStart);break}const mo=this.parsePropertyDefinition(fo,ho);fo||this.checkProto(mo,go,jo,ho),go&&!this.isObjectProperty(mo)&&"SpreadElement"!==mo.type&&this.raise(mo.start,ba.InvalidRecordProperty),mo.shorthand&&this.addExtra(mo,"shorthand",!0),lo.properties.push(mo)}this.next(),this.state.inFSharpPipelineDirectBody=io;let no="ObjectExpression";return fo?no="ObjectPattern":go&&(no="RecordExpression"),this.finishNode(lo,no)}maybeAsyncOrAccessorProp(oo){return!oo.computed&&"Identifier"===oo.key.type&&(this.isLiteralPropertyName()||this.match(n.bracketL)||this.match(n.star))}parsePropertyDefinition(po,qo){let ro=[];if(this.match(n.at))for(this.hasPlugin("decorators")&&this.raise(this.state.start,ba.UnsupportedPropertyDecorator);this.match(n.at);)ro.push(this.parseDecorator());const so=this.startNode();let to=!1,uo=!1,vo=!1,wo,xo;if(this.match(n.ellipsis))return(ro.length&&this.unexpected(),po)?(this.next(),so.argument=this.parseIdentifier(),this.checkCommaAfterRest(125),this.finishNode(so,"RestElement")):this.parseSpread();ro.length&&(so.decorators=ro,ro=[]),so.method=!1,(po||qo)&&(wo=this.state.start,xo=this.state.startLoc),po||(to=this.eat(n.star));const yo=this.state.containsEsc,zo=this.parsePropertyName(so,!1);if(!po&&!to&&!yo&&this.maybeAsyncOrAccessorProp(so)){const Ao=zo.name;"async"!==Ao||this.hasPrecedingLineBreak()||(uo=!0,this.resetPreviousNodeTrailingComments(zo),to=this.eat(n.star),this.parsePropertyName(so,!1)),("get"===Ao||"set"===Ao)&&(vo=!0,this.resetPreviousNodeTrailingComments(zo),so.kind=Ao,this.match(n.star)&&(to=!0,this.raise(this.state.pos,ba.AccessorIsGenerator,Ao),this.next()),this.parsePropertyName(so,!1))}return this.parseObjPropValue(so,wo,xo,to,uo,po,vo,qo),so}getGetterSetterExpectedParamCount(Bo){return"get"===Bo.kind?0:1}getObjectOrClassMethodParams(Co){return Co.params}checkGetterSetterParams(Do){var Eo;const Fo=this.getGetterSetterExpectedParamCount(Do),Go=this.getObjectOrClassMethodParams(Do),Ho=Do.start;Go.length!==Fo&&("get"===Do.kind?this.raise(Ho,ba.BadGetterArity):this.raise(Ho,ba.BadSetterArity)),"set"===Do.kind&&(null==(Eo=Go[Go.length-1])?void 0:Eo.type)==="RestElement"&&this.raise(Ho,ba.BadSetterRestParameter)}parseObjectMethod(Io,Jo,Ko,Lo,Mo){return Mo?(this.parseMethod(Io,Jo,!1,!1,!1,"ObjectMethod"),this.checkGetterSetterParams(Io),Io):Ko||Jo||this.match(n.parenL)?(Lo&&this.unexpected(),Io.kind="method",Io.method=!0,this.parseMethod(Io,Jo,Ko,!1,!1,"ObjectMethod")):void 0}parseObjectProperty(No,Oo,Po,Qo,Ro){return(No.shorthand=!1,this.eat(n.colon))?(No.value=Qo?this.parseMaybeDefault(this.state.start,this.state.startLoc):this.parseMaybeAssignAllowIn(Ro),this.finishNode(No,"ObjectProperty")):No.computed||"Identifier"!==No.key.type?void 0:(this.checkReservedWord(No.key.name,No.key.start,!0,!1),Qo?No.value=this.parseMaybeDefault(Oo,Po,dh(No.key)):this.match(n.eq)&&Ro?(-1===Ro.shorthandAssign&&(Ro.shorthandAssign=this.state.start),No.value=this.parseMaybeDefault(Oo,Po,dh(No.key))):No.value=dh(No.key),No.shorthand=!0,this.finishNode(No,"ObjectProperty"))}parseObjPropValue(So,To,Uo,Vo,Wo,Xo,Yo,Zo){const $o=this.parseObjectMethod(So,Vo,Wo,Xo,Yo)||this.parseObjectProperty(So,To,Uo,Xo,Zo);return $o||this.unexpected(),$o}parsePropertyName(_o,ap){if(this.eat(n.bracketL))_o.computed=!0,_o.key=this.parseMaybeAssignAllowIn(),this.expect(n.bracketR);else{const bp=this.state.inPropertyName;this.state.inPropertyName=!0;const cp=this.state.type;_o.key=cp===n.num||cp===n.string||cp===n.bigint||cp===n.decimal?this.parseExprAtom():this.parseMaybePrivateName(ap),cp!==n.privateName&&(_o.computed=!1),this.state.inPropertyName=bp}return _o.key}initFunction(dp,ep){dp.id=null,dp.generator=!1,dp.async=!!ep}parseMethod(fp,gp,hp,ip,jp,kp,lp=!1){return this.initFunction(fp,hp),fp.generator=!!gp,this.scope.enter(18|(lp?64:0)|(jp?32:0)),this.prodParam.enter(Xf(hp,fp.generator)),this.parseFunctionParams(fp,ip),this.parseFunctionBodyAndFinish(fp,kp,!0),this.prodParam.exit(),this.scope.exit(),fp}parseArrayLike(mp,np,op,pp){op&&this.expectPlugin("recordAndTuple");const qp=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;const rp=this.startNode();return this.next(),rp.elements=this.parseExprList(mp,!op,pp,rp),this.state.inFSharpPipelineDirectBody=qp,this.finishNode(rp,op?"TupleExpression":"ArrayExpression")}parseArrowExpression(sp,tp,up,vp){this.scope.enter(6);let wp=Xf(up,!1);!this.match(n.bracketL)&&this.prodParam.hasIn&&(wp|=8),this.prodParam.enter(wp),this.initFunction(sp,up);const xp=this.state.maybeInArrowParameters;return tp&&(this.state.maybeInArrowParameters=!0,this.setArrowFunctionParameters(sp,tp,vp)),this.state.maybeInArrowParameters=!1,this.parseFunctionBody(sp,!0),this.prodParam.exit(),this.scope.exit(),this.state.maybeInArrowParameters=xp,this.finishNode(sp,"ArrowFunctionExpression")}setArrowFunctionParameters(yp,zp,Ap){yp.params=this.toAssignableList(zp,Ap,!1)}parseFunctionBodyAndFinish(Bp,Cp,Dp=!1){this.parseFunctionBody(Bp,!1,Dp),this.finishNode(Bp,Cp)}parseFunctionBody(Ep,Fp,Gp=!1){const Hp=Fp&&!this.match(n.braceL);if(this.expressionScope.enter(Uf()),Hp)Ep.body=this.parseMaybeAssign(),this.checkParams(Ep,!1,Fp,!1);else{const Ip=this.state.strict,Jp=this.state.labels;this.state.labels=[],this.prodParam.enter(4|this.prodParam.currentFlags()),Ep.body=this.parseBlock(!0,!1,a=>{const b=!this.isSimpleParamList(Ep.params);if(a&&b){const c=("method"===Ep.kind||"constructor"===Ep.kind)&&Ep.key?Ep.key.end:Ep.start;this.raise(c,ba.IllegalLanguageModeDirective)}const d=!Ip&&this.state.strict;this.checkParams(Ep,!this.state.strict&&!Fp&&!Gp&&!b,Fp,d),this.state.strict&&Ep.id&&this.checkLVal(Ep.id,"function name",65,void 0,void 0,d)}),this.prodParam.exit(),this.expressionScope.exit(),this.state.labels=Jp}}isSimpleParamList(Kp){for(let Lp=0,Mp=Kp.length;Lp<Mp;Lp++)if("Identifier"!==Kp[Lp].type)return!1;return!0}checkParams(Np,Op,Pp,Qp=!0){const Rp=new Set();for(const Sp of Np.params)this.checkLVal(Sp,"function parameter list",5,Op?null:Rp,void 0,Qp)}parseExprList(Tp,Up,Vp,Wp){const Xp=[];let Yp=!0;for(;!this.eat(Tp);){if(Yp)Yp=!1;else if(this.expect(n.comma),this.match(Tp)){Wp&&this.addExtra(Wp,"trailingComma",this.state.lastTokStart),this.next();break}Xp.push(this.parseExprListItem(Up,Vp))}return Xp}parseExprListItem(Zp,$p,_p){let aq;if(this.match(n.comma))Zp||this.raise(this.state.pos,ba.UnexpectedToken,","),aq=null;else if(this.match(n.ellipsis)){const bq=this.state.start,cq=this.state.startLoc;aq=this.parseParenItem(this.parseSpread($p),bq,cq)}else if(this.match(n.question)){this.expectPlugin("partialApplication"),_p||this.raise(this.state.start,ba.UnexpectedArgumentPlaceholder);const dq=this.startNode();this.next(),aq=this.finishNode(dq,"ArgumentPlaceholder")}else aq=this.parseMaybeAssignAllowIn($p,this.parseParenItem);return aq}parseIdentifier(eq){const fq=this.startNode(),gq=this.parseIdentifierName(fq.start,eq);return this.createIdentifier(fq,gq)}createIdentifier(hq,iq){return hq.name=iq,hq.loc.identifierName=iq,this.finishNode(hq,"Identifier")}parseIdentifierName(jq,kq){let lq;const{start:mq,type:nq}=this.state;if(nq===n.name)lq=this.state.value;else if(nq.keyword)lq=nq.keyword;else throw this.unexpected();return kq?this.state.type=n.name:this.checkReservedWord(lq,mq,!!nq.keyword,!1),this.next(),lq}checkReservedWord(oq,pq,qq,rq){var sq;if(oq.length>10)return;if(sq=oq,!$a.has(sq))return;if("yield"===oq){if(this.prodParam.hasYield){this.raise(pq,ba.YieldBindingIdentifier);return}}else if("await"===oq){if(this.prodParam.hasAwait){this.raise(pq,ba.AwaitBindingIdentifier);return}if(this.scope.inStaticBlock){this.raise(pq,ba.AwaitBindingIdentifierInStaticBlock);return}this.expressionScope.recordAsyncArrowParametersError(pq,ba.AwaitBindingIdentifier)}else if("arguments"===oq&&this.scope.inClassAndNotInNonArrowFunction){this.raise(pq,ba.ArgumentsInClass);return}if(qq&&Za(oq)){this.raise(pq,ba.UnexpectedKeyword,oq);return}const tq=this.state.strict?rq?Ya:Wa:Va;tq(oq,this.inModule)&&this.raise(pq,ba.UnexpectedReservedWord,oq)}isAwaitAllowed(){return!!this.prodParam.hasAwait|| !!this.options.allowAwaitOutsideFunction&&!this.scope.inFunction}parseAwait(uq,vq){const wq=this.startNodeAt(uq,vq);return this.expressionScope.recordParameterInitializerError(wq.start,ba.AwaitExpressionFormalParameter),this.eat(n.star)&&this.raise(wq.start,ba.ObsoleteAwaitStar),this.scope.inFunction||this.options.allowAwaitOutsideFunction||(this.isAmbiguousAwait()?this.ambiguousScriptDifferentAst=!0:this.sawUnambiguousESM=!0),this.state.soloAwait||(wq.argument=this.parseMaybeUnary(null,!0)),this.finishNode(wq,"AwaitExpression")}isAmbiguousAwait(){return this.hasPrecedingLineBreak()||this.match(n.plusMin)||this.match(n.parenL)||this.match(n.bracketL)||this.match(n.backQuote)||this.match(n.regexp)||this.match(n.slash)||this.hasPlugin("v8intrinsic")&&this.match(n.modulo)}parseYield(){const xq=this.startNode();this.expressionScope.recordParameterInitializerError(xq.start,ba.YieldInParameter),this.next();let yq=!1,zq=null;if(!this.hasPrecedingLineBreak())switch(yq=this.eat(n.star),this.state.type){case n.semi:case n.eof:case n.braceR:case n.parenR:case n.bracketR:case n.braceBarR:case n.colon:case n.comma:if(!yq)break;default:zq=this.parseMaybeAssign()}return xq.delegate=yq,xq.argument=zq,this.finishNode(xq,"YieldExpression")}checkPipelineAtInfixOperator(Aq,Bq){"smart"===this.getPluginOption("pipelineOperator","proposal")&&"SequenceExpression"===Aq.type&&this.raise(Bq,ba.PipelineHeadSequenceExpression)}checkHackPipeBodyEarlyErrors(Cq){if(this.match(n.arrow))throw this.raise(this.state.start,ba.PipeBodyIsTighter,n.arrow.label);this.topicReferenceWasUsedInCurrentContext()||this.raise(Cq,ba.PipeTopicUnused)}parseSmartPipelineBodyInStyle(Dq,Eq,Fq){const Gq=this.startNodeAt(Eq,Fq);return this.isSimpleReference(Dq)?(Gq.callee=Dq,this.finishNode(Gq,"PipelineBareFunction")):(this.checkSmartPipeTopicBodyEarlyErrors(Eq),Gq.expression=Dq,this.finishNode(Gq,"PipelineTopicExpression"))}isSimpleReference(Hq){switch(Hq.type){case"MemberExpression":return!Hq.computed&&this.isSimpleReference(Hq.object);case"Identifier":return!0;default:return!1}}checkSmartPipeTopicBodyEarlyErrors(Iq){if(this.match(n.arrow))throw this.raise(this.state.start,ba.PipelineBodyNoArrow);this.topicReferenceWasUsedInCurrentContext()||this.raise(Iq,ba.PipelineTopicUnused)}withTopicBindingContext(Jq){const Kq=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:1,maxTopicIndex:null};try{return Jq()}finally{this.state.topicContext=Kq}}withSmartMixTopicForbiddingContext(Lq){const Mq=this.getPluginOption("pipelineOperator","proposal");if("smart"!==Mq)return Lq();{const Nq=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null};try{return Lq()}finally{this.state.topicContext=Nq}}}withSoloAwaitPermittingContext(Oq){const Pq=this.state.soloAwait;this.state.soloAwait=!0;try{return Oq()}finally{this.state.soloAwait=Pq}}allowInAnd(Qq){const Rq=this.prodParam.currentFlags();if(8& ~Rq){this.prodParam.enter(8|Rq);try{return Qq()}finally{this.prodParam.exit()}}return Qq()}disallowInAnd(Sq){const Tq=this.prodParam.currentFlags();if(8&Tq){this.prodParam.enter(-9&Tq);try{return Sq()}finally{this.prodParam.exit()}}return Sq()}registerTopicReference(){this.state.topicContext.maxTopicIndex=0}topicReferenceIsAllowedInCurrentContext(){return this.state.topicContext.maxNumOfResolvableTopics>=1}topicReferenceWasUsedInCurrentContext(){return null!=this.state.topicContext.maxTopicIndex&&this.state.topicContext.maxTopicIndex>=0}parseFSharpPipelineBody(Uq){const Vq=this.state.start,Wq=this.state.startLoc;this.state.potentialArrowAt=this.state.start;const Xq=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!0;const Yq=this.parseExprOp(this.parseMaybeUnary(),Vq,Wq,Uq);return this.state.inFSharpPipelineDirectBody=Xq,Yq}parseModuleExpression(){this.expectPlugin("moduleBlocks");const Zq=this.startNode();this.next(),this.eat(n.braceL);const $q=this.initializeScopes(!0);this.enterInitialScopes();const _q=this.startNode();try{Zq.body=this.parseProgram(_q,n.braceR,"module")}finally{$q()}return this.eat(n.braceR),this.finishNode(Zq,"ModuleExpression")}}const ar={kind:"loop"},br={kind:"switch"},cr=/[\uD800-\uDFFF]/u,dr=/in(?:stanceof)?/y;class er extends Bj{parseTopLevel(fr,gr){return fr.program=this.parseProgram(gr),fr.comments=this.state.comments,this.options.tokens&&(fr.tokens=(function(a){for(let b=0;b<a.length;b++){const c=a[b];if(c.type===n.privateName){const{loc:d,start:e,value:f,end:g}=c,h=e+1,i=new v(d.start.line,d.start.column+1);a.splice(b,1,new bc({type:n.hash,value:"#",start:e,end:h,startLoc:d.start,endLoc:i}),new bc({type:n.name,value:f,start:h,end:g,startLoc:i,endLoc:d.end}))}}return a})(this.tokens)),this.finishNode(fr,"File")}parseProgram(hr,ir=n.eof,jr=this.options.sourceType){if(hr.sourceType=jr,hr.interpreter=this.parseInterpreterDirective(),this.parseBlockBody(hr,!0,!0,ir),this.inModule&&!this.options.allowUndeclaredExports&&this.scope.undefinedExports.size>0)for(const[kr]of Array.from(this.scope.undefinedExports)){const lr=this.scope.undefinedExports.get(kr);this.raise(lr,ba.ModuleExportUndefined,kr)}return this.finishNode(hr,"Program")}stmtToDirective(mr){const nr=mr;nr.type="Directive",nr.value=nr.expression,delete nr.expression;const or=nr.value,pr=this.input.slice(or.start,or.end),qr=or.value=pr.slice(1,-1);return this.addExtra(or,"raw",pr),this.addExtra(or,"rawValue",qr),or.type="DirectiveLiteral",nr}parseInterpreterDirective(){if(!this.match(n.interpreterDirective))return null;const rr=this.startNode();return rr.value=this.state.value,this.next(),this.finishNode(rr,"InterpreterDirective")}isLet(sr){return!!this.isContextual("let")&&this.isLetKeyword(sr)}isLetKeyword(tr){const ur=this.nextTokenStart(),vr=this.codePointAtPos(ur);if(92===vr||91===vr)return!0;if(tr)return!1;if(123===vr)return!0;if(Pa(vr)){if(dr.lastIndex=ur,dr.test(this.input)){const wr=this.codePointAtPos(dr.lastIndex);if(!Qa(wr)&&92!==wr)return!1}return!0}return!1}parseStatement(xr,yr){return this.match(n.at)&&this.parseDecorators(!0),this.parseStatementContent(xr,yr)}parseStatementContent(zr,Ar){let Br=this.state.type;const Cr=this.startNode();let Dr;switch(this.isLet(zr)&&(Br=n._var,Dr="let"),Br){case n._break:case n._continue:return this.parseBreakContinueStatement(Cr,Br.keyword);case n._debugger:return this.parseDebuggerStatement(Cr);case n._do:return this.parseDoStatement(Cr);case n._for:return this.parseForStatement(Cr);case n._function:if(46===this.lookaheadCharCode())break;return zr&&(this.state.strict?this.raise(this.state.start,ba.StrictFunction):"if"!==zr&&"label"!==zr&&this.raise(this.state.start,ba.SloppyFunction)),this.parseFunctionStatement(Cr,!1,!zr);case n._class:return zr&&this.unexpected(),this.parseClass(Cr,!0);case n._if:return this.parseIfStatement(Cr);case n._return:return this.parseReturnStatement(Cr);case n._switch:return this.parseSwitchStatement(Cr);case n._throw:return this.parseThrowStatement(Cr);case n._try:return this.parseTryStatement(Cr);case n._const:case n._var:return Dr=Dr||this.state.value,zr&&"var"!==Dr&&this.raise(this.state.start,ba.UnexpectedLexicalDeclaration),this.parseVarStatement(Cr,Dr);case n._while:return this.parseWhileStatement(Cr);case n._with:return this.parseWithStatement(Cr);case n.braceL:return this.parseBlock();case n.semi:return this.parseEmptyStatement(Cr);case n._import:{const Er=this.lookaheadCharCode();if(40===Er||46===Er)break}case n._export:{this.options.allowImportExportEverywhere||Ar||this.raise(this.state.start,ba.UnexpectedImportExport),this.next();let Fr;return Br===n._import?"ImportDeclaration"!==(Fr=this.parseImport(Cr)).type||Fr.importKind&&"value"!==Fr.importKind||(this.sawUnambiguousESM=!0):("ExportNamedDeclaration"!==(Fr=this.parseExport(Cr)).type||Fr.exportKind&&"value"!==Fr.exportKind)&&("ExportAllDeclaration"!==Fr.type||Fr.exportKind&&"value"!==Fr.exportKind)&&"ExportDefaultDeclaration"!==Fr.type||(this.sawUnambiguousESM=!0),this.assertModuleNodeAllowed(Cr),Fr}default:if(this.isAsyncFunction())return zr&&this.raise(this.state.start,ba.AsyncFunctionInSingleStatementContext),this.next(),this.parseFunctionStatement(Cr,!0,!zr)}const Gr=this.state.value,Hr=this.parseExpression();return Br===n.name&&"Identifier"===Hr.type&&this.eat(n.colon)?this.parseLabeledStatement(Cr,Gr,Hr,zr):this.parseExpressionStatement(Cr,Hr)}assertModuleNodeAllowed(Ir){this.options.allowImportExportEverywhere||this.inModule||this.raise(Ir.start,ca.ImportOutsideModule)}takeDecorators(Jr){const Kr=this.state.decoratorStack[this.state.decoratorStack.length-1];Kr.length&&(Jr.decorators=Kr,this.resetStartLocationFromNode(Jr,Kr[0]),this.state.decoratorStack[this.state.decoratorStack.length-1]=[])}canHaveLeadingDecorator(){return this.match(n._class)}parseDecorators(Lr){const Mr=this.state.decoratorStack[this.state.decoratorStack.length-1];for(;this.match(n.at);){const Nr=this.parseDecorator();Mr.push(Nr)}if(this.match(n._export))Lr||this.unexpected(),this.hasPlugin("decorators")&&!this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(this.state.start,ba.DecoratorExportClass);else if(!this.canHaveLeadingDecorator())throw this.raise(this.state.start,ba.UnexpectedLeadingDecorator)}parseDecorator(){this.expectOnePlugin(["decorators-legacy","decorators"]);const Or=this.startNode();if(this.next(),this.hasPlugin("decorators")){this.state.decoratorStack.push([]);const Pr=this.state.start,Qr=this.state.startLoc;let Rr;if(this.eat(n.parenL))Rr=this.parseExpression(),this.expect(n.parenR);else for(Rr=this.parseIdentifier(!1);this.eat(n.dot);){const Sr=this.startNodeAt(Pr,Qr);Sr.object=Rr,Sr.property=this.parseIdentifier(!0),Sr.computed=!1,Rr=this.finishNode(Sr,"MemberExpression")}Or.expression=this.parseMaybeDecoratorArguments(Rr),this.state.decoratorStack.pop()}else Or.expression=this.parseExprSubscripts();return this.finishNode(Or,"Decorator")}parseMaybeDecoratorArguments(Tr){if(this.eat(n.parenL)){const Ur=this.startNodeAtNode(Tr);return Ur.callee=Tr,Ur.arguments=this.parseCallExpressionArguments(n.parenR,!1),this.toReferencedList(Ur.arguments),this.finishNode(Ur,"CallExpression")}return Tr}parseBreakContinueStatement(Vr,Wr){return this.next(),this.isLineTerminator()?Vr.label=null:(Vr.label=this.parseIdentifier(),this.semicolon()),this.verifyBreakContinue(Vr,Wr),this.finishNode(Vr,"break"===Wr?"BreakStatement":"ContinueStatement")}verifyBreakContinue(Xr,Yr){const Zr="break"===Yr;let $r;for($r=0;$r<this.state.labels.length;++$r){const _r=this.state.labels[$r];if(null==Xr.label||_r.name===Xr.label.name){if(null!=_r.kind&&(Zr||"loop"===_r.kind))break;if(Xr.label&&Zr)break}}$r===this.state.labels.length&&this.raise(Xr.start,ba.IllegalBreakContinue,Yr)}parseDebuggerStatement(as){return this.next(),this.semicolon(),this.finishNode(as,"DebuggerStatement")}parseHeaderExpression(){this.expect(n.parenL);const bs=this.parseExpression();return this.expect(n.parenR),bs}parseDoStatement(cs){return this.next(),this.state.labels.push(ar),cs.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement("do")),this.state.labels.pop(),this.expect(n._while),cs.test=this.parseHeaderExpression(),this.eat(n.semi),this.finishNode(cs,"DoWhileStatement")}parseForStatement(ds){this.next(),this.state.labels.push(ar);let es=-1;if(this.isAwaitAllowed()&&this.eatContextual("await")&&(es=this.state.lastTokStart),this.scope.enter(0),this.expect(n.parenL),this.match(n.semi))return es> -1&&this.unexpected(es),this.parseFor(ds,null);const fs=this.isContextual("let"),gs=fs&&this.isLetKeyword();if(this.match(n._var)||this.match(n._const)||gs){const hs=this.startNode(),is=gs?"let":this.state.value;return(this.next(),this.parseVar(hs,!0,is),this.finishNode(hs,"VariableDeclaration"),(this.match(n._in)||this.isContextual("of"))&&1===hs.declarations.length)?this.parseForIn(ds,hs,es):(es> -1&&this.unexpected(es),this.parseFor(ds,hs))}const js=this.match(n.name)&&!this.state.containsEsc,ks=new Zg(),ls=this.parseExpression(!0,ks),ms=this.isContextual("of");if(ms&&(fs?this.raise(ls.start,ba.ForOfLet):-1===es&&js&&"Identifier"===ls.type&&"async"===ls.name&&this.raise(ls.start,ba.ForOfAsync)),ms||this.match(n._in)){this.toAssignable(ls,!0);const ns=ms?"for-of statement":"for-in statement";return this.checkLVal(ls,ns),this.parseForIn(ds,ls,es)}return this.checkExpressionErrors(ks,!0),es> -1&&this.unexpected(es),this.parseFor(ds,ls)}parseFunctionStatement(os,ps,qs){return this.next(),this.parseFunction(os,1|(qs?0:2),ps)}parseIfStatement(rs){return this.next(),rs.test=this.parseHeaderExpression(),rs.consequent=this.parseStatement("if"),rs.alternate=this.eat(n._else)?this.parseStatement("if"):null,this.finishNode(rs,"IfStatement")}parseReturnStatement(ss){return this.prodParam.hasReturn||this.options.allowReturnOutsideFunction||this.raise(this.state.start,ba.IllegalReturn),this.next(),this.isLineTerminator()?ss.argument=null:(ss.argument=this.parseExpression(),this.semicolon()),this.finishNode(ss,"ReturnStatement")}parseSwitchStatement(ts){this.next(),ts.discriminant=this.parseHeaderExpression();const us=ts.cases=[];this.expect(n.braceL),this.state.labels.push(br),this.scope.enter(0);let vs;for(let ws;!this.match(n.braceR);)if(this.match(n._case)||this.match(n._default)){const xs=this.match(n._case);vs&&this.finishNode(vs,"SwitchCase"),us.push(vs=this.startNode()),vs.consequent=[],this.next(),xs?vs.test=this.parseExpression():(ws&&this.raise(this.state.lastTokStart,ba.MultipleDefaultsInSwitch),ws=!0,vs.test=null),this.expect(n.colon)}else vs?vs.consequent.push(this.parseStatement(null)):this.unexpected();return this.scope.exit(),vs&&this.finishNode(vs,"SwitchCase"),this.next(),this.state.labels.pop(),this.finishNode(ts,"SwitchStatement")}parseThrowStatement(ys){return this.next(),this.hasPrecedingLineBreak()&&this.raise(this.state.lastTokEnd,ba.NewlineAfterThrow),ys.argument=this.parseExpression(),this.semicolon(),this.finishNode(ys,"ThrowStatement")}parseCatchClauseParam(){const zs=this.parseBindingAtom(),As="Identifier"===zs.type;return this.scope.enter(As?8:0),this.checkLVal(zs,"catch clause",9),zs}parseTryStatement(Bs){if(this.next(),Bs.block=this.parseBlock(),Bs.handler=null,this.match(n._catch)){const Cs=this.startNode();this.next(),this.match(n.parenL)?(this.expect(n.parenL),Cs.param=this.parseCatchClauseParam(),this.expect(n.parenR)):(Cs.param=null,this.scope.enter(0)),Cs.body=this.withSmartMixTopicForbiddingContext(()=>this.parseBlock(!1,!1)),this.scope.exit(),Bs.handler=this.finishNode(Cs,"CatchClause")}return Bs.finalizer=this.eat(n._finally)?this.parseBlock():null,Bs.handler||Bs.finalizer||this.raise(Bs.start,ba.NoCatchOrFinally),this.finishNode(Bs,"TryStatement")}parseVarStatement(Ds,Es){return this.next(),this.parseVar(Ds,!1,Es),this.semicolon(),this.finishNode(Ds,"VariableDeclaration")}parseWhileStatement(Fs){return this.next(),Fs.test=this.parseHeaderExpression(),this.state.labels.push(ar),Fs.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement("while")),this.state.labels.pop(),this.finishNode(Fs,"WhileStatement")}parseWithStatement(Gs){return this.state.strict&&this.raise(this.state.start,ba.StrictWith),this.next(),Gs.object=this.parseHeaderExpression(),Gs.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement("with")),this.finishNode(Gs,"WithStatement")}parseEmptyStatement(Hs){return this.next(),this.finishNode(Hs,"EmptyStatement")}parseLabeledStatement(Is,Js,Ks,Ls){for(const Ms of this.state.labels)Ms.name===Js&&this.raise(Ks.start,ba.LabelRedeclaration,Js);const Ns=this.state.type.isLoop?"loop":this.match(n._switch)?"switch":null;for(let Os=this.state.labels.length-1;Os>=0;Os--){const Ps=this.state.labels[Os];if(Ps.statementStart===Is.start)Ps.statementStart=this.state.start,Ps.kind=Ns;else break}return this.state.labels.push({name:Js,kind:Ns,statementStart:this.state.start}),Is.body=this.parseStatement(Ls?-1===Ls.indexOf("label")?Ls+"label":Ls:"label"),this.state.labels.pop(),Is.label=Ks,this.finishNode(Is,"LabeledStatement")}parseExpressionStatement(Qs,Rs){return Qs.expression=Rs,this.semicolon(),this.finishNode(Qs,"ExpressionStatement")}parseBlock(Ss=!1,Ts=!0,Us){const Vs=this.startNode();return Ss&&this.state.strictErrors.clear(),this.expect(n.braceL),Ts&&this.scope.enter(0),this.parseBlockBody(Vs,Ss,!1,n.braceR,Us),Ts&&this.scope.exit(),this.finishNode(Vs,"BlockStatement")}isValidDirective(Ws){return"ExpressionStatement"===Ws.type&&"StringLiteral"===Ws.expression.type&&!Ws.expression.extra.parenthesized}parseBlockBody(Xs,Ys,Zs,$s,_s){const at=Xs.body=[],bt=Xs.directives=[];this.parseBlockOrModuleBlockBody(at,Ys?bt:void 0,Zs,$s,_s)}parseBlockOrModuleBlockBody(ct,dt,et,ft,gt){const ht=this.state.strict;let it=!1,jt=!1;for(;!this.match(ft);){const kt=this.parseStatement(null,et);if(dt&&!jt){if(this.isValidDirective(kt)){const lt=this.stmtToDirective(kt);dt.push(lt),it||"use strict"!==lt.value.value||(it=!0,this.setStrict(!0));continue}jt=!0,this.state.strictErrors.clear()}ct.push(kt)}gt&&gt.call(this,it),ht||this.setStrict(!1),this.next()}parseFor(mt,nt){return mt.init=nt,this.semicolon(!1),mt.test=this.match(n.semi)?null:this.parseExpression(),this.semicolon(!1),mt.update=this.match(n.parenR)?null:this.parseExpression(),this.expect(n.parenR),mt.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement("for")),this.scope.exit(),this.state.labels.pop(),this.finishNode(mt,"ForStatement")}parseForIn(ot,pt,qt){const rt=this.match(n._in);return this.next(),rt?qt> -1&&this.unexpected(qt):ot.await=qt> -1,"VariableDeclaration"===pt.type&&null!=pt.declarations[0].init&&(!rt||this.state.strict||"var"!==pt.kind||"Identifier"!==pt.declarations[0].id.type)?this.raise(pt.start,ba.ForInOfLoopInitializer,rt?"for-in":"for-of"):"AssignmentPattern"===pt.type&&this.raise(pt.start,ba.InvalidLhs,"for-loop"),ot.left=pt,ot.right=rt?this.parseExpression():this.parseMaybeAssignAllowIn(),this.expect(n.parenR),ot.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement("for")),this.scope.exit(),this.state.labels.pop(),this.finishNode(ot,rt?"ForInStatement":"ForOfStatement")}parseVar(st,tt,ut){const vt=st.declarations=[],wt=this.hasPlugin("typescript");for(st.kind=ut;;){const xt=this.startNode();if(this.parseVarId(xt,ut),this.eat(n.eq)?xt.init=tt?this.parseMaybeAssignDisallowIn():this.parseMaybeAssignAllowIn():("const"!==ut||this.match(n._in)||this.isContextual("of")?"Identifier"===xt.id.type||tt&&(this.match(n._in)||this.isContextual("of"))||this.raise(this.state.lastTokEnd,ba.DeclarationMissingInitializer,"Complex binding patterns"):wt||this.raise(this.state.lastTokEnd,ba.DeclarationMissingInitializer,"Const declarations"),xt.init=null),vt.push(this.finishNode(xt,"VariableDeclarator")),!this.eat(n.comma))break}return st}parseVarId(yt,zt){yt.id=this.parseBindingAtom(),this.checkLVal(yt.id,"variable declaration","var"===zt?5:9,void 0,"var"!==zt)}parseFunction(At,Bt=0,Ct=!1){const Dt=1&Bt,Et=2&Bt;this.initFunction(At,Ct),this.match(n.star)&&Et&&this.raise(this.state.start,ba.GeneratorInSingleStatementContext),At.generator=this.eat(n.star),Dt&&(At.id=this.parseFunctionId(!!Dt&&!(4&Bt)));const Ft=this.state.maybeInArrowParameters;return this.state.maybeInArrowParameters=!1,this.scope.enter(2),this.prodParam.enter(Xf(Ct,At.generator)),Dt||(At.id=this.parseFunctionId()),this.parseFunctionParams(At,!1),this.withSmartMixTopicForbiddingContext(()=>{this.parseFunctionBodyAndFinish(At,Dt?"FunctionDeclaration":"FunctionExpression")}),this.prodParam.exit(),this.scope.exit(),Dt&&!Et&&this.registerFunctionStatementId(At),this.state.maybeInArrowParameters=Ft,At}parseFunctionId(Gt){return Gt||this.match(n.name)?this.parseIdentifier():null}parseFunctionParams(Ht,It){this.expect(n.parenL),this.expressionScope.enter(new tf(3)),Ht.params=this.parseBindingList(n.parenR,41,!1,It),this.expressionScope.exit()}registerFunctionStatementId(Jt){Jt.id&&this.scope.declareName(Jt.id.name,this.state.strict||Jt.generator||Jt.async?this.scope.treatFunctionsAsVar?5:9:17,Jt.id.start)}parseClass(Kt,Lt,Mt){this.next(),this.takeDecorators(Kt);const Nt=this.state.strict;return this.state.strict=!0,this.parseClassId(Kt,Lt,Mt),this.parseClassSuper(Kt),Kt.body=this.parseClassBody(!!Kt.superClass,Nt),this.finishNode(Kt,Lt?"ClassDeclaration":"ClassExpression")}isClassProperty(){return this.match(n.eq)||this.match(n.semi)||this.match(n.braceR)}isClassMethod(){return this.match(n.parenL)}isNonstaticConstructor(Ot){return!Ot.computed&&!Ot.static&&("constructor"===Ot.key.name||"constructor"===Ot.key.value)}parseClassBody(Pt,Qt){this.classScope.enter();const Rt={hadConstructor:!1,hadSuperClass:Pt};let St=[];const Tt=this.startNode();if(Tt.body=[],this.expect(n.braceL),this.withSmartMixTopicForbiddingContext(()=>{for(;!this.match(n.braceR);){if(this.eat(n.semi)){if(St.length>0)throw this.raise(this.state.lastTokEnd,ba.DecoratorSemicolon);continue}if(this.match(n.at)){St.push(this.parseDecorator());continue}const a=this.startNode();St.length&&(a.decorators=St,this.resetStartLocationFromNode(a,St[0]),St=[]),this.parseClassMember(Tt,a,Rt),"constructor"===a.kind&&a.decorators&&a.decorators.length>0&&this.raise(a.start,ba.DecoratorConstructor)}}),this.state.strict=Qt,this.next(),St.length)throw this.raise(this.state.start,ba.TrailingDecorator);return this.classScope.exit(),this.finishNode(Tt,"ClassBody")}parseClassMemberFromModifier(Ut,Vt){const Wt=this.parseIdentifier(!0);if(this.isClassMethod()){const Xt=Vt;return Xt.kind="method",Xt.computed=!1,Xt.key=Wt,Xt.static=!1,this.pushClassMethod(Ut,Xt,!1,!1,!1,!1),!0}if(this.isClassProperty()){const Yt=Vt;return Yt.computed=!1,Yt.key=Wt,Yt.static=!1,Ut.body.push(this.parseClassProperty(Yt)),!0}return this.resetPreviousNodeTrailingComments(Wt),!1}parseClassMember(Zt,$t,_t){const au=this.isContextual("static");if(au){if(this.parseClassMemberFromModifier(Zt,$t))return;if(this.eat(n.braceL)){this.parseClassStaticBlock(Zt,$t);return}}this.parseClassMemberWithIsStatic(Zt,$t,_t,au)}parseClassMemberWithIsStatic(bu,cu,du,eu){const fu=cu,gu=cu,hu=cu,iu=cu,ju=fu,ku=fu;if(cu.static=eu,this.eat(n.star)){ju.kind="method";const lu=this.match(n.privateName);if(this.parseClassElementName(ju),lu){this.pushClassPrivateMethod(bu,gu,!0,!1);return}this.isNonstaticConstructor(fu)&&this.raise(fu.key.start,ba.ConstructorIsGenerator),this.pushClassMethod(bu,fu,!0,!1,!1,!1);return}const mu=this.match(n.name)&&!this.state.containsEsc,nu=this.match(n.privateName),ou=this.parseClassElementName(cu),pu=this.state.start;if(this.parsePostMemberNameModifiers(ku),this.isClassMethod()){if(ju.kind="method",nu){this.pushClassPrivateMethod(bu,gu,!1,!1);return}const qu=this.isNonstaticConstructor(fu);let ru=!1;qu&&(fu.kind="constructor",du.hadConstructor&&!this.hasPlugin("typescript")&&this.raise(ou.start,ba.DuplicateConstructor),qu&&this.hasPlugin("typescript")&&cu.override&&this.raise(ou.start,ba.OverrideOnConstructor),du.hadConstructor=!0,ru=du.hadSuperClass),this.pushClassMethod(bu,fu,!1,!1,qu,ru)}else if(this.isClassProperty())nu?this.pushClassPrivateProperty(bu,iu):this.pushClassProperty(bu,hu);else if(mu&&"async"===ou.name&&!this.isLineTerminator()){this.resetPreviousNodeTrailingComments(ou);const su=this.eat(n.star);ku.optional&&this.unexpected(pu),ju.kind="method";const tu=this.match(n.privateName);this.parseClassElementName(ju),this.parsePostMemberNameModifiers(ku),tu?this.pushClassPrivateMethod(bu,gu,su,!0):(this.isNonstaticConstructor(fu)&&this.raise(fu.key.start,ba.ConstructorIsAsync),this.pushClassMethod(bu,fu,su,!0,!1,!1))}else if(mu&&("get"===ou.name||"set"===ou.name)&&!(this.match(n.star)&&this.isLineTerminator())){this.resetPreviousNodeTrailingComments(ou),ju.kind=ou.name;const uu=this.match(n.privateName);this.parseClassElementName(fu),uu?this.pushClassPrivateMethod(bu,gu,!1,!1):(this.isNonstaticConstructor(fu)&&this.raise(fu.key.start,ba.ConstructorIsAccessor),this.pushClassMethod(bu,fu,!1,!1,!1,!1)),this.checkGetterSetterParams(fu)}else this.isLineTerminator()?nu?this.pushClassPrivateProperty(bu,iu):this.pushClassProperty(bu,hu):this.unexpected()}parseClassElementName(vu){const{type:wu,value:xu,start:yu}=this.state;return(wu===n.name||wu===n.string)&&vu.static&&"prototype"===xu&&this.raise(yu,ba.StaticPrototype),wu===n.privateName&&"constructor"===xu&&this.raise(yu,ba.ConstructorClassPrivateField),this.parsePropertyName(vu,!0)}parseClassStaticBlock(zu,Au){var Bu;this.expectPlugin("classStaticBlock",Au.start),this.scope.enter(208);const Cu=this.state.labels;this.state.labels=[],this.prodParam.enter(0);const Du=Au.body=[];this.parseBlockOrModuleBlockBody(Du,void 0,!1,n.braceR),this.prodParam.exit(),this.scope.exit(),this.state.labels=Cu,zu.body.push(this.finishNode(Au,"StaticBlock")),null!=(Bu=Au.decorators)&&Bu.length&&this.raise(Au.start,ba.DecoratorStaticBlock)}pushClassProperty(Eu,Fu){Fu.computed||"constructor"!==Fu.key.name&&"constructor"!==Fu.key.value||this.raise(Fu.key.start,ba.ConstructorClassField),Eu.body.push(this.parseClassProperty(Fu))}pushClassPrivateProperty(Gu,Hu){const Iu=this.parseClassPrivateProperty(Hu);Gu.body.push(Iu),this.classScope.declarePrivateName(this.getPrivateNameSV(Iu.key),0,Iu.key.start)}pushClassMethod(Ju,Ku,Lu,Mu,Nu,Ou){Ju.body.push(this.parseMethod(Ku,Lu,Mu,Nu,Ou,"ClassMethod",!0))}pushClassPrivateMethod(Pu,Qu,Ru,Su){const Tu=this.parseMethod(Qu,Ru,Su,!1,!1,"ClassPrivateMethod",!0);Pu.body.push(Tu);const Uu="get"===Tu.kind?Tu.static?6:2:"set"===Tu.kind?Tu.static?5:1:0;this.classScope.declarePrivateName(this.getPrivateNameSV(Tu.key),Uu,Tu.key.start)}parsePostMemberNameModifiers(Vu){}parseClassPrivateProperty(Wu){return this.parseInitializer(Wu),this.semicolon(),this.finishNode(Wu,"ClassPrivateProperty")}parseClassProperty(Xu){return this.parseInitializer(Xu),this.semicolon(),this.finishNode(Xu,"ClassProperty")}parseInitializer(Yu){this.scope.enter(80),this.expressionScope.enter(Uf()),this.prodParam.enter(0),Yu.value=this.eat(n.eq)?this.parseMaybeAssignAllowIn():null,this.expressionScope.exit(),this.prodParam.exit(),this.scope.exit()}parseClassId(Zu,$u,_u,av=139){this.match(n.name)?(Zu.id=this.parseIdentifier(),$u&&this.checkLVal(Zu.id,"class name",av)):_u||!$u?Zu.id=null:this.unexpected(null,ba.MissingClassName)}parseClassSuper(bv){bv.superClass=this.eat(n._extends)?this.parseExprSubscripts():null}parseExport(cv){const dv=this.maybeParseExportDefaultSpecifier(cv),ev=!dv||this.eat(n.comma),fv=ev&&this.eatExportStar(cv),gv=fv&&this.maybeParseExportNamespaceSpecifier(cv),hv=ev&&(!gv||this.eat(n.comma)),iv=dv||fv;if(fv&&!gv)return dv&&this.unexpected(),this.parseExportFrom(cv,!0),this.finishNode(cv,"ExportAllDeclaration");const jv=this.maybeParseExportNamedSpecifiers(cv);if(dv&&ev&&!fv&&!jv||gv&&hv&&!jv)throw this.unexpected(null,n.braceL);let kv;if(iv||jv?(kv=!1,this.parseExportFrom(cv,iv)):kv=this.maybeParseExportDeclaration(cv),iv||jv||kv)return this.checkExport(cv,!0,!1,!!cv.source),this.finishNode(cv,"ExportNamedDeclaration");if(this.eat(n._default))return cv.declaration=this.parseExportDefaultExpression(),this.checkExport(cv,!0,!0),this.finishNode(cv,"ExportDefaultDeclaration");throw this.unexpected(null,n.braceL)}eatExportStar(lv){return this.eat(n.star)}maybeParseExportDefaultSpecifier(mv){if(this.isExportDefaultSpecifier()){this.expectPlugin("exportDefaultFrom");const nv=this.startNode();return nv.exported=this.parseIdentifier(!0),mv.specifiers=[this.finishNode(nv,"ExportDefaultSpecifier")],!0}return!1}maybeParseExportNamespaceSpecifier(ov){if(this.isContextual("as")){ov.specifiers||(ov.specifiers=[]);const pv=this.startNodeAt(this.state.lastTokStart,this.state.lastTokStartLoc);return this.next(),pv.exported=this.parseModuleExportName(),ov.specifiers.push(this.finishNode(pv,"ExportNamespaceSpecifier")),!0}return!1}maybeParseExportNamedSpecifiers(qv){return!!this.match(n.braceL)&&(qv.specifiers||(qv.specifiers=[]),qv.specifiers.push(...this.parseExportSpecifiers()),qv.source=null,qv.declaration=null,!0)}maybeParseExportDeclaration(rv){return!!this.shouldParseExportDeclaration()&&(rv.specifiers=[],rv.source=null,rv.declaration=this.parseExportDeclaration(rv),!0)}isAsyncFunction(){if(!this.isContextual("async"))return!1;const sv=this.nextTokenStart();return!o.test(this.input.slice(this.state.pos,sv))&&this.isUnparsedContextual(sv,"function")}parseExportDefaultExpression(){const tv=this.startNode(),uv=this.isAsyncFunction();if(this.match(n._function)||uv)return this.next(),uv&&this.next(),this.parseFunction(tv,5,uv);if(this.match(n._class))return this.parseClass(tv,!0,!0);if(this.match(n.at))return this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(this.state.start,ba.DecoratorBeforeExport),this.parseDecorators(!1),this.parseClass(tv,!0,!0);if(this.match(n._const)||this.match(n._var)||this.isLet())throw this.raise(this.state.start,ba.UnsupportedDefaultExport);{const vv=this.parseMaybeAssignAllowIn();return this.semicolon(),vv}}parseExportDeclaration(wv){return this.parseStatement(null)}isExportDefaultSpecifier(){if(this.match(n.name)){const xv=this.state.value;if("async"===xv&&!this.state.containsEsc||"let"===xv)return!1;if(("type"===xv||"interface"===xv)&&!this.state.containsEsc){const yv=this.lookahead();if(yv.type===n.name&&"from"!==yv.value||yv.type===n.braceL)return this.expectOnePlugin(["flow","typescript"]),!1}}else if(!this.match(n._default))return!1;const zv=this.nextTokenStart(),Av=this.isUnparsedContextual(zv,"from");if(44===this.input.charCodeAt(zv)||this.match(n.name)&&Av)return!0;if(this.match(n._default)&&Av){const Bv=this.input.charCodeAt(this.nextTokenStartSince(zv+4));return 34===Bv||39===Bv}return!1}parseExportFrom(Cv,Dv){if(this.eatContextual("from")){Cv.source=this.parseImportSource(),this.checkExport(Cv);const Ev=this.maybeParseImportAssertions();Ev&&(Cv.assertions=Ev)}else Dv?this.unexpected():Cv.source=null;this.semicolon()}shouldParseExportDeclaration(){if(this.match(n.at)&&(this.expectOnePlugin(["decorators","decorators-legacy"]),this.hasPlugin("decorators"))){if(!this.getPluginOption("decorators","decoratorsBeforeExport"))return!0;this.unexpected(this.state.start,ba.DecoratorBeforeExport)}return"var"===this.state.type.keyword||"const"===this.state.type.keyword||"function"===this.state.type.keyword||"class"===this.state.type.keyword||this.isLet()||this.isAsyncFunction()}checkExport(Fv,Gv,Hv,Iv){if(Gv){if(Hv){if(this.checkDuplicateExports(Fv,"default"),this.hasPlugin("exportDefaultFrom")){var Jv;const Kv=Fv.declaration;"Identifier"!==Kv.type||"from"!==Kv.name||Kv.end-Kv.start!=4||null!=(Jv=Kv.extra)&&Jv.parenthesized||this.raise(Kv.start,ba.ExportDefaultFromAsIdentifier)}}else if(Fv.specifiers&&Fv.specifiers.length)for(const Lv of Fv.specifiers){const{exported:Mv}=Lv,Nv="Identifier"===Mv.type?Mv.name:Mv.value;if(this.checkDuplicateExports(Lv,Nv),!Iv&&Lv.local){const{local:Ov}=Lv;"Identifier"!==Ov.type?this.raise(Lv.start,ba.ExportBindingIsString,Ov.value,Nv):(this.checkReservedWord(Ov.name,Ov.start,!0,!1),this.scope.checkLocalExport(Ov))}}else if(Fv.declaration){if("FunctionDeclaration"===Fv.declaration.type||"ClassDeclaration"===Fv.declaration.type){const Pv=Fv.declaration.id;if(!Pv)throw new Error("Assertion failure");this.checkDuplicateExports(Fv,Pv.name)}else if("VariableDeclaration"===Fv.declaration.type)for(const Qv of Fv.declaration.declarations)this.checkDeclaration(Qv.id)}}const Rv=this.state.decoratorStack[this.state.decoratorStack.length-1];if(Rv.length)throw this.raise(Fv.start,ba.UnsupportedDecoratorExport)}checkDeclaration(Sv){if("Identifier"===Sv.type)this.checkDuplicateExports(Sv,Sv.name);else if("ObjectPattern"===Sv.type)for(const Tv of Sv.properties)this.checkDeclaration(Tv);else if("ArrayPattern"===Sv.type)for(const Uv of Sv.elements)Uv&&this.checkDeclaration(Uv);else"ObjectProperty"===Sv.type?this.checkDeclaration(Sv.value):"RestElement"===Sv.type?this.checkDeclaration(Sv.argument):"AssignmentPattern"===Sv.type&&this.checkDeclaration(Sv.left)}checkDuplicateExports(Vv,Wv){this.exportedIdentifiers.has(Wv)&&this.raise(Vv.start,"default"===Wv?ba.DuplicateDefaultExport:ba.DuplicateExport,Wv),this.exportedIdentifiers.add(Wv)}parseExportSpecifiers(){const Xv=[];let Yv=!0;for(this.expect(n.braceL);!this.eat(n.braceR);){if(Yv)Yv=!1;else if(this.expect(n.comma),this.eat(n.braceR))break;const Zv=this.startNode(),$v=this.match(n.string),_v=this.parseModuleExportName();Zv.local=_v,this.eatContextual("as")?Zv.exported=this.parseModuleExportName():$v?Zv.exported=eh(_v):Zv.exported=dh(_v),Xv.push(this.finishNode(Zv,"ExportSpecifier"))}return Xv}parseModuleExportName(){if(this.match(n.string)){const aw=this.parseStringLiteral(this.state.value),bw=aw.value.match(cr);return bw&&this.raise(aw.start,ba.ModuleExportNameHasLoneSurrogate,bw[0].charCodeAt(0).toString(16)),aw}return this.parseIdentifier(!0)}parseImport(cw){if(cw.specifiers=[],!this.match(n.string)){const dw=this.maybeParseDefaultImportSpecifier(cw),ew=!dw||this.eat(n.comma),fw=ew&&this.maybeParseStarImportSpecifier(cw);ew&&!fw&&this.parseNamedImportSpecifiers(cw),this.expectContextual("from")}cw.source=this.parseImportSource();const gw=this.maybeParseImportAssertions();if(gw)cw.assertions=gw;else{const hw=this.maybeParseModuleAttributes();hw&&(cw.attributes=hw)}return this.semicolon(),this.finishNode(cw,"ImportDeclaration")}parseImportSource(){return this.match(n.string)||this.unexpected(),this.parseExprAtom()}shouldParseDefaultImport(iw){return this.match(n.name)}parseImportSpecifierLocal(jw,kw,lw,mw){kw.local=this.parseIdentifier(),this.checkLVal(kw.local,mw,9),jw.specifiers.push(this.finishNode(kw,lw))}parseAssertEntries(){const nw=[],ow=new Set();do{if(this.match(n.braceR))break;const pw=this.startNode(),qw=this.state.value;if(ow.has(qw)&&this.raise(this.state.start,ba.ModuleAttributesWithDuplicateKeys,qw),ow.add(qw),this.match(n.string)?pw.key=this.parseStringLiteral(qw):pw.key=this.parseIdentifier(!0),this.expect(n.colon),!this.match(n.string))throw this.unexpected(this.state.start,ba.ModuleAttributeInvalidValue);pw.value=this.parseStringLiteral(this.state.value),this.finishNode(pw,"ImportAttribute"),nw.push(pw)}while(this.eat(n.comma));return nw}maybeParseModuleAttributes(){if(!this.match(n._with)||this.hasPrecedingLineBreak())return this.hasPlugin("moduleAttributes")?[]:null;this.expectPlugin("moduleAttributes"),this.next();const rw=[],sw=new Set();do{const tw=this.startNode();if(tw.key=this.parseIdentifier(!0),"type"!==tw.key.name&&this.raise(tw.key.start,ba.ModuleAttributeDifferentFromType,tw.key.name),sw.has(tw.key.name)&&this.raise(tw.key.start,ba.ModuleAttributesWithDuplicateKeys,tw.key.name),sw.add(tw.key.name),this.expect(n.colon),!this.match(n.string))throw this.unexpected(this.state.start,ba.ModuleAttributeInvalidValue);tw.value=this.parseStringLiteral(this.state.value),this.finishNode(tw,"ImportAttribute"),rw.push(tw)}while(this.eat(n.comma));return rw}maybeParseImportAssertions(){if(!this.isContextual("assert")||this.hasPrecedingLineBreak())return this.hasPlugin("importAssertions")?[]:null;this.expectPlugin("importAssertions"),this.next(),this.eat(n.braceL);const uw=this.parseAssertEntries();return this.eat(n.braceR),uw}maybeParseDefaultImportSpecifier(vw){return!!this.shouldParseDefaultImport(vw)&&(this.parseImportSpecifierLocal(vw,this.startNode(),"ImportDefaultSpecifier","default import specifier"),!0)}maybeParseStarImportSpecifier(ww){if(this.match(n.star)){const xw=this.startNode();return this.next(),this.expectContextual("as"),this.parseImportSpecifierLocal(ww,xw,"ImportNamespaceSpecifier","import namespace specifier"),!0}return!1}parseNamedImportSpecifiers(yw){let zw=!0;for(this.expect(n.braceL);!this.eat(n.braceR);){if(zw)zw=!1;else{if(this.eat(n.colon))throw this.raise(this.state.start,ba.DestructureNamedImport);if(this.expect(n.comma),this.eat(n.braceR))break}this.parseImportSpecifier(yw)}}parseImportSpecifier(Aw){const Bw=this.startNode(),Cw=this.match(n.string);if(Bw.imported=this.parseModuleExportName(),this.eatContextual("as"))Bw.local=this.parseIdentifier();else{const{imported:Dw}=Bw;if(Cw)throw this.raise(Bw.start,ba.ImportBindingIsString,Dw.value);this.checkReservedWord(Dw.name,Bw.start,!0,!0),Bw.local=dh(Dw)}this.checkLVal(Bw.local,"import specifier",9),Aw.specifiers.push(this.finishNode(Bw,"ImportSpecifier"))}isThisParam(Ew){return"Identifier"===Ew.type&&"this"===Ew.name}}class Fw extends er{constructor(Gw,Hw){super(Gw=function(a){const b={};for(const c of Object.keys(ji))b[c]=a&&null!=a[c]?a[c]:ji[c];return b}(Gw),Hw),this.options=Gw,this.initializeScopes(),this.plugins=(function(a){const b=new Map();for(const c of a){const[d,e]=Array.isArray(c)?c:[c,{}];b.has(d)||b.set(d,e||{})}return b})(this.options.plugins),this.filename=Gw.sourceFilename}getScopeHandler(){return bb}parse(){this.enterInitialScopes();const Iw=this.startNode(),Jw=this.startNode();return this.nextToken(),Iw.errors=null,this.parseTopLevel(Iw,Jw),Iw.errors=this.state.errors,Iw}}function Kw(a,b){let c=Fw;return null!=a&&a.plugins&&((function(a){if(ci(a,"decorators")){if(ci(a,"decorators-legacy"))throw new Error("Cannot use the decorators and decorators-legacy plugin together");const b=di(a,"decorators","decoratorsBeforeExport");if(null==b)throw new Error("The 'decorators' plugin requires a 'decoratorsBeforeExport' option, whose value must be a boolean. If you are migrating from Babylon/Babel 6 or want to use the old decorators proposal, you should use the 'decorators-legacy' plugin instead of 'decorators'.");if("boolean"!=typeof b)throw new Error("'decoratorsBeforeExport' must be a boolean.")}if(ci(a,"flow")&&ci(a,"typescript"))throw new Error("Cannot combine flow and typescript plugins.");if(ci(a,"placeholders")&&ci(a,"v8intrinsic"))throw new Error("Cannot combine placeholders and v8intrinsic plugins.");if(ci(a,"pipelineOperator")){const c=di(a,"pipelineOperator","proposal");if(!ei.includes(c)){const d=ei.map(a=>`"${a}"`).join(", ");throw new Error(`"pipelineOperator" requires "proposal" option whose value must be one of: ${d}.`)}const e=ci(a,"recordAndTuple")&&"hash"===di(a,"recordAndTuple","syntaxType");if("hack"===c){if(ci(a,"placeholders"))throw new Error("Cannot combine placeholders plugin and Hack-style pipes.");if(ci(a,"v8intrinsic"))throw new Error("Cannot combine v8intrinsic plugin and Hack-style pipes.");const f=di(a,"pipelineOperator","topicToken");if(!fi.includes(f)){const g=fi.map(a=>`"${a}"`).join(", ");throw new Error(`"pipelineOperator" in "proposal": "hack" mode also requires a "topicToken" option whose value must be one of: ${g}.`)}if("#"===f&&e)throw new Error("Plugin conflict between `[\"pipelineOperator\", { proposal: \"hack\", topicToken: \"#\" }]` and `[\"recordAndtuple\", { syntaxType: \"hash\"}]`.")}else if("smart"===c&&e)throw new Error("Plugin conflict between `[\"pipelineOperator\", { proposal: \"smart\" }]` and `[\"recordAndtuple\", { syntaxType: \"hash\"}]`.")}if(ci(a,"moduleAttributes")){if(ci(a,"importAssertions"))throw new Error("Cannot combine importAssertions and moduleAttributes plugins.");const h=di(a,"moduleAttributes","version");if("may-2020"!==h)throw new Error("The 'moduleAttributes' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is 'may-2020'.")}if(ci(a,"recordAndTuple")&&!gi.includes(di(a,"recordAndTuple","syntaxType")))throw new Error("'recordAndTuple' requires 'syntaxType' option whose value should be one of: "+gi.map(a=>`'${a}'`).join(", "));if(ci(a,"asyncDoExpressions")&&!ci(a,"doExpressions")){const i=new Error("'asyncDoExpressions' requires 'doExpressions', please add 'doExpressions' to parser plugins.");throw i.missingPlugins="doExpressions",i}})(a.plugins),c=Mw(a.plugins)),new c(a,b)}const Lw={};function Mw(a){const b=ii.filter(b=>ci(a,b)),c=b.join("/");let d=Lw[c];if(!d){for(const e of(d=Fw,b))d=hi[e](d);Lw[c]=d}return d}b.parse=function(a,b){var c;if((null==(c=b)?void 0:c.sourceType)!=="unambiguous")return Kw(b,a).parse();b=Object.assign({},b);try{b.sourceType="module";const d=Kw(b,a),e=d.parse();if(d.sawUnambiguousESM)return e;if(d.ambiguousScriptDifferentAst)try{return b.sourceType="script",Kw(b,a).parse()}catch(f){}else e.program.sourceType="script";return e}catch(g){try{return b.sourceType="script",Kw(b,a).parse()}catch(h){}throw g}},b.parseExpression=function(a,b){const c=Kw(b,a);return c.options.strictMode&&(c.state.strict=!0),c.getExpression()},b.tokTypes=n}}])