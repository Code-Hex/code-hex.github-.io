<!DOCTYPE html><html lang="ja"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8097329174824434" crossorigin="anonymous"></script><link rel="preload" href="/_next/static/css/cb05f45700160405.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cb05f45700160405.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-fecce247ebec0a1a.js" defer=""></script><script src="/_next/static/chunks/framework-0ba0ddd33199226d.js" defer=""></script><script src="/_next/static/chunks/main-3e1f83e356353203.js" defer=""></script><script src="/_next/static/chunks/pages/_app-29c235e094f245c1.js" defer=""></script><script src="/_next/static/chunks/186-81857d9b3c3c717c.js" defer=""></script><script src="/_next/static/chunks/55-8174b7f62ba27649.js" defer=""></script><script src="/_next/static/chunks/327-407bbdfad760cb5f.js" defer=""></script><script src="/_next/static/chunks/123-b48f722f5fb3e0b1.js" defer=""></script><script src="/_next/static/chunks/pages/note/tags/%5Btag%5D-2ec7fade4c708c18.js" defer=""></script><script src="/_next/static/d3f8ba3332610b55217f7802de0371966a505fe6/_buildManifest.js" defer=""></script><script src="/_next/static/d3f8ba3332610b55217f7802de0371966a505fe6/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="w-full mx-auto antialiased max-w-3xl xl:max-w-5xl"><div class="mx-8 sm:mx-10 md:mx-12 py-10"><main role="main" class="divide-y divide-gray-200"><div class="py-4"><h1 class="text-4xl tracking-tight font-extrabold text-gray-900"># typescript</h1><p class="mt-3 text-xl text-gray-500 sm:mt-4"><span class="text-pink-600">1</span> posts in<!-- --> <span class="font-bold text-black"># <!-- -->typescript</span></p></div><div aria-label="preview" class="mx-auto"><ul class="divide-y divide-gray-200"><li class="py-4"><div class="mb-4 pt-4"><div class="flex flex-col space-y-8"><div class="flex flex-col space-y-1"><div class="pt-1.5 flex justify-between items-center"><a role="link" href="/note/cloudflare_workers_global/"><h2 class="text-2xl sm:text-3xl font-bold text-gray-900">Cloudflare Workers で使えるグローバル変数を一覧する</h2></a></div><div class="text-sm sm:text-base whitespace-nowrap text-gray-500"><div class="sr-only">Published on</div><time dateTime="2022-07-06">July 06, 2022<!-- --> (<!-- -->a month ago<!-- -->)</time></div><div aria-label="タグ一覧" class="flex flex-wrap gap-2"><a role="link" class="w-max inline-flex rounded-sm bg-blue-100 hover:bg-blue-600 px-2 py-0.5 text-sm" href="/note/tags/cloudflare/"><span class="font-medium text-blue-700 hover:text-white"># <!-- -->cloudflare</span></a><a role="link" class="w-max inline-flex rounded-sm bg-blue-100 hover:bg-blue-600 px-2 py-0.5 text-sm" href="/note/tags/typescript/"><span class="font-medium text-blue-700 hover:text-white"># <!-- -->typescript</span></a></div></div><div class="flex flex-col space-y-6"><div class="prose sm:prose-sm md:prose-md"><p>Cloudflare Workers では <strong>Module Worker Syntax</strong> と <strong>Service Worker Syntax</strong> の２つの記述方式が存在している。
Service Worker Syntax を利用している場合、環境変数はすべてグローバル変数として利用可能になる。</p>
<p>この方法はデバッグ目的とかで使える多分便利な技である。</p>
<pre><code class="language-ts">addEventListener(&#x27;fetch&#x27;, (event: FetchEvent) =&gt; {
  // @ts-ignore
  console.log({ ...global })
  event.respondWith(new Response(&quot;Hello, World!!&quot;))
})
</code></pre>
<p>コードを読んで分かる通り、グローバルで扱えるものすべて <code>global</code> 変数に格納されている。これは <code>@cloudflare/workers-types</code> にも定義されていないため <code>@ts-ignore</code> する必要がある。</p>
<p>実行した結果はこんな感じになる。</p></div><div class="flex text-base font-medium"><a role="link" class="text-teal-600 hover:text-teal-700" aria-label="Cloudflare Workers で使えるグローバル変数を一覧するの続きを読む" href="/note/cloudflare_workers_global/">Read more →</a></div></div></div></div></li><li class="py-4"></li></ul></div></main></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"itemLinks":["/note/cloudflare_workers_global"],"tag":"typescript"},"__N_SSG":true},"page":"/note/tags/[tag]","query":{"tag":"typescript"},"buildId":"d3f8ba3332610b55217f7802de0371966a505fe6","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>